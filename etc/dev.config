%% -*- mode: erlang; erlang-indent-level: 4; indent-tabs-mode: nil -*-
%% ex: ts=4 sw=4 ft=erlang et
[
 {wocky,
  [
   {start_ejabberd, false},
   {host, "localhost"},
   {wocky_db_seestar,
    [
     %% Optional common username/password
     {auth, {seestar_password_auth, {<<"cassandra">>, <<"cassandra">>}}},
     {keyspaces,
      [
       {host, [{keyspace, "wocky_%h"}]},
       {shared, [{keyspace, "wocky_shared"}]}
      ]}
    ]}
  ]},

 {kernel, [{start_pg2, true}]},

 {sasl, [
         {sasl_error_logger, false},
         {errlog_type, error},
         {error_logger_mf_dir, "log/sasl"},
         {error_logger_mf_maxbytes, 10485760},
         {error_logger_mf_maxfiles, 10}
        ]},

 {lager, [
          {log_root, "log"},
          {crash_log, "crash.log"},
          {handlers,
           [
            {lager_console_backend, [info, {lager_default_formatter,[{eol, "\r\n"}]}]},
            {lager_file_backend, [{file, "ejabberd.log"},
                                  {level, info},
                                  {size, 2097152},
                                  {date, "$D0"},
                                  {count, 5}]}
           ]}
         ]}

 %% {pooler, [{metrics_module, folsom_metrics}]}

 %% {exometer,
 %%  [
 %%   {wocky_report_interval, 60000}, %% 60 seconds
 %%   {report,
 %%    [
 %%     {reporters,
 %%      [
 %%       {exometer_report_graphite,
 %%        [
 %%         {prefix, "wocky"},
 %%         {connect_timeout, 5000},
 %%         {host, "127.0.0.1"},
 %%         {port, 2003},
 %%         {api_key, ""}
 %%        ]}
 %%      ]}
 %%    ]}
 %%  ]}
].
