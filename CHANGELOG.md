# Changelog

## [2020.3.18+r0dc0c6b](https://github.com/hippware/wocky/tree/2020.3.18+r0dc0c6b) (2020-03-18)

[Full Changelog](https://github.com/hippware/wocky/compare/us1-deployed...2020.3.18+r0dc0c6b)

**Closed issues:**

- mutation userFullAudit always returns result is true [\#3163](https://github.com/hippware/wocky/issues/3163)

**Merged pull requests:**

- Dialyzer fixes [\#3175](https://github.com/hippware/wocky/pull/3175) ([toland](https://github.com/toland))
- Enable StrictModuleLayout check in Credo [\#3174](https://github.com/hippware/wocky/pull/3174) ([toland](https://github.com/toland))
- Bump phoenix from 1.4.15 to 1.4.16 [\#3173](https://github.com/hippware/wocky/pull/3173) ([dependabot-preview[bot]](https://github.com/apps/dependabot-preview))
- Bump honeybadger from 0.13.1 to 0.14.0 [\#3172](https://github.com/hippware/wocky/pull/3172) ([dependabot-preview[bot]](https://github.com/apps/dependabot-preview))
- Bump credo\_naming from 0.4.1 to 0.5.0 [\#3170](https://github.com/hippware/wocky/pull/3170) ([dependabot-preview[bot]](https://github.com/apps/dependabot-preview))
- Bump absinthe\_error\_payload from 1.0.1 to 1.1.1 [\#3169](https://github.com/hippware/wocky/pull/3169) ([dependabot-preview[bot]](https://github.com/apps/dependabot-preview))
- Update Dialyxir to version 1.0.0 [\#3168](https://github.com/hippware/wocky/pull/3168) ([toland](https://github.com/toland))
- Add MixAudit to audit for security vulnerabilities [\#3166](https://github.com/hippware/wocky/pull/3166) ([toland](https://github.com/toland))
- Include nearby shares only if the user is nearby [\#3165](https://github.com/hippware/wocky/pull/3165) ([toland](https://github.com/toland))
- Notify both users of nearby sharing start/end [\#3162](https://github.com/hippware/wocky/pull/3162) ([toland](https://github.com/toland))
- Alert importer service [\#3159](https://github.com/hippware/wocky/pull/3159) ([toland](https://github.com/toland))
- Deploy updates [\#3152](https://github.com/hippware/wocky/pull/3152) ([bernardd](https://github.com/bernardd))
- Bump credo from 1.2.3 to 1.3.0 [\#3150](https://github.com/hippware/wocky/pull/3150) ([dependabot-preview[bot]](https://github.com/apps/dependabot-preview))

## [2020.3.10+r62472aa](https://github.com/hippware/wocky/tree/2020.3.10+r62472aa) (2020-03-10)

[Full Changelog](https://github.com/hippware/wocky/compare/2020.2.26+re248f22...2020.3.10+r62472aa)

**Closed issues:**

- Expose debug flag on current user [\#3141](https://github.com/hippware/wocky/issues/3141)

**Merged pull requests:**

- Bump phoenix from 1.4.14 to 1.4.15 [\#3151](https://github.com/hippware/wocky/pull/3151) ([dependabot-preview[bot]](https://github.com/apps/dependabot-preview))

## [2020.2.26+re248f22](https://github.com/hippware/wocky/tree/2020.2.26+re248f22) (2020-03-04)

[Full Changelog](https://github.com/hippware/wocky/compare/2020.3.4+rc1a326f...2020.2.26+re248f22)

## [2020.3.4+rc1a326f](https://github.com/hippware/wocky/tree/2020.3.4+rc1a326f) (2020-03-04)

[Full Changelog](https://github.com/hippware/wocky/compare/2020.2.21+rdb31d30...2020.3.4+rc1a326f)

**Fixed bugs:**

- Old notifications are missing required share\_type [\#3122](https://github.com/hippware/wocky/issues/3122)

**Closed issues:**

- Allow client to en/disable auditing for the current user [\#3138](https://github.com/hippware/wocky/issues/3138)
- This operation requires an authenticated user [\#3133](https://github.com/hippware/wocky/issues/3133)
- Please disable 'location request' silent push notification when watcher becomes online [\#3131](https://github.com/hippware/wocky/issues/3131)
- Only send 1 push notification when users connect [\#3129](https://github.com/hippware/wocky/issues/3129)
- \[Wocky/us1\] Postgrex.Error: FATAL 57P03 \(cannot\_connect\_now\) the database system is starting up [\#3128](https://github.com/hippware/wocky/issues/3128)
- \[Wocky/us1\] DBConnection.ConnectionError: connection not available and request was dropped from queue after 2612ms. This means requests are coming in and your connection pool cannot serve them fast enough. You can address this by: [\#3127](https://github.com/hippware/wocky/issues/3127)
- \[Wocky/us1\] DBConnection.ConnectionError: connection not available and request was dropped from queue after 2612ms. This means requests are coming in and your connection pool cannot serve them fast enough. You can address this by: [\#3126](https://github.com/hippware/wocky/issues/3126)
- \[Wocky/staging\] ArgumentError: argument error [\#3124](https://github.com/hippware/wocky/issues/3124)
- Update the app for Pigeon 1.5 [\#3119](https://github.com/hippware/wocky/issues/3119)
- Automate deployment to production [\#3076](https://github.com/hippware/wocky/issues/3076)

**Merged pull requests:**

- Safety alerts database table [\#3147](https://github.com/hippware/wocky/pull/3147) ([toland](https://github.com/toland))
- Bump bcrypt\_elixir from 2.1.0 to 2.2.0 [\#3145](https://github.com/hippware/wocky/pull/3145) ([dependabot-preview[bot]](https://github.com/apps/dependabot-preview))
- Bump credo from 1.2.2 to 1.2.3 [\#3144](https://github.com/hippware/wocky/pull/3144) ([dependabot-preview[bot]](https://github.com/apps/dependabot-preview))
- Bump gen\_stage from 0.14.3 to 1.0.0 [\#3143](https://github.com/hippware/wocky/pull/3143) ([dependabot-preview[bot]](https://github.com/apps/dependabot-preview))
- Add query for user audit setting [\#3142](https://github.com/hippware/wocky/pull/3142) ([toland](https://github.com/toland))
- Dependabot/hex/master/pigeon 1.5.0 [\#3140](https://github.com/hippware/wocky/pull/3140) ([bernardd](https://github.com/bernardd))
- Dependabot/hex/master/pigeon 1.5.0 [\#3139](https://github.com/hippware/wocky/pull/3139) ([bernardd](https://github.com/bernardd))
- Add mutation to enable/disable auditing [\#3137](https://github.com/hippware/wocky/pull/3137) ([bernardd](https://github.com/bernardd))
- Bump rexbug from 1.0.3 to 1.0.4 [\#3136](https://github.com/hippware/wocky/pull/3136) ([dependabot-preview[bot]](https://github.com/apps/dependabot-preview))
- Bump phoenix from 1.4.13 to 1.4.14 [\#3135](https://github.com/hippware/wocky/pull/3135) ([dependabot-preview[bot]](https://github.com/apps/dependabot-preview))
- Bump ex\_aws from 2.1.1 to 2.1.2 [\#3134](https://github.com/hippware/wocky/pull/3134) ([dependabot-preview[bot]](https://github.com/apps/dependabot-preview))
- Add option to disable location update request on watcher connection, â€¦ [\#3132](https://github.com/hippware/wocky/pull/3132) ([bernardd](https://github.com/bernardd))
- Suppress location share push on befriending [\#3130](https://github.com/hippware/wocky/pull/3130) ([bernardd](https://github.com/bernardd))
- Bump pigeon from 1.4.0 to 1.5.0 [\#3112](https://github.com/hippware/wocky/pull/3112) ([dependabot-preview[bot]](https://github.com/apps/dependabot-preview))

## [2020.2.21+rdb31d30](https://github.com/hippware/wocky/tree/2020.2.21+rdb31d30) (2020-02-21)

[Full Changelog](https://github.com/hippware/wocky/compare/2020.2.19+re7742f8...2020.2.21+rdb31d30)

**Fixed bugs:**

- Generating an SDL or JSON schema doesn't work [\#3050](https://github.com/hippware/wocky/issues/3050)

**Closed issues:**

- Automate tagging releases [\#3075](https://github.com/hippware/wocky/issues/3075)
- Automate management of the changelog [\#3058](https://github.com/hippware/wocky/issues/3058)
- Community News feature prototype [\#3057](https://github.com/hippware/wocky/issues/3057)

**Merged pull requests:**

- Fix old notifications that require a share type [\#3123](https://github.com/hippware/wocky/pull/3123) ([toland](https://github.com/toland))
- Use github\_changelog\_generator for changelog [\#3121](https://github.com/hippware/wocky/pull/3121) ([bernardd](https://github.com/bernardd))
- Add share type arg to userInviteMakeUrl [\#3120](https://github.com/hippware/wocky/pull/3120) ([bernardd](https://github.com/bernardd))
- Bump cors\_plug from 2.0.1 to 2.0.2 [\#3118](https://github.com/hippware/wocky/pull/3118) ([dependabot-preview[bot]](https://github.com/apps/dependabot-preview))
- Bump ex\_machina from 2.3.0 to 2.4.0 [\#3117](https://github.com/hippware/wocky/pull/3117) ([dependabot-preview[bot]](https://github.com/apps/dependabot-preview))
- Add auto deployment to us1 [\#3110](https://github.com/hippware/wocky/pull/3110) ([bernardd](https://github.com/bernardd))

## [2020.2.19+re7742f8](https://github.com/hippware/wocky/tree/2020.2.19+re7742f8) (2020-02-19)

[Full Changelog](https://github.com/hippware/wocky/compare/2020.2.19+r2900ecc...2020.2.19+re7742f8)

**Merged pull requests:**

- Add regen to notify enum; fix warning [\#3116](https://github.com/hippware/wocky/pull/3116) ([bernardd](https://github.com/bernardd))

## [2020.2.19+r2900ecc](https://github.com/hippware/wocky/tree/2020.2.19+r2900ecc) (2020-02-19)

[Full Changelog](https://github.com/hippware/wocky/compare/2020.2.19+rcbcb990...2020.2.19+r2900ecc)

**Merged pull requests:**

- Changelog generation tweaks [\#3115](https://github.com/hippware/wocky/pull/3115) ([bernardd](https://github.com/bernardd))

## [2020.2.19+rcbcb990](https://github.com/hippware/wocky/tree/2020.2.19+rcbcb990) (2020-02-19)

[Full Changelog](https://github.com/hippware/wocky/compare/2020.2.18+ra271b3c...2020.2.19+rcbcb990)

**Closed issues:**

- \[Wocky/us1\] ArgumentError: cannot load `"{\"geofence\_event\":\"enter\"}"` as type :map for field :data in %Wocky.Notifier.InBand.Notification{\_\_meta\_\_: \#Ecto.Schema.Metadata\<:loaded, "notifications"\>, bot: \#Ecto.Association.NotLoaded\<association :bot is not loaded\>, bot\_id: nil, bot\_invitation: \#Ecto.Association.NotLoaded\<association :bot\_invitation is not loaded\>, bot\_invitation\_accepted: nil, bot\_invitation\_id: nil, bot\_item: \#Ecto.Association.NotLoaded\<association :bot\_item is not loaded\>, bot\_item\_id... [\#3113](https://github.com/hippware/wocky/issues/3113)

**Merged pull requests:**

- 3058 auto changelog [\#3114](https://github.com/hippware/wocky/pull/3114) ([bernardd](https://github.com/bernardd))
- Bump elixir to 1.10.1 and erlang to 22.2.6 [\#3108](https://github.com/hippware/wocky/pull/3108) ([bernardd](https://github.com/bernardd))
- Bump absinthe to version with SDL rendering fix [\#3107](https://github.com/hippware/wocky/pull/3107) ([bernardd](https://github.com/bernardd))

## [2020.2.18+ra271b3c](https://github.com/hippware/wocky/tree/2020.2.18+ra271b3c) (2020-02-18)

[Full Changelog](https://github.com/hippware/wocky/compare/2020.2.11+r9e7d71f...2020.2.18+ra271b3c)

**Fixed bugs:**

- Logging is still broken with Elixir 1.10 [\#3086](https://github.com/hippware/wocky/issues/3086)

**Closed issues:**

- Update all timestamps to `timestamp without time zone` [\#3094](https://github.com/hippware/wocky/issues/3094)
- Add notification when user sharing nearby leaves the area [\#3093](https://github.com/hippware/wocky/issues/3093)
- \[Wocky/staging\] MatchError: no match of right hand side value: {:error, :missing\_offset} [\#3089](https://github.com/hippware/wocky/issues/3089)
- \[Wocky/staging\] ArgumentError: cannot load `"{\"expires\_at\":\"2021-01-23T01:33:08.000000\",\"share\_id\":632485966}"` as type :map for field :data in %Wocky.Notifier.InBand.Notification{\_\_meta\_\_: \#Ecto.Schema.Metadata\<:loaded, "notifications"\>, bot: \#Ecto.Association.NotLoaded\<association :bot is not loaded\>, bot\_id: nil, bot\_invitation: \#Ecto.Association.NotLoaded\<association :bot\_invitation is not loaded\>, bot\_invitation\_accepted: nil, bot\_invitation\_id: nil, bot\_item: \#Ecto.Association.NotLoaded\<assoc... [\#3088](https://github.com/hippware/wocky/issues/3088)
- \[Wocky/staging\] ErlangError: Erlang error: {{:nodedown, :"wocky@10.1.85.121"}, {GenServer, :call, \[\#PID\<58862.26312.3\>, {:set\_location, %Wocky.Location.UserLocation{accuracy: 16.0, activity: "still", activity\_confidence: 100, altitude: -1.0, altitude\_accuracy: nil, battery\_charging: false, battery\_level: 0.68, captured\_at: ~U\[2020-02-07 16:20:34.049000Z\], created\_at: ~U\[2020-02-07 16:20:54.455815Z\], device: "396efc7323f85be0", extra\_fields: %{"extras" =\> %{"is\_location\_request" =\> true}}, heading: -1.0, ... [\#3085](https://github.com/hippware/wocky/issues/3085)
- Add userInviteGetSender query [\#3072](https://github.com/hippware/wocky/issues/3072)
- Loggly audit logging broke  [\#3068](https://github.com/hippware/wocky/issues/3068)
- Create userInviteMakeUrl mutation [\#3065](https://github.com/hippware/wocky/issues/3065)
- Tweak the LocationShareNotification event [\#3062](https://github.com/hippware/wocky/issues/3062)
- Create a new notification event UserBefriendNotification [\#3055](https://github.com/hippware/wocky/issues/3055)
- Add shareType to the UserInvitationNotification [\#3054](https://github.com/hippware/wocky/issues/3054)
- Refactor notifications table to use a map for notification data [\#3051](https://github.com/hippware/wocky/issues/3051)
- Remove original user proximity functionality once new share stuff is up and running [\#2906](https://github.com/hippware/wocky/issues/2906)

**Merged pull requests:**

- Fix version output [\#3109](https://github.com/hippware/wocky/pull/3109) ([bernardd](https://github.com/bernardd))
- Bump ecto\_sql from 3.3.3 to 3.3.4 [\#3106](https://github.com/hippware/wocky/pull/3106) ([dependabot-preview[bot]](https://github.com/apps/dependabot-preview))
- Move tagging back to the promote script [\#3105](https://github.com/hippware/wocky/pull/3105) ([bernardd](https://github.com/bernardd))
- Add tagging of version and deployment status [\#3104](https://github.com/hippware/wocky/pull/3104) ([bernardd](https://github.com/bernardd))
- Bump absinthe\_relay from `64ddb94` to `3fbdf61` [\#3103](https://github.com/hippware/wocky/pull/3103) ([dependabot-preview[bot]](https://github.com/apps/dependabot-preview))
- Bump absinthe from `e728d45` to `43d9644` [\#3102](https://github.com/hippware/wocky/pull/3102) ([dependabot-preview[bot]](https://github.com/apps/dependabot-preview))
- Bump phoenix from 1.4.12 to 1.4.13 [\#3101](https://github.com/hippware/wocky/pull/3101) ([dependabot-preview[bot]](https://github.com/apps/dependabot-preview))

## [2020.2.11+r9e7d71f](https://github.com/hippware/wocky/tree/2020.2.11+r9e7d71f) (2020-02-11)

[Full Changelog](https://github.com/hippware/wocky/compare/2020.2.7+r8316b9f...2020.2.11+r9e7d71f)

**Merged pull requests:**

- Really fix URL test [\#3100](https://github.com/hippware/wocky/pull/3100) ([bernardd](https://github.com/bernardd))
- Fix user invite URL test [\#3099](https://github.com/hippware/wocky/pull/3099) ([bernardd](https://github.com/bernardd))
- 3093 leave nearby notifciation [\#3098](https://github.com/hippware/wocky/pull/3098) ([bernardd](https://github.com/bernardd))
- Bump plug from 1.8.3 to 1.9.0 [\#3097](https://github.com/hippware/wocky/pull/3097) ([dependabot-preview[bot]](https://github.com/apps/dependabot-preview))
- Bump honeybadger from 0.13.0 to 0.13.1 [\#3096](https://github.com/hippware/wocky/pull/3096) ([dependabot-preview[bot]](https://github.com/apps/dependabot-preview))
- Fix JSON log encoding for Elixir 1.10 [\#3095](https://github.com/hippware/wocky/pull/3095) ([bernardd](https://github.com/bernardd))
- Update the version of Redis used for tests [\#3092](https://github.com/hippware/wocky/pull/3092) ([toland](https://github.com/toland))

## [2020.2.7+r8316b9f](https://github.com/hippware/wocky/tree/2020.2.7+r8316b9f) (2020-02-07)

[Full Changelog](https://github.com/hippware/wocky/compare/2020.2.3+rcfe9d4e...2020.2.7+r8316b9f)

**Fixed bugs:**

- Unit test for presence is flaky when run on CI [\#3052](https://github.com/hippware/wocky/issues/3052)

**Closed issues:**

- Don't send "sharing" push notification on invitation and acceptance [\#3063](https://github.com/hippware/wocky/issues/3063)
- Research metrics for GraphQL API usage [\#3053](https://github.com/hippware/wocky/issues/3053)
- Add share type to contacts connection [\#3049](https://github.com/hippware/wocky/issues/3049)
- Add missing types in wocky\_api [\#3032](https://github.com/hippware/wocky/issues/3032)

**Merged pull requests:**

- Add handling for dates without offset [\#3091](https://github.com/hippware/wocky/pull/3091) ([bernardd](https://github.com/bernardd))
- Cast string values to JSON objects in migration [\#3090](https://github.com/hippware/wocky/pull/3090) ([toland](https://github.com/toland))
- Revert "Bump to elixir 1.10.0 and alpine 3.11.3" [\#3087](https://github.com/hippware/wocky/pull/3087) ([toland](https://github.com/toland))
- Bump plug from 1.8.3 to 1.9.0 [\#3084](https://github.com/hippware/wocky/pull/3084) ([dependabot-preview[bot]](https://github.com/apps/dependabot-preview))
- Bump honeybadger from 0.13.0 to 0.13.1 [\#3083](https://github.com/hippware/wocky/pull/3083) ([dependabot-preview[bot]](https://github.com/apps/dependabot-preview))
- Remove legacy user proximity system [\#3082](https://github.com/hippware/wocky/pull/3082) ([bernardd](https://github.com/bernardd))
- Add userInviteGetSender query [\#3081](https://github.com/hippware/wocky/pull/3081) ([bernardd](https://github.com/bernardd))
- Add userInviteMakeUrl mutation [\#3074](https://github.com/hippware/wocky/pull/3074) ([bernardd](https://github.com/bernardd))
- Add Jason encoders for types that can appear in logs [\#3073](https://github.com/hippware/wocky/pull/3073) ([bernardd](https://github.com/bernardd))
- Add share types to location\_share notification [\#3071](https://github.com/hippware/wocky/pull/3071) ([bernardd](https://github.com/bernardd))
- Add user\_befriend notification to wocky [\#3070](https://github.com/hippware/wocky/pull/3070) ([bernardd](https://github.com/bernardd))
- 3054 share type in notification [\#3067](https://github.com/hippware/wocky/pull/3067) ([bernardd](https://github.com/bernardd))
- Use map for non-key fields in notification table [\#3066](https://github.com/hippware/wocky/pull/3066) ([bernardd](https://github.com/bernardd))

## [2020.2.3+rcfe9d4e](https://github.com/hippware/wocky/tree/2020.2.3+rcfe9d4e) (2020-02-03)

[Full Changelog](https://github.com/hippware/wocky/compare/2020.1.29+r5303053...2020.2.3+rcfe9d4e)

**Fixed bugs:**

- Inconsistent location share config naming [\#3017](https://github.com/hippware/wocky/issues/3017)

**Closed issues:**

- Update Docker images to Elixir 1.10 [\#3042](https://github.com/hippware/wocky/issues/3042)
- Add shareType to contacts subscription [\#3031](https://github.com/hippware/wocky/issues/3031)
- Connect to RDS over TLS [\#3024](https://github.com/hippware/wocky/issues/3024)
- \[Wocky/staging\] ArgumentError: argument error [\#3020](https://github.com/hippware/wocky/issues/3020)
- shareConfig is null in friendShareUpdate mutation response [\#3016](https://github.com/hippware/wocky/issues/3016)
- Mnesia directories show up after running tests [\#3004](https://github.com/hippware/wocky/issues/3004)
- Telemetry handlers crash during test runs in wocky\_api [\#3002](https://github.com/hippware/wocky/issues/3002)
- Update the application to work with Elixir 1.10 [\#2999](https://github.com/hippware/wocky/issues/2999)
- \[Wocky/staging\] MatchError: no match of right hand side value: {:error, :lock\_failure} [\#2993](https://github.com/hippware/wocky/issues/2993)
- Consistent naming for Friends [\#2897](https://github.com/hippware/wocky/issues/2897)
- Remove deprecated constructs [\#2893](https://github.com/hippware/wocky/issues/2893)
- SMS invitation changes for new sharing model [\#2885](https://github.com/hippware/wocky/issues/2885)
- Merge user\_proximity table to roster items to support 'nearby' mode [\#2873](https://github.com/hippware/wocky/issues/2873)
- Implement new sharing model in GQL API [\#2872](https://github.com/hippware/wocky/issues/2872)
- Merge sharing table into roster items [\#2871](https://github.com/hippware/wocky/issues/2871)
- \[discussion\] Make use of location-request push notification [\#2822](https://github.com/hippware/wocky/issues/2822)
- Expose new Dawdle metrics via Prometheus [\#2710](https://github.com/hippware/wocky/issues/2710)
- Explore using ML to improve the geofence algorithm [\#2428](https://github.com/hippware/wocky/issues/2428)
- Prototype an admin UI for Wocky [\#725](https://github.com/hippware/wocky/issues/725)

**Merged pull requests:**

- Bump credo from 1.2.1 to 1.2.2 [\#3064](https://github.com/hippware/wocky/pull/3064) ([dependabot-preview[bot]](https://github.com/apps/dependabot-preview))
- Bump phoenix\_pubsub\_redis from 2.1.7 to 2.1.8 [\#3061](https://github.com/hippware/wocky/pull/3061) ([dependabot-preview[bot]](https://github.com/apps/dependabot-preview))
- Fix presence test race condition [\#3059](https://github.com/hippware/wocky/pull/3059) ([bernardd](https://github.com/bernardd))
- Add query counters [\#3056](https://github.com/hippware/wocky/pull/3056) ([bernardd](https://github.com/bernardd))
- Bump plug\_cowboy from 2.1.1 to 2.1.2 [\#3048](https://github.com/hippware/wocky/pull/3048) ([dependabot-preview[bot]](https://github.com/apps/dependabot-preview))
- Add share type edge attribute [\#3047](https://github.com/hippware/wocky/pull/3047) ([bernardd](https://github.com/bernardd))
- Add types to wocky\_api [\#3043](https://github.com/hippware/wocky/pull/3043) ([toland](https://github.com/toland))

## [2020.1.29+r5303053](https://github.com/hippware/wocky/tree/2020.1.29+r5303053) (2020-01-29)

[Full Changelog](https://github.com/hippware/wocky/compare/2020.1.21+r236b1a7...2020.1.29+r5303053)

**Merged pull requests:**

- Bump to elixir 1.10.0 and alpine 3.11.3 [\#3046](https://github.com/hippware/wocky/pull/3046) ([bernardd](https://github.com/bernardd))
- Bump ecto\_sql from 3.3.2 to 3.3.3 [\#3045](https://github.com/hippware/wocky/pull/3045) ([dependabot-preview[bot]](https://github.com/apps/dependabot-preview))
- Bump credo from 1.2.0 to 1.2.1 [\#3044](https://github.com/hippware/wocky/pull/3044) ([dependabot-preview[bot]](https://github.com/apps/dependabot-preview))
- Bump cors\_plug from 2.0.0 to 2.0.1 [\#3041](https://github.com/hippware/wocky/pull/3041) ([dependabot-preview[bot]](https://github.com/apps/dependabot-preview))
- Bump bamboo from 1.3.0 to 1.4.0 [\#3040](https://github.com/hippware/wocky/pull/3040) ([dependabot-preview[bot]](https://github.com/apps/dependabot-preview))
- Bump credo from 1.1.5 to 1.2.0 [\#3039](https://github.com/hippware/wocky/pull/3039) ([dependabot-preview[bot]](https://github.com/apps/dependabot-preview))
- Bump phoenix from 1.4.11 to 1.4.12 [\#3038](https://github.com/hippware/wocky/pull/3038) ([dependabot-preview[bot]](https://github.com/apps/dependabot-preview))
- Add ex\_aws to list of required apps for notification [\#3037](https://github.com/hippware/wocky/pull/3037) ([bernardd](https://github.com/bernardd))
- Clear up spurious error messages during test runs [\#3036](https://github.com/hippware/wocky/pull/3036) ([toland](https://github.com/toland))
- Add location forwarding target for us1 [\#3035](https://github.com/hippware/wocky/pull/3035) ([bernardd](https://github.com/bernardd))
- Remove transaction wrapper from online status retrieval [\#3034](https://github.com/hippware/wocky/pull/3034) ([bernardd](https://github.com/bernardd))
- Elixir 1.10 [\#3011](https://github.com/hippware/wocky/pull/3011) ([toland](https://github.com/toland))

## [2020.1.21+r236b1a7](https://github.com/hippware/wocky/tree/2020.1.21+r236b1a7) (2020-01-21)

[Full Changelog](https://github.com/hippware/wocky/compare/2020.1.16+r73663d8...2020.1.21+r236b1a7)

**Closed issues:**

- \[Wocky/testing\] Postgrex.Error: FATAL 57P03 \(cannot\_connect\_now\) the database system is starting up [\#3023](https://github.com/hippware/wocky/issues/3023)
- \[Wocky/staging\] Postgrex.Error: FATAL 57P03 \(cannot\_connect\_now\) the database system is starting up [\#3022](https://github.com/hippware/wocky/issues/3022)

**Merged pull requests:**

- Add shareType to the contacts subscription [\#3033](https://github.com/hippware/wocky/pull/3033) ([toland](https://github.com/toland))
- Bump excoveralls from 0.12.1 to 0.12.2 [\#3030](https://github.com/hippware/wocky/pull/3030) ([dependabot-preview[bot]](https://github.com/apps/dependabot-preview))
- Rds ssl [\#3029](https://github.com/hippware/wocky/pull/3029) ([bernardd](https://github.com/bernardd))
- Revert "Use SSL for RDS connection" [\#3028](https://github.com/hippware/wocky/pull/3028) ([bernardd](https://github.com/bernardd))
- Use SSL for RDS connection [\#3027](https://github.com/hippware/wocky/pull/3027) ([bernardd](https://github.com/bernardd))
- Small QoL fixes [\#3026](https://github.com/hippware/wocky/pull/3026) ([toland](https://github.com/toland))
- Bump bcrypt\_elixir from 2.0.3 to 2.1.0 [\#3025](https://github.com/hippware/wocky/pull/3025) ([dependabot-preview[bot]](https://github.com/apps/dependabot-preview))

## [2020.1.16+r73663d8](https://github.com/hippware/wocky/tree/2020.1.16+r73663d8) (2020-01-16)

[Full Changelog](https://github.com/hippware/wocky/compare/2020.1.14+r51e6bde...2020.1.16+r73663d8)

**Fixed bugs:**

- GraphQL error: Cannot return null for non-nullable field [\#3000](https://github.com/hippware/wocky/issues/3000)

**Closed issues:**

- \[Wocky/staging\] ArgumentError: argument error [\#3019](https://github.com/hippware/wocky/issues/3019)
- Error logs are filled with errors from healthcheck [\#2998](https://github.com/hippware/wocky/issues/2998)

**Merged pull requests:**

- Don't forward location when handle is NULL [\#3021](https://github.com/hippware/wocky/pull/3021) ([toland](https://github.com/toland))
- Consistently use the field name nearbyCooldown [\#3018](https://github.com/hippware/wocky/pull/3018) ([toland](https://github.com/toland))
- Suppress creation of data and log directories [\#3015](https://github.com/hippware/wocky/pull/3015) ([toland](https://github.com/toland))

## [2020.1.14+r51e6bde](https://github.com/hippware/wocky/tree/2020.1.14+r51e6bde) (2020-01-14)

[Full Changelog](https://github.com/hippware/wocky/compare/2019.12.19+r7b0eedf...2020.1.14+r51e6bde)

**Closed issues:**

- Swarm "unrecognized cast" warnings [\#3001](https://github.com/hippware/wocky/issues/3001)
- \[Wocky/staging\] ArgumentError: argument error [\#2996](https://github.com/hippware/wocky/issues/2996)
- \[Wocky/staging\] ErlangError: Erlang error: {{%RuntimeError{message: "Instance Meta Error: {:error, %{reason: :econnrefused}}\n\nYou tried to access the AWS EC2 instance meta, but it could not be reached.\nThis happens most often when trying to access it from your local computer,\nwhich happens when environment variables are not set correctly prompting\nExAws to fallback to the Instance Meta.\n\nPlease check your key config and make sure they're configured correctly:\n\nFor Example:\n```\nExAws.Config.new... [\#2995](https://github.com/hippware/wocky/issues/2995)
- \[Wocky/staging\] RuntimeError: Instance Meta Error: {:error, %{reason: :econnrefused}} [\#2994](https://github.com/hippware/wocky/issues/2994)
- Fix flaky presence tests [\#2977](https://github.com/hippware/wocky/issues/2977)
- \[Wocky/us1\] FunctionClauseError: no function clause matching in Absinthe.Phase.Document.Complexity.Result.describe\_node/1 [\#2909](https://github.com/hippware/wocky/issues/2909)

**Merged pull requests:**

- Fix GQL shareConfig resolution [\#3014](https://github.com/hippware/wocky/pull/3014) ([toland](https://github.com/toland))
- Bump libcluster from 3.1.1 to 3.2.0 [\#3013](https://github.com/hippware/wocky/pull/3013) ([dependabot-preview[bot]](https://github.com/apps/dependabot-preview))
- Hide data and log dirs when running locally [\#3012](https://github.com/hippware/wocky/pull/3012) ([toland](https://github.com/toland))
- Correct a race condition in the client tests [\#3010](https://github.com/hippware/wocky/pull/3010) ([toland](https://github.com/toland))
- Don't log metrics requests [\#3009](https://github.com/hippware/wocky/pull/3009) ([toland](https://github.com/toland))
- Bump dataloader from 1.0.6 to 1.0.7 [\#3007](https://github.com/hippware/wocky/pull/3007) ([dependabot-preview[bot]](https://github.com/apps/dependabot-preview))
- Lower Plug log level to :debug [\#3003](https://github.com/hippware/wocky/pull/3003) ([toland](https://github.com/toland))
- Bump plug\_cowboy from 2.1.0 to 2.1.1 [\#2997](https://github.com/hippware/wocky/pull/2997) ([dependabot-preview[bot]](https://github.com/apps/dependabot-preview))
- alias Wocky.Repo.Factory in test helpers [\#2992](https://github.com/hippware/wocky/pull/2992) ([bernardd](https://github.com/bernardd))
- Server metadata [\#2991](https://github.com/hippware/wocky/pull/2991) ([bernardd](https://github.com/bernardd))
- Temporarily disable private hex repo [\#2990](https://github.com/hippware/wocky/pull/2990) ([bernardd](https://github.com/bernardd))
- Clean up the Relation context module [\#2989](https://github.com/hippware/wocky/pull/2989) ([toland](https://github.com/toland))
- Fix intermittent presence test failures [\#2988](https://github.com/hippware/wocky/pull/2988) ([bernardd](https://github.com/bernardd))
- Improve error handling [\#2986](https://github.com/hippware/wocky/pull/2986) ([toland](https://github.com/toland))

## [2019.12.19+r7b0eedf](https://github.com/hippware/wocky/tree/2019.12.19+r7b0eedf) (2019-12-19)

[Full Changelog](https://github.com/hippware/wocky/compare/2019.12.18+rc919280...2019.12.19+r7b0eedf)

**Closed issues:**

- Update Lambda functions using JS 8.10 runtime [\#2976](https://github.com/hippware/wocky/issues/2976)

**Merged pull requests:**

- Move goth and pigeon configs into Config context [\#2985](https://github.com/hippware/wocky/pull/2985) ([toland](https://github.com/toland))

## [2019.12.18+rc919280](https://github.com/hippware/wocky/tree/2019.12.18+rc919280) (2019-12-18)

[Full Changelog](https://github.com/hippware/wocky/compare/2019.12.13+r5301e4b...2019.12.18+rc919280)

**Closed issues:**

- User becomes friend upon invite instead of invite acceptance [\#2982](https://github.com/hippware/wocky/issues/2982)
- Investigate replacing distillery with native Elixir releases [\#2965](https://github.com/hippware/wocky/issues/2965)

**Merged pull requests:**

- Clean up Messaging context [\#2984](https://github.com/hippware/wocky/pull/2984) ([toland](https://github.com/toland))
- 2982 fix returned friends list [\#2983](https://github.com/hippware/wocky/pull/2983) ([bernardd](https://github.com/bernardd))
- Move back to upstream postgrex/dawdle\_db [\#2981](https://github.com/hippware/wocky/pull/2981) ([bernardd](https://github.com/bernardd))
- Move logic out of ClientVersion schema module [\#2980](https://github.com/hippware/wocky/pull/2980) ([toland](https://github.com/toland))
- Clean up the TROS context [\#2979](https://github.com/hippware/wocky/pull/2979) ([toland](https://github.com/toland))
- Bump geo\_postgis from 3.3.0 to 3.3.1 [\#2978](https://github.com/hippware/wocky/pull/2978) ([dependabot-preview[bot]](https://github.com/apps/dependabot-preview))
- Base forwarding decision on Audit condition [\#2975](https://github.com/hippware/wocky/pull/2975) ([bernardd](https://github.com/bernardd))
- Consolidate blocks, invitations, and contacts [\#2969](https://github.com/hippware/wocky/pull/2969) ([toland](https://github.com/toland))

## [2019.12.13+r5301e4b](https://github.com/hippware/wocky/tree/2019.12.13+r5301e4b) (2019-12-13)

[Full Changelog](https://github.com/hippware/wocky/compare/2019.12.11+r92017fc...2019.12.13+r5301e4b)

**Merged pull requests:**

- Add location forward target for staging [\#2974](https://github.com/hippware/wocky/pull/2974) ([bernardd](https://github.com/bernardd))
- Add missing config default [\#2973](https://github.com/hippware/wocky/pull/2973) ([bernardd](https://github.com/bernardd))
- Add location upload forwarding [\#2972](https://github.com/hippware/wocky/pull/2972) ([bernardd](https://github.com/bernardd))
- Remove some more Ecto bang functions [\#2971](https://github.com/hippware/wocky/pull/2971) ([toland](https://github.com/toland))
- Don't raise on errors preallocating a bot [\#2970](https://github.com/hippware/wocky/pull/2970) ([toland](https://github.com/toland))

## [2019.12.11+r92017fc](https://github.com/hippware/wocky/tree/2019.12.11+r92017fc) (2019-12-11)

[Full Changelog](https://github.com/hippware/wocky/compare/2019.12.4+r17c24f6...2019.12.11+r92017fc)

**Closed issues:**

- Dependabot couldn't authenticate with hippware [\#2967](https://github.com/hippware/wocky/issues/2967)
- \[Wocky/testing\] Absinthe.ExecutionError: Invalid value returned from resolver. [\#2961](https://github.com/hippware/wocky/issues/2961)
- Add back in the 'nickname' field [\#2958](https://github.com/hippware/wocky/issues/2958)

**Merged pull requests:**

- Bump slack\_ex from 0.1.0 to 0.2.1 [\#2968](https://github.com/hippware/wocky/pull/2968) ([dependabot-preview[bot]](https://github.com/apps/dependabot-preview))
- Bump Erlang, Elixir and Alpine versions [\#2966](https://github.com/hippware/wocky/pull/2966) ([bernardd](https://github.com/bernardd))
- Move to hex organisation for all custom deps [\#2964](https://github.com/hippware/wocky/pull/2964) ([bernardd](https://github.com/bernardd))
- Bump ex\_twilio from 0.8.0 to 0.8.1 [\#2963](https://github.com/hippware/wocky/pull/2963) ([dependabot-preview[bot]](https://github.com/apps/dependabot-preview))
- Fix nickname stubs [\#2962](https://github.com/hippware/wocky/pull/2962) ([toland](https://github.com/toland))
- Add GQL stubs for friend nickname [\#2960](https://github.com/hippware/wocky/pull/2960) ([toland](https://github.com/toland))
- Remove the nickname field for friends [\#2957](https://github.com/hippware/wocky/pull/2957) ([toland](https://github.com/toland))
- Bump absinthe from `c3f442a` to `e728d45` [\#2956](https://github.com/hippware/wocky/pull/2956) ([dependabot-preview[bot]](https://github.com/apps/dependabot-preview))
- Bump postgrex from `672d6f5` to `d887ed8` [\#2955](https://github.com/hippware/wocky/pull/2955) ([dependabot-preview[bot]](https://github.com/apps/dependabot-preview))
- Bump absinthe\_phoenix from `f0200bd` to `3573eb6` [\#2954](https://github.com/hippware/wocky/pull/2954) ([dependabot-preview[bot]](https://github.com/apps/dependabot-preview))

## [2019.12.4+r17c24f6](https://github.com/hippware/wocky/tree/2019.12.4+r17c24f6) (2019-12-04)

[Full Changelog](https://github.com/hippware/wocky/compare/2019.11.26+rfa031e5...2019.12.4+r17c24f6)

**Closed issues:**

- Message notifications not arriving via subscription [\#2939](https://github.com/hippware/wocky/issues/2939)
- Friend invite notification not generated/arriving [\#2881](https://github.com/hippware/wocky/issues/2881)

**Merged pull requests:**

- Refactor base [\#2953](https://github.com/hippware/wocky/pull/2953) ([toland](https://github.com/toland))
- Bump postgrex from `7889e6c` to `672d6f5` [\#2952](https://github.com/hippware/wocky/pull/2952) ([dependabot-preview[bot]](https://github.com/apps/dependabot-preview))
- Bump mock from 0.3.3 to 0.3.4 [\#2951](https://github.com/hippware/wocky/pull/2951) ([dependabot-preview[bot]](https://github.com/apps/dependabot-preview))
- Move from peerage to libcluster [\#2950](https://github.com/hippware/wocky/pull/2950) ([bernardd](https://github.com/bernardd))
- Bump ex\_twilio from 0.7.0 to 0.8.0 [\#2949](https://github.com/hippware/wocky/pull/2949) ([dependabot-preview[bot]](https://github.com/apps/dependabot-preview))

## [2019.11.26+rfa031e5](https://github.com/hippware/wocky/tree/2019.11.26+rfa031e5) (2019-11-26)

[Full Changelog](https://github.com/hippware/wocky/compare/2019.11.20+rbeee91a...2019.11.26+rfa031e5)

**Merged pull requests:**

- Minor optimization: Only pull user IDs in callback [\#2948](https://github.com/hippware/wocky/pull/2948) ([toland](https://github.com/toland))
- Remove the deprecated contacts connections [\#2947](https://github.com/hippware/wocky/pull/2947) ([toland](https://github.com/toland))
- Bump postgrex from `8378dde` to `7889e6c` [\#2946](https://github.com/hippware/wocky/pull/2946) ([dependabot-preview[bot]](https://github.com/apps/dependabot-preview))
- Bump ecto\_sql from 3.2.1 to 3.2.2 [\#2945](https://github.com/hippware/wocky/pull/2945) ([dependabot-preview[bot]](https://github.com/apps/dependabot-preview))
- Bump excoveralls from 0.12.0 to 0.12.1 [\#2944](https://github.com/hippware/wocky/pull/2944) ([dependabot-preview[bot]](https://github.com/apps/dependabot-preview))
- Use User.tid\(\) more often [\#2943](https://github.com/hippware/wocky/pull/2943) ([toland](https://github.com/toland))
- Ensure vaultex is started for deploy notify [\#2942](https://github.com/hippware/wocky/pull/2942) ([bernardd](https://github.com/bernardd))
- Add missing typespecs [\#2941](https://github.com/hippware/wocky/pull/2941) ([toland](https://github.com/toland))

## [2019.11.20+rbeee91a](https://github.com/hippware/wocky/tree/2019.11.20+rbeee91a) (2019-11-20)

[Full Changelog](https://github.com/hippware/wocky/compare/2019.11.13+r39dd56a...2019.11.20+rbeee91a)

**Closed issues:**

- `presenceStatus` mutation - deprecate? [\#2930](https://github.com/hippware/wocky/issues/2930)
- New location sharing model [\#2875](https://github.com/hippware/wocky/issues/2875)

**Merged pull requests:**

- Pull rolled-back loner-less dawdle\_db [\#2940](https://github.com/hippware/wocky/pull/2940) ([bernardd](https://github.com/bernardd))
- Bump to latest dawdle\_db using loner [\#2937](https://github.com/hippware/wocky/pull/2937) ([bernardd](https://github.com/bernardd))
- Don't pull a full object just to see if it exists [\#2936](https://github.com/hippware/wocky/pull/2936) ([toland](https://github.com/toland))
- Misc typespec fixes [\#2935](https://github.com/hippware/wocky/pull/2935) ([toland](https://github.com/toland))
- Bump mix\_test\_watch from 1.0.1 to 1.0.2 [\#2934](https://github.com/hippware/wocky/pull/2934) ([dependabot-preview[bot]](https://github.com/apps/dependabot-preview))
- Bump postgrex from `47baa6c` to `8378dde` [\#2933](https://github.com/hippware/wocky/pull/2933) ([dependabot-preview[bot]](https://github.com/apps/dependabot-preview))
- Bump firebase\_admin\_ex from `a36c3ec` to `10aec5c` [\#2931](https://github.com/hippware/wocky/pull/2931) ([dependabot-preview[bot]](https://github.com/apps/dependabot-preview))
- Change binary\(\) to String.t\(\) [\#2929](https://github.com/hippware/wocky/pull/2929) ([bernardd](https://github.com/bernardd))

## [2019.11.13+r39dd56a](https://github.com/hippware/wocky/tree/2019.11.13+r39dd56a) (2019-11-13)

[Full Changelog](https://github.com/hippware/wocky/compare/2019.11.5+rc1ef34f...2019.11.13+r39dd56a)

**Closed issues:**

- \[Task\] Create ticket on front-end board with API changes [\#2927](https://github.com/hippware/wocky/issues/2927)
- User invitation codes should include sharing level [\#2877](https://github.com/hippware/wocky/issues/2877)
- Set 'nearby' mode to trigger a 'share-end' message when a user moves out of range [\#2874](https://github.com/hippware/wocky/issues/2874)
- \[Wocky/testing\] ErlangError: Erlang error: {:normal, {GenServer, :call, \[\#PID\<0.18416.0\>, :get\_sockets, 5000\]}} [\#2869](https://github.com/hippware/wocky/issues/2869)
- \[Wocky/staging\] Ecto.ConstraintError: constraint error when attempting to insert struct:

    \* blocks\_blocker\_id\_fkey \(foreign\_key\_constraint\)

If you would like to stop this constraint violation from raising an
exception and instead add it as an error to your changeset, please
call `foreign\_key\_constraint/3` on your changeset with the constraint
`:name` as an option.

The changeset has not defined any constraint. [\#2866](https://github.com/hippware/wocky/issues/2866)
- \[Wocky/us1\] MatchError: no match of right hand side value: {:error, \#Ecto.Changeset\<action: nil, changes: %{accuracy: -2147357.2, activity: "walking", activity\_confidence: 100, altitude: 58.2, battery\_charging: false, battery\_level: 0.82, captured\_at: ~U\[2019-10-11 02:21:39.269000Z\], created\_at: ~U\[2019-10-11 02:21:43.322842Z\], device: "26361c1b23a44d71", heading: -1.0, is\_moving: true, lat: 35.6452171, lon: 139.7491198, odometer: 22449044.0, speed: -1.0, uuid: "ed03802d-3005-4e57-bc5e-e06e5f5f954d"}, er... [\#2858](https://github.com/hippware/wocky/issues/2858)
- \[Wocky/staging\] Postgrex.Error: ERROR 23503 \(foreign\_key\_violation\) insert or update on table "user\_bot\_events" violates foreign key constraint "user\_bot\_events\_bot\_id\_fkey"

    table: user\_bot\_events
    constraint: user\_bot\_events\_bot\_id\_fkey

Key \(bot\_id\)=\(e65a09f8-50d1-447a-9cf0-5f62609d76cd\) is not present in table "bots". [\#2849](https://github.com/hippware/wocky/issues/2849)
- Implement dynamic location upload support [\#2845](https://github.com/hippware/wocky/issues/2845)
- Investigate using the BLNS in testing [\#2833](https://github.com/hippware/wocky/issues/2833)

**Merged pull requests:**

- Note likely abandoned deps [\#2928](https://github.com/hippware/wocky/pull/2928) ([bernardd](https://github.com/bernardd))
- New user invitation APIs with sharing preferences [\#2926](https://github.com/hippware/wocky/pull/2926) ([toland](https://github.com/toland))
- Bump email\_checker from 0.1.2 to 0.1.3 [\#2925](https://github.com/hippware/wocky/pull/2925) ([dependabot-preview[bot]](https://github.com/apps/dependabot-preview))
- Bump postgrex from `a59be70` to `47baa6c` [\#2924](https://github.com/hippware/wocky/pull/2924) ([dependabot-preview[bot]](https://github.com/apps/dependabot-preview))
- Bump httpoison from 1.6.1 to 1.6.2 [\#2923](https://github.com/hippware/wocky/pull/2923) ([dependabot-preview[bot]](https://github.com/apps/dependabot-preview))
- Bump phoenix\_ecto from 4.0.0 to 4.1.0 [\#2922](https://github.com/hippware/wocky/pull/2922) ([dependabot-preview[bot]](https://github.com/apps/dependabot-preview))
- Bump phoenix from 1.4.10 to 1.4.11 [\#2921](https://github.com/hippware/wocky/pull/2921) ([dependabot-preview[bot]](https://github.com/apps/dependabot-preview))
- Move back to upstream exometer [\#2920](https://github.com/hippware/wocky/pull/2920) ([bernardd](https://github.com/bernardd))
- Fix occasional cleaner test failures [\#2919](https://github.com/hippware/wocky/pull/2919) ([bernardd](https://github.com/bernardd))
- Fix crash when client supplies an empty device string [\#2918](https://github.com/hippware/wocky/pull/2918) ([bernardd](https://github.com/bernardd))
- Add dawdle metrics [\#2917](https://github.com/hippware/wocky/pull/2917) ([bernardd](https://github.com/bernardd))
- Add BLNS tests [\#2916](https://github.com/hippware/wocky/pull/2916) ([bernardd](https://github.com/bernardd))
- Enable location share end notification to self [\#2915](https://github.com/hippware/wocky/pull/2915) ([toland](https://github.com/toland))
- Use new postgrex with notification reconnection [\#2912](https://github.com/hippware/wocky/pull/2912) ([bernardd](https://github.com/bernardd))
- Bump absinthe to latest version [\#2911](https://github.com/hippware/wocky/pull/2911) ([bernardd](https://github.com/bernardd))
- 2873 nearby support [\#2910](https://github.com/hippware/wocky/pull/2910) ([bernardd](https://github.com/bernardd))

## [2019.11.5+rc1ef34f](https://github.com/hippware/wocky/tree/2019.11.5+rc1ef34f) (2019-11-05)

[Full Changelog](https://github.com/hippware/wocky/compare/2019.10.30+r8124707...2019.11.5+rc1ef34f)

**Closed issues:**

- Unknown type SendMessageInput [\#2899](https://github.com/hippware/wocky/issues/2899)
- \[Wocky/us1\] DBConnection.ConnectionError: tcp recv: closed [\#2890](https://github.com/hippware/wocky/issues/2890)
- \[Wocky/us1\] DBConnection.ConnectionError: tcp async recv: closed [\#2889](https://github.com/hippware/wocky/issues/2889)

**Merged pull requests:**

- GraphQL code cleanup [\#2908](https://github.com/hippware/wocky/pull/2908) ([toland](https://github.com/toland))
- Bump ecto\_sql from 3.2.0 to 3.2.1 [\#2907](https://github.com/hippware/wocky/pull/2907) ([dependabot-preview[bot]](https://github.com/apps/dependabot-preview))
- Update ecto and ecto\_enum [\#2905](https://github.com/hippware/wocky/pull/2905) ([bernardd](https://github.com/bernardd))
- New sharing model GraphQL API [\#2904](https://github.com/hippware/wocky/pull/2904) ([toland](https://github.com/toland))
- Remove more deprecated stuff [\#2901](https://github.com/hippware/wocky/pull/2901) ([toland](https://github.com/toland))

## [2019.10.30+r8124707](https://github.com/hippware/wocky/tree/2019.10.30+r8124707) (2019-10-30)

[Full Changelog](https://github.com/hippware/wocky/compare/2019.10.22+rf55d9bd...2019.10.30+r8124707)

**Closed issues:**

- Support question: Unread messages and blocking [\#2891](https://github.com/hippware/wocky/issues/2891)

**Merged pull requests:**

- Temporarally reinstate sendMessageInput type [\#2900](https://github.com/hippware/wocky/pull/2900) ([bernardd](https://github.com/bernardd))
- Rename Roster =\> Friends and Item =\> Friend [\#2898](https://github.com/hippware/wocky/pull/2898) ([toland](https://github.com/toland))
- Remove deprecated mutations and related fields [\#2896](https://github.com/hippware/wocky/pull/2896) ([toland](https://github.com/toland))
- Bump eventually from 1.0.0 to 1.1.0 [\#2895](https://github.com/hippware/wocky/pull/2895) ([dependabot-preview[bot]](https://github.com/apps/dependabot-preview))
- Bump gen\_stage from 0.14.2 to 0.14.3 [\#2894](https://github.com/hippware/wocky/pull/2894) ([dependabot-preview[bot]](https://github.com/apps/dependabot-preview))
- Bump mix\_test\_watch from 1.0.0 to 1.0.1 [\#2892](https://github.com/hippware/wocky/pull/2892) ([dependabot-preview[bot]](https://github.com/apps/dependabot-preview))
- Bump mix\_test\_watch from 0.9.0 to 1.0.0 [\#2888](https://github.com/hippware/wocky/pull/2888) ([dependabot-preview[bot]](https://github.com/apps/dependabot-preview))
- Bump credo\_naming from 0.4.0 to 0.4.1 [\#2887](https://github.com/hippware/wocky/pull/2887) ([dependabot-preview[bot]](https://github.com/apps/dependabot-preview))
- Merge sharing data into roster\_items table [\#2876](https://github.com/hippware/wocky/pull/2876) ([toland](https://github.com/toland))

## [2019.10.22+rf55d9bd](https://github.com/hippware/wocky/tree/2019.10.22+rf55d9bd) (2019-10-22)

[Full Changelog](https://github.com/hippware/wocky/compare/2019.10.14+r400a75c...2019.10.22+rf55d9bd)

**Closed issues:**

- \[Wocky/staging\] DBConnection.ConnectionError: tcp recv: closed [\#2880](https://github.com/hippware/wocky/issues/2880)
- \[Wocky/testing\] DBConnection.ConnectionError: tcp async recv: closed [\#2879](https://github.com/hippware/wocky/issues/2879)
- \[Wocky/staging\] DBConnection.ConnectionError: tcp async recv: closed [\#2878](https://github.com/hippware/wocky/issues/2878)
- \[Wocky/us1\] ErlangError: Erlang error: {:timeout, {GenServer, :call, \[\#PID\<57605.25051.86\>, {:set\_location, %Wocky.Location.UserLocation{accuracy: 56.1, activity: "walking", activity\_confidence: 100, altitude: 66.5, altitude\_accuracy: nil, battery\_charging: false, battery\_level: 0.89, captured\_at: ~U\[2019-10-07 09:58:29.691000Z\], created\_at: ~U\[2019-10-07 09:58:30.237589Z\], device: "26361c1b23a44d71", extra\_fields: %{"extras" =\> %{}}, heading: 217.41, id: nil, is\_moving: true, lat: 35.6445739, lon: 139.7... [\#2855](https://github.com/hippware/wocky/issues/2855)
- \[Wocky/staging\] Ecto.StaleEntryError: attempted to update a stale struct:

%Wocky.Account.User{\_\_meta\_\_: \#Ecto.Schema.Metadata\<:loaded, "users"\>, bot\_created: false, bot\_subscriptions: \#Ecto.Association.NotLoaded\<association :bot\_subscriptions is not loaded\>, bots: \#Ecto.Association.NotLoaded\<association :bots is not loaded\>, client\_data: "{\"sharePresencePrimed\":true,\"guestOnce\":false}", created\_at: ~U\[2019-09-26 20:21:35.725925Z\], device: nil, email: nil, external\_id: "+1555", handle: "text", id: "2... [\#2853](https://github.com/hippware/wocky/issues/2853)
- \[Wocky/staging\] MatchError: no match of right hand side value: {:error, {:badmatch, {:error, {%ArgumentError{message: "cannot perform Ecto.Repo.get/2 because the given value is nil"}, \[{Ecto.Repo.Queryable, :query\_for\_get, 2, \[file: 'lib/ecto/repo/queryable.ex', line: 365\]}, {Ecto.Repo.Queryable, :get, 4, \[file: 'lib/ecto/repo/queryable.ex', line: 32\]}, {Wocky.Location.Handler, :start\_link, 1, \[file: 'lib/wocky/location/handler.ex', line: 51\]}, {DynamicSupervisor, :start\_child, 3, \[file: 'lib/dynamic\_sup... [\#2852](https://github.com/hippware/wocky/issues/2852)
- \[Wocky/staging\] MatchError: no match of right hand side value: {:error, {:badmatch, {:error, {%ArgumentError{message: "cannot perform Ecto.Repo.get/2 because the given value is nil"}, \[{Ecto.Repo.Queryable, :query\_for\_get, 2, \[file: 'lib/ecto/repo/queryable.ex', line: 365\]}, {Ecto.Repo.Queryable, :get, 4, \[file: 'lib/ecto/repo/queryable.ex', line: 32\]}, {Wocky.Location.Handler, :start\_link, 1, \[file: 'lib/wocky/location/handler.ex', line: 51\]}, {DynamicSupervisor, :start\_child, 3, \[file: 'lib/dynamic\_sup... [\#2851](https://github.com/hippware/wocky/issues/2851)
- \[Wocky/staging\] ErlangError: Erlang error: {{%Postgrex.Error{connection\_id: 20544, message: nil, postgres: %{code: :foreign\_key\_violation, constraint: "user\_bot\_events\_bot\_id\_fkey", detail: "Key \(bot\_id\)=\(e65a09f8-50d1-447a-9cf0-5f62609d76cd\) is not present in table \"bots\".", file: "ri\_triggers.c", line: "3266", message: "insert or update on table \"user\_bot\_events\" violates foreign key constraint \"user\_bot\_events\_bot\_id\_fkey\"", pg\_code: "23503", routine: "ri\_ReportViolation", schema: "public", seve... [\#2850](https://github.com/hippware/wocky/issues/2850)
- Changes to APNS fields for iOS 13 [\#2836](https://github.com/hippware/wocky/issues/2836)
- Investigate using LocalStack to test S3 functionality [\#2834](https://github.com/hippware/wocky/issues/2834)
- location\_share\_end discussion [\#2821](https://github.com/hippware/wocky/issues/2821)
- Test/review account deletion [\#2804](https://github.com/hippware/wocky/issues/2804)

**Merged pull requests:**

- Bump observer\_cli from 1.5.2 to 1.5.3 [\#2886](https://github.com/hippware/wocky/pull/2886) ([dependabot-preview[bot]](https://github.com/apps/dependabot-preview))
- Bump geocalc from 0.7.2 to 0.8.0 [\#2883](https://github.com/hippware/wocky/pull/2883) ([dependabot-preview[bot]](https://github.com/apps/dependabot-preview))
- Bump excoveralls from 0.11.2 to 0.12.0 [\#2882](https://github.com/hippware/wocky/pull/2882) ([dependabot-preview[bot]](https://github.com/apps/dependabot-preview))
- Better presence manager shutdown handling [\#2870](https://github.com/hippware/wocky/pull/2870) ([bernardd](https://github.com/bernardd))
- Import frequently used modules at iex startup [\#2868](https://github.com/hippware/wocky/pull/2868) ([toland](https://github.com/toland))
- Set badge count to unread messages [\#2867](https://github.com/hippware/wocky/pull/2867) ([bernardd](https://github.com/bernardd))
- Socket cleanup [\#2864](https://github.com/hippware/wocky/pull/2864) ([bernardd](https://github.com/bernardd))

## [2019.10.14+r400a75c](https://github.com/hippware/wocky/tree/2019.10.14+r400a75c) (2019-10-14)

[Full Changelog](https://github.com/hippware/wocky/compare/2019.10.1+r4c83ac3...2019.10.14+r400a75c)

**Closed issues:**

- \[Wocky/us1\] MatchError: no match of right hand side value: {:error, \#Ecto.Changeset\<action: nil, changes: %{accuracy: -2147357.2, activity: "walking", activity\_confidence: 100, altitude: 58.2, battery\_charging: false, battery\_level: 0.82, captured\_at: ~U\[2019-10-11 02:21:39.269000Z\], created\_at: ~U\[2019-10-11 02:21:43.322842Z\], device: "26361c1b23a44d71", heading: -1.0, is\_moving: true, lat: 35.6452171, lon: 139.7491198, odometer: 22449044.0, speed: -1.0, uuid: "ed03802d-3005-4e57-bc5e-e06e5f5f954d"}, er... [\#2859](https://github.com/hippware/wocky/issues/2859)
- APNS tokens with device\_token\_not\_for\_topic [\#2837](https://github.com/hippware/wocky/issues/2837)
- Consider invalidating push tokens that fail a certain number of times [\#1960](https://github.com/hippware/wocky/issues/1960)

**Merged pull requests:**

- Update Pigeon [\#2863](https://github.com/hippware/wocky/pull/2863) ([toland](https://github.com/toland))
- Presence connection [\#2862](https://github.com/hippware/wocky/pull/2862) ([bernardd](https://github.com/bernardd))
- Enable Honeybadger breadcrumbs [\#2861](https://github.com/hippware/wocky/pull/2861) ([bernardd](https://github.com/bernardd))
- Handle negative or invalid accuracy gracefully [\#2860](https://github.com/hippware/wocky/pull/2860) ([bernardd](https://github.com/bernardd))
- Support dynamic location upload rates [\#2857](https://github.com/hippware/wocky/pull/2857) ([toland](https://github.com/toland))
- Bump credo from 1.1.4 to 1.1.5 [\#2856](https://github.com/hippware/wocky/pull/2856) ([dependabot-preview[bot]](https://github.com/apps/dependabot-preview))
- Bump honeybadger from 0.12.1 to 0.13.0 [\#2854](https://github.com/hippware/wocky/pull/2854) ([dependabot-preview[bot]](https://github.com/apps/dependabot-preview))
- Fix selection of pid for authenticated websocket [\#2848](https://github.com/hippware/wocky/pull/2848) ([bernardd](https://github.com/bernardd))
- Bump faker from 0.12.0 to 0.13.0 [\#2847](https://github.com/hippware/wocky/pull/2847) ([dependabot-preview[bot]](https://github.com/apps/dependabot-preview))
- Bump httpoison from 1.6.0 to 1.6.1 [\#2846](https://github.com/hippware/wocky/pull/2846) ([dependabot-preview[bot]](https://github.com/apps/dependabot-preview))

## [2019.10.1+r4c83ac3](https://github.com/hippware/wocky/tree/2019.10.1+r4c83ac3) (2019-10-01)

[Full Changelog](https://github.com/hippware/wocky/compare/2019.9.24+rf69ad87...2019.10.1+r4c83ac3)

**Closed issues:**

- Notifications arriving out of order with stale data [\#2839](https://github.com/hippware/wocky/issues/2839)
- In-app notifications not arriving [\#2835](https://github.com/hippware/wocky/issues/2835)
- \[Wocky/testing\] FunctionClauseError: no function clause matching in MapSet.put/2

The following arguments were given to MapSet.put/2:

    \# 1
    nil

    \# 2
    \#PID\<0.4463.0\>

Attempted function clauses \(showing 1 out of 1\):

    def put\(-%MapSet{map: map} = map\_set-, value\) [\#2826](https://github.com/hippware/wocky/issues/2826)
- \[Wocky/us1\] KeyError: key :user\_proximity not found in: \[bot\_invitation: :bot\_invitation\_notification, bot\_invitation\_response: :bot\_invitation\_response\_notification, bot\_item: :bot\_item\_notification, geofence\_event: :geofence\_event\_notification, location\_share: :location\_share\_notification, location\_share\_end: :location\_share\_end\_notification, user\_invitation: :user\_invitation\_notification\] [\#2814](https://github.com/hippware/wocky/issues/2814)
- Set up an alarm to detect a 'stuck' or clogged SQS queue [\#2803](https://github.com/hippware/wocky/issues/2803)
- Move non-testing clusters to new redis server [\#2171](https://github.com/hippware/wocky/issues/2171)

**Merged pull requests:**

- Bump httpoison from 1.5.1 to 1.6.0 [\#2844](https://github.com/hippware/wocky/pull/2844) ([dependabot-preview[bot]](https://github.com/apps/dependabot-preview))
- Move back to official release of Hackney [\#2843](https://github.com/hippware/wocky/pull/2843) ([toland](https://github.com/toland))

## [2019.9.24+rf69ad87](https://github.com/hippware/wocky/tree/2019.9.24+rf69ad87) (2019-09-24)

[Full Changelog](https://github.com/hippware/wocky/compare/2019.9.13+r03d6457...2019.9.24+rf69ad87)

**Closed issues:**

- \[Wocky/testing\] FunctionClauseError: no function clause matching in MapSet.member?/2

The following arguments were given to MapSet.member?/2:

    \# 1
    nil

    \# 2
    \#PID\<0.5355.0\>

Attempted function clauses \(showing 1 out of 1\):

    def member?\(-%MapSet{map: map}-, value\) [\#2827](https://github.com/hippware/wocky/issues/2827)
- \[Wocky/staging\] Ecto.InvalidChangesetError: could not perform insert because changeset is invalid.

Errors

    %{
      user\_id: \[
        {"does not exist",
         \[constraint: :foreign, constraint\_name: "bots\_user\_id\_fkey"\]}
      \]
    }

Applied changes

    %{
      address: "",
      address\_data: "",
      description: "",
      icon: "",
      id: "3b95ace4-ee79-433d-a03c-103c764e9148",
      pending: true,
      radius: 100.0,
      title: "",
      type: "",
      user\_id: "df0bf4b9-03ec-4d8... [\#2825](https://github.com/hippware/wocky/issues/2825)
- Messages in subscription out of order [\#2820](https://github.com/hippware/wocky/issues/2820)
- Fix Overseer SQS test [\#2819](https://github.com/hippware/wocky/issues/2819)

**Merged pull requests:**

- Pull in SSL fix for Hackney on Erlang 22.1 [\#2841](https://github.com/hippware/wocky/pull/2841) ([toland](https://github.com/toland))
- Update push notifications for iOS 13 [\#2840](https://github.com/hippware/wocky/pull/2840) ([toland](https://github.com/toland))
- Bump dialyxir from 1.0.0-rc.6 to 1.0.0-rc.7 [\#2838](https://github.com/hippware/wocky/pull/2838) ([dependabot-preview[bot]](https://github.com/apps/dependabot-preview))
- Bump to Erlang 22.1/Elixir 1.9.1 [\#2832](https://github.com/hippware/wocky/pull/2832) ([toland](https://github.com/toland))
- Restore location share end notification to self [\#2831](https://github.com/hippware/wocky/pull/2831) ([toland](https://github.com/toland))
- Fix running ex\_unit tests during `mix check` [\#2830](https://github.com/hippware/wocky/pull/2830) ([toland](https://github.com/toland))
- Revert PR 2824 [\#2829](https://github.com/hippware/wocky/pull/2829) ([bengtan](https://github.com/bengtan))
- Fix crash in API metrics code [\#2828](https://github.com/hippware/wocky/pull/2828) ([toland](https://github.com/toland))
- 2821 loc share end self [\#2824](https://github.com/hippware/wocky/pull/2824) ([bernardd](https://github.com/bernardd))
- Bump postgrex from 0.15.0 to 0.15.1 [\#2823](https://github.com/hippware/wocky/pull/2823) ([dependabot-preview[bot]](https://github.com/apps/dependabot-preview))
- Add counters for active connections and location uploads [\#2817](https://github.com/hippware/wocky/pull/2817) ([bernardd](https://github.com/bernardd))

## [2019.9.13+r03d6457](https://github.com/hippware/wocky/tree/2019.9.13+r03d6457) (2019-09-13)

[Full Changelog](https://github.com/hippware/wocky/compare/2019.9.11+r8302726...2019.9.13+r03d6457)

**Merged pull requests:**

- Bump prometheus\_process\_collector from 1.4.3 to 1.4.5 [\#2818](https://github.com/hippware/wocky/pull/2818) ([dependabot-preview[bot]](https://github.com/apps/dependabot-preview))
- Bump ex\_json\_logger from 1.0.0 to 1.1.0 [\#2816](https://github.com/hippware/wocky/pull/2816) ([dependabot-preview[bot]](https://github.com/apps/dependabot-preview))

## [2019.9.11+r8302726](https://github.com/hippware/wocky/tree/2019.9.11+r8302726) (2019-09-11)

[Full Changelog](https://github.com/hippware/wocky/compare/2019.9.2+r8f3daf8...2019.9.11+r8302726)

**Closed issues:**

- Move from kube2iam to service account - IAM based system [\#2808](https://github.com/hippware/wocky/issues/2808)
- \[DISCUSSION\] Message queueing requirements for Wocky [\#2802](https://github.com/hippware/wocky/issues/2802)

**Merged pull requests:**

- User prox fix [\#2815](https://github.com/hippware/wocky/pull/2815) ([bernardd](https://github.com/bernardd))
- Bump ex\_check from 0.10.0 to 0.11.0 [\#2813](https://github.com/hippware/wocky/pull/2813) ([dependabot-preview[bot]](https://github.com/apps/dependabot-preview))
- Bump rexbug from 1.0.0 to 1.0.3 [\#2811](https://github.com/hippware/wocky/pull/2811) ([dependabot-preview[bot]](https://github.com/apps/dependabot-preview))
- Bump phoenix from 1.4.9 to 1.4.10 [\#2810](https://github.com/hippware/wocky/pull/2810) ([dependabot-preview[bot]](https://github.com/apps/dependabot-preview))
- Move us1 to SSL redis [\#2809](https://github.com/hippware/wocky/pull/2809) ([bernardd](https://github.com/bernardd))
- Use a non-FIFO queue for Dawdle messages [\#2807](https://github.com/hippware/wocky/pull/2807) ([toland](https://github.com/toland))
- Data consistency funs [\#2806](https://github.com/hippware/wocky/pull/2806) ([bernardd](https://github.com/bernardd))

## [2019.9.2+r8f3daf8](https://github.com/hippware/wocky/tree/2019.9.2+r8f3daf8) (2019-09-02)

[Full Changelog](https://github.com/hippware/wocky/compare/2019.8.27+r5ea6673...2019.9.2+r8f3daf8)

**Closed issues:**

- Change accuracy uncertainty/range to 65 or 66. [\#2799](https://github.com/hippware/wocky/issues/2799)
- Upgrade to DynamicSupervisor [\#2797](https://github.com/hippware/wocky/issues/2797)

**Merged pull requests:**

- Bump credo from 1.1.3 to 1.1.4 [\#2805](https://github.com/hippware/wocky/pull/2805) ([dependabot-preview[bot]](https://github.com/apps/dependabot-preview))

## [2019.8.27+r5ea6673](https://github.com/hippware/wocky/tree/2019.8.27+r5ea6673) (2019-08-27)

[Full Changelog](https://github.com/hippware/wocky/compare/2019.8.27+r7cedac4...2019.8.27+r5ea6673)

**Closed issues:**

- High priority for data-only messages [\#2793](https://github.com/hippware/wocky/issues/2793)
- Expose more RNBGL fields in the location audit [\#2788](https://github.com/hippware/wocky/issues/2788)
- Mark all old/existing chat messages as read [\#2783](https://github.com/hippware/wocky/issues/2783)
- Changes to android push notifications [\#2778](https://github.com/hippware/wocky/issues/2778)
- Review Redis use to make sure all items expire or have some other cleanup mechanism [\#2774](https://github.com/hippware/wocky/issues/2774)
- Consider rolling DB watcher into wocky [\#2708](https://github.com/hippware/wocky/issues/2708)
- Move from `ecto\_homoiconic\_enum` to `ecto\_enum` [\#2706](https://github.com/hippware/wocky/issues/2706)
- \[client request\] Image files saved with thumbnail in original aspect ratio [\#2701](https://github.com/hippware/wocky/issues/2701)
- Use direct dispatching feature of Dawdle [\#2680](https://github.com/hippware/wocky/issues/2680)
- Use APNS keys instead of certificates [\#2095](https://github.com/hippware/wocky/issues/2095)

**Merged pull requests:**

- Move from simple\_one\_for\_one to DynamicSupervisor [\#2801](https://github.com/hippware/wocky/pull/2801) ([bernardd](https://github.com/bernardd))
- Add backend support for user proximity [\#2798](https://github.com/hippware/wocky/pull/2798) ([bernardd](https://github.com/bernardd))

## [2019.8.27+r7cedac4](https://github.com/hippware/wocky/tree/2019.8.27+r7cedac4) (2019-08-27)

[Full Changelog](https://github.com/hippware/wocky/compare/2019.8.20+re723d19...2019.8.27+r7cedac4)

**Closed issues:**

- \[Wocky/staging\] ErlangError: Erlang error: {:timeout, {:gen\_statem, :call, \[Swarm.Tracker, {:track, "location\_handler\_55cb59a6-55e2-11e6-b457-0eea5386eb69", %{mfa: {Wocky.Location.Supervisor, :start\_child, \["55cb59a6-55e2-11e6-b457-0eea5386eb69"\]}}}, 5000\]}} [\#2791](https://github.com/hippware/wocky/issues/2791)

**Merged pull requests:**

- Bump accuracy threshold to 65m [\#2800](https://github.com/hippware/wocky/pull/2800) ([toland](https://github.com/toland))
- Bump geo\_postgis from 3.2.0 to 3.3.0 [\#2795](https://github.com/hippware/wocky/pull/2795) ([dependabot-preview[bot]](https://github.com/apps/dependabot-preview))
- Add APNS push priority support [\#2794](https://github.com/hippware/wocky/pull/2794) ([bernardd](https://github.com/bernardd))
- Add extra fields support to location uploads [\#2792](https://github.com/hippware/wocky/pull/2792) ([bernardd](https://github.com/bernardd))
- Bump credo from 1.1.2 to 1.1.3 [\#2790](https://github.com/hippware/wocky/pull/2790) ([dependabot-preview[bot]](https://github.com/apps/dependabot-preview))

## [2019.8.20+re723d19](https://github.com/hippware/wocky/tree/2019.8.20+re723d19) (2019-08-20)

[Full Changelog](https://github.com/hippware/wocky/compare/2019.8.15+r8edd193...2019.8.20+re723d19)

**Closed issues:**

- Bot subscriber list or count incorrect \(Prod\) [\#2781](https://github.com/hippware/wocky/issues/2781)

**Merged pull requests:**

- Remove location shares on block [\#2789](https://github.com/hippware/wocky/pull/2789) ([bernardd](https://github.com/bernardd))
- Add migration to mark all existing messages as read [\#2787](https://github.com/hippware/wocky/pull/2787) ([bernardd](https://github.com/bernardd))
- Bump excoveralls from 0.11.1 to 0.11.2 [\#2786](https://github.com/hippware/wocky/pull/2786) ([dependabot-preview[bot]](https://github.com/apps/dependabot-preview))
- Bump ex\_check from 0.9.0 to 0.10.0 [\#2785](https://github.com/hippware/wocky/pull/2785) ([dependabot-preview[bot]](https://github.com/apps/dependabot-preview))
- Bump pigeon from 1.3.1 to 1.3.2 [\#2784](https://github.com/hippware/wocky/pull/2784) ([dependabot-preview[bot]](https://github.com/apps/dependabot-preview))
- Add bot and user indices to bot events table [\#2782](https://github.com/hippware/wocky/pull/2782) ([bernardd](https://github.com/bernardd))
- Add android sound params to FCM push notificaitons [\#2780](https://github.com/hippware/wocky/pull/2780) ([toland](https://github.com/toland))
- Bump apollo\_tracing from 0.4.1 to 0.4.3 [\#2779](https://github.com/hippware/wocky/pull/2779) ([dependabot-preview[bot]](https://github.com/apps/dependabot-preview))

## [2019.8.15+r8edd193](https://github.com/hippware/wocky/tree/2019.8.15+r8edd193) (2019-08-15)

[Full Changelog](https://github.com/hippware/wocky/compare/2019.8.13+rdf82a24...2019.8.15+r8edd193)

**Closed issues:**

- \[Wocky/us1\] MatchError: no match of right hand side value: {:error, {:badmatch, {:error, {%Postgrex.Error{connection\_id: 24008, message: nil, postgres: %{code: :feature\_not\_supported, file: "plancache.c", line: "722", message: "cached plan must not change result type", pg\_code: "0A000", routine: "RevalidateCachedQuery", severity: "ERROR", unknown: "ERROR"}, query: nil}, \[{Ecto.Adapters.SQL, :raise\_sql\_call\_error, 1, \[file: 'lib/ecto/adapters/sql.ex', line: 621\]}, {Ecto.Adapters.SQL, :execute, 5, \[file: '... [\#2773](https://github.com/hippware/wocky/issues/2773)
- \[Wocky/us1\] MatchError: no match of right hand side value: {:error, {:badmatch, {:error, {%Postgrex.Error{connection\_id: 24008, message: nil, postgres: %{code: :feature\_not\_supported, file: "plancache.c", line: "722", message: "cached plan must not change result type", pg\_code: "0A000", routine: "RevalidateCachedQuery", severity: "ERROR", unknown: "ERROR"}, query: nil}, \[{Ecto.Adapters.SQL, :raise\_sql\_call\_error, 1, \[file: 'lib/ecto/adapters/sql.ex', line: 621\]}, {Ecto.Adapters.SQL, :execute, 5, \[file: '... [\#2772](https://github.com/hippware/wocky/issues/2772)

**Merged pull requests:**

- APNS config fix [\#2777](https://github.com/hippware/wocky/pull/2777) ([bernardd](https://github.com/bernardd))
- Use APNS key/JWT instead of certificates [\#2776](https://github.com/hippware/wocky/pull/2776) ([bernardd](https://github.com/bernardd))
- Add expiry to all redis records [\#2775](https://github.com/hippware/wocky/pull/2775) ([bernardd](https://github.com/bernardd))

## [2019.8.13+rdf82a24](https://github.com/hippware/wocky/tree/2019.8.13+rdf82a24) (2019-08-13)

[Full Changelog](https://github.com/hippware/wocky/compare/2019.8.8+r61efeaf...2019.8.13+rdf82a24)

**Closed issues:**

- \[Wocky/us1\] RuntimeError: Instance Meta Error: {:error, %{reason: :timeout}}

You tried to access the AWS EC2 instance meta, but it could not be reached.
This happens most often when trying to access it from your local computer,
which happens when environment variables are not set correctly prompting
ExAws to fallback to the Instance Meta.

Please check your key config and make sure they're configured correctly:

For Example:
```
ExAws.Config.new\(:s3\)
ExAws.Config.new\(:dynamodb\)
``` [\#2770](https://github.com/hippware/wocky/issues/2770)
- Investigate switching to Aurora Serverless [\#2688](https://github.com/hippware/wocky/issues/2688)

**Merged pull requests:**

- Cronjob fixes [\#2771](https://github.com/hippware/wocky/pull/2771) ([bernardd](https://github.com/bernardd))
- Update ModuleConfig to version 1.0 [\#2769](https://github.com/hippware/wocky/pull/2769) ([toland](https://github.com/toland))
- Bump absinthe from `a29c64e` to `116dbae` [\#2767](https://github.com/hippware/wocky/pull/2767) ([dependabot-preview[bot]](https://github.com/apps/dependabot-preview))
- Move staging to SSL Redis server [\#2766](https://github.com/hippware/wocky/pull/2766) ([bernardd](https://github.com/bernardd))
- Add 'mix check' [\#2765](https://github.com/hippware/wocky/pull/2765) ([toland](https://github.com/toland))

## [2019.8.8+r61efeaf](https://github.com/hippware/wocky/tree/2019.8.8+r61efeaf) (2019-08-08)

[Full Changelog](https://github.com/hippware/wocky/compare/2019.8.7+r9e3d98b...2019.8.8+r61efeaf)

**Fixed bugs:**

- Client integration tests fail after IAM changes [\#2697](https://github.com/hippware/wocky/issues/2697)

**Closed issues:**

- Create an endpoint to trigger silent push notification [\#2692](https://github.com/hippware/wocky/issues/2692)
- Checkpoint the database migrations [\#2678](https://github.com/hippware/wocky/issues/2678)
- Scope/research firebase 'change of phone number' operation [\#2674](https://github.com/hippware/wocky/issues/2674)
- LoadProfile of self contains presenceStatus:OFFLINE [\#2670](https://github.com/hippware/wocky/issues/2670)

**Merged pull requests:**

- Fix GraphQL error caused by user not having avatar set [\#2764](https://github.com/hippware/wocky/pull/2764) ([bernardd](https://github.com/bernardd))
- Validate upload MIME type [\#2763](https://github.com/hippware/wocky/pull/2763) ([bernardd](https://github.com/bernardd))
- Remove unused migration utils module [\#2762](https://github.com/hippware/wocky/pull/2762) ([toland](https://github.com/toland))
- Add functions for \(en|dis\)ableing audit for a user [\#2761](https://github.com/hippware/wocky/pull/2761) ([toland](https://github.com/toland))
- Remove use of homoiconic enum in favour of native PSQL enums [\#2760](https://github.com/hippware/wocky/pull/2760) ([bernardd](https://github.com/bernardd))

## [2019.8.7+r9e3d98b](https://github.com/hippware/wocky/tree/2019.8.7+r9e3d98b) (2019-08-07)

[Full Changelog](https://github.com/hippware/wocky/compare/2019.8.6+r7e54138...2019.8.7+r9e3d98b)

**Merged pull requests:**

- Update the checkpoint migration with full schema [\#2759](https://github.com/hippware/wocky/pull/2759) ([toland](https://github.com/toland))

## [2019.8.6+r7e54138](https://github.com/hippware/wocky/tree/2019.8.6+r7e54138) (2019-08-06)

[Full Changelog](https://github.com/hippware/wocky/compare/2019.8.6+r560b2f3...2019.8.6+r7e54138)

**Merged pull requests:**

- Fix twilio default key value [\#2758](https://github.com/hippware/wocky/pull/2758) ([bernardd](https://github.com/bernardd))
- Fix permissions for deploy container [\#2757](https://github.com/hippware/wocky/pull/2757) ([bernardd](https://github.com/bernardd))
- Remove remaining ejson use from staging and us1 [\#2753](https://github.com/hippware/wocky/pull/2753) ([bernardd](https://github.com/bernardd))

## [2019.8.6+r560b2f3](https://github.com/hippware/wocky/tree/2019.8.6+r560b2f3) (2019-08-06)

[Full Changelog](https://github.com/hippware/wocky/compare/2019.7.31+r4cb3a68...2019.8.6+r560b2f3)

**Closed issues:**

- \[Wocky/testing\] ArgumentError: you attempted to apply :receipt\_handle on "g3QAAAAFZAAKX19zdHJ1Y3RfX2QAFUVsaXhpci5EYXdkbGVEQi5FdmVudGQABmFjdGlvbmQABnVwZGF0ZWQAA25ld3QAAAATZAALYm90X2NyZWF0ZWRkAAVmYWxzZWQAC2NsaWVudF9kYXRhbQAAAC97InNoYXJlUHJlc2VuY2VQcmltZWQiOmZhbHNlLCJndWVzdE9uY2UiOmZhbHNlfWQACmNyZWF0ZWRfYXRtAAAAIDIwMTktMDctMjlUMDI6Mjc6MTUuMjA5NjExKzAwOjAwZAAFZW1haWxtAAAACGFAYWEuY29tZAALZXh0ZXJuYWxfaWRtAAAADCsxNTU1NjM5NzE5MGQABmhhbmRsZW0AAAAMYTE1NTU2Mzk3MTkwZAACaWRtAAAAJGM0NDVkNmViLTA4YzktNGVhYS04NzIwLTEwYjR... [\#2711](https://github.com/hippware/wocky/issues/2711)

**Merged pull requests:**

- Bump DawdleDB to 0.6.0 [\#2756](https://github.com/hippware/wocky/pull/2756) ([toland](https://github.com/toland))
- Bump bamboo from 1.2.0 to 1.3.0 [\#2755](https://github.com/hippware/wocky/pull/2755) ([dependabot-preview[bot]](https://github.com/apps/dependabot-preview))
- Bump stringprep from 1.0.16 to 1.0.17 [\#2754](https://github.com/hippware/wocky/pull/2754) ([dependabot-preview[bot]](https://github.com/apps/dependabot-preview))
- Remove secrets ref from predeploy [\#2752](https://github.com/hippware/wocky/pull/2752) ([bernardd](https://github.com/bernardd))
- Add back some defaults for values that aren't set everywhere [\#2751](https://github.com/hippware/wocky/pull/2751) ([bernardd](https://github.com/bernardd))
- Add missing alias [\#2750](https://github.com/hippware/wocky/pull/2750) ([bernardd](https://github.com/bernardd))
- Fix typo [\#2749](https://github.com/hippware/wocky/pull/2749) ([bernardd](https://github.com/bernardd))
- Remaining vault [\#2748](https://github.com/hippware/wocky/pull/2748) ([bernardd](https://github.com/bernardd))
- More fixes [\#2746](https://github.com/hippware/wocky/pull/2746) ([bernardd](https://github.com/bernardd))
- More fixes [\#2745](https://github.com/hippware/wocky/pull/2745) ([bernardd](https://github.com/bernardd))
- Rework and simplify confex config provider [\#2744](https://github.com/hippware/wocky/pull/2744) ([bernardd](https://github.com/bernardd))
- Dammit [\#2743](https://github.com/hippware/wocky/pull/2743) ([bernardd](https://github.com/bernardd))
- Add some debugging [\#2742](https://github.com/hippware/wocky/pull/2742) ([bernardd](https://github.com/bernardd))
- Add role assumption metadata to predeploy [\#2741](https://github.com/hippware/wocky/pull/2741) ([bernardd](https://github.com/bernardd))
- Add logging to vault adapter [\#2740](https://github.com/hippware/wocky/pull/2740) ([bernardd](https://github.com/bernardd))
- Vault adapter [\#2739](https://github.com/hippware/wocky/pull/2739) ([bernardd](https://github.com/bernardd))
- Revert "Rework vault config to use Distillery config provider" [\#2738](https://github.com/hippware/wocky/pull/2738) ([bernardd](https://github.com/bernardd))
- Rework vault config to use Distillery config provider [\#2737](https://github.com/hippware/wocky/pull/2737) ([bernardd](https://github.com/bernardd))
- Bump credo\_naming from 0.3.3 to 0.4.0 [\#2736](https://github.com/hippware/wocky/pull/2736) ([dependabot-preview[bot]](https://github.com/apps/dependabot-preview))
- Add line to actually log payload string [\#2735](https://github.com/hippware/wocky/pull/2735) ([bernardd](https://github.com/bernardd))
- Bump credo\_naming from 0.3.2 to 0.3.3 [\#2723](https://github.com/hippware/wocky/pull/2723) ([dependabot-preview[bot]](https://github.com/apps/dependabot-preview))
- Bump observer\_cli from 1.5.1 to 1.5.2 [\#2722](https://github.com/hippware/wocky/pull/2722) ([dependabot-preview[bot]](https://github.com/apps/dependabot-preview))

## [2019.7.31+r4cb3a68](https://github.com/hippware/wocky/tree/2019.7.31+r4cb3a68) (2019-07-31)

[Full Changelog](https://github.com/hippware/wocky/compare/2019.7.29+r091e038...2019.7.31+r4cb3a68)

**Closed issues:**

- \[Wocky/testing\] Ecto.Query.CastError: deps/ecto/lib/ecto/repo/queryable.ex:373: value `"wocky"` cannot be dumped to type :binary\_id in query:

from u0 in Wocky.Account.User,
  where: u0.id == ^"wocky",
  select: u0 [\#2717](https://github.com/hippware/wocky/issues/2717)
- Push notifications audit: User friendlier display [\#2695](https://github.com/hippware/wocky/issues/2695)
- ScrubbedValues: 2 key/value pairs were not indexed due to invalid values [\#2693](https://github.com/hippware/wocky/issues/2693)

**Merged pull requests:**

- Walk back config again. [\#2734](https://github.com/hippware/wocky/pull/2734) ([bernardd](https://github.com/bernardd))
- Trying vault again with more startup handling smarts [\#2733](https://github.com/hippware/wocky/pull/2733) ([bernardd](https://github.com/bernardd))
- Wind back vault config again, dangit [\#2732](https://github.com/hippware/wocky/pull/2732) ([bernardd](https://github.com/bernardd))
- Handle vault cache not being started yet [\#2731](https://github.com/hippware/wocky/pull/2731) ([bernardd](https://github.com/bernardd))
- Re-enable vault-sourced redis password [\#2730](https://github.com/hippware/wocky/pull/2730) ([bernardd](https://github.com/bernardd))
- Fix Cachex result handling [\#2729](https://github.com/hippware/wocky/pull/2729) ([bernardd](https://github.com/bernardd))
- fix another typo [\#2728](https://github.com/hippware/wocky/pull/2728) ([bernardd](https://github.com/bernardd))
- Undo vault config [\#2727](https://github.com/hippware/wocky/pull/2727) ([bernardd](https://github.com/bernardd))
- Fix secrets typo [\#2726](https://github.com/hippware/wocky/pull/2726) ([bernardd](https://github.com/bernardd))
- Change remaining redis password configs [\#2725](https://github.com/hippware/wocky/pull/2725) ([bernardd](https://github.com/bernardd))
- Sprinkle some caching over Vault [\#2724](https://github.com/hippware/wocky/pull/2724) ([bernardd](https://github.com/bernardd))
- Add configurable vault prefix [\#2721](https://github.com/hippware/wocky/pull/2721) ([bernardd](https://github.com/bernardd))
- Add Confex vault adapter [\#2720](https://github.com/hippware/wocky/pull/2720) ([bernardd](https://github.com/bernardd))
- Add stringified payload to push log [\#2719](https://github.com/hippware/wocky/pull/2719) ([bernardd](https://github.com/bernardd))
- Tighten up argument type on location\_request\_trigger [\#2718](https://github.com/hippware/wocky/pull/2718) ([bernardd](https://github.com/bernardd))
- Integrate the DB Watcher into Wocky [\#2716](https://github.com/hippware/wocky/pull/2716) ([toland](https://github.com/toland))

## [2019.7.29+r091e038](https://github.com/hippware/wocky/tree/2019.7.29+r091e038) (2019-07-29)

[Full Changelog](https://github.com/hippware/wocky/compare/2019.7.24+ra2df676...2019.7.29+r091e038)

**Merged pull requests:**

-  Reapply "Use Dawdle's direct delivery to replace callbacks" [\#2715](https://github.com/hippware/wocky/pull/2715) ([toland](https://github.com/toland))
- Bump observer\_cli from 1.5.0 to 1.5.1 [\#2714](https://github.com/hippware/wocky/pull/2714) ([dependabot-preview[bot]](https://github.com/apps/dependabot-preview))
- Bump plug from 1.8.2 to 1.8.3 [\#2713](https://github.com/hippware/wocky/pull/2713) ([dependabot-preview[bot]](https://github.com/apps/dependabot-preview))
- Revert "Use Dawdle's direct delivery to replace callbacks" [\#2712](https://github.com/hippware/wocky/pull/2712) ([bernardd](https://github.com/bernardd))
- Move to upstream ecto\_enum release [\#2707](https://github.com/hippware/wocky/pull/2707) ([bernardd](https://github.com/bernardd))
- Aspect-ratio-correct thumbnail [\#2705](https://github.com/hippware/wocky/pull/2705) ([bernardd](https://github.com/bernardd))
- Add an endpoint to trigger a location request [\#2704](https://github.com/hippware/wocky/pull/2704) ([toland](https://github.com/toland))
- Bump geo\_postgis from 3.1.0 to 3.2.0 [\#2702](https://github.com/hippware/wocky/pull/2702) ([dependabot-preview[bot]](https://github.com/apps/dependabot-preview))
- Use Dawdle's direct delivery to replace callbacks [\#2686](https://github.com/hippware/wocky/pull/2686) ([toland](https://github.com/toland))

## [2019.7.24+ra2df676](https://github.com/hippware/wocky/tree/2019.7.24+ra2df676) (2019-07-24)

[Full Changelog](https://github.com/hippware/wocky/compare/2019.7.22+r7529339...2019.7.24+ra2df676)

**Closed issues:**

- \[Wocky/testing\] CaseClauseError: no case clause matching: {:error, {:http\_error, 403, %{code: "AccessDenied", detail: "", message: "Access to the resource https://sqs.us-west-2.amazonaws.com/wocky-dawdle-testing is denied.", request\_id: "febf67e3-9530-5d18-9724-324caf174f7c", type: "Sender"}}} [\#2690](https://github.com/hippware/wocky/issues/2690)
- Add '@impl' attributes to functions that implement callbacks [\#2683](https://github.com/hippware/wocky/issues/2683)
- Use ModuleConfig [\#2681](https://github.com/hippware/wocky/issues/2681)
- Scope/research multi-device functionality [\#2673](https://github.com/hippware/wocky/issues/2673)
- Presence subscription does not signal presence of self [\#2666](https://github.com/hippware/wocky/issues/2666)
- tzdata failing to update properly [\#2656](https://github.com/hippware/wocky/issues/2656)
- Predeploy pod throwing errors [\#2655](https://github.com/hippware/wocky/issues/2655)
- User location data points not logged to loggly or location audit [\#2644](https://github.com/hippware/wocky/issues/2644)
- Update images to Elixir 1.9 [\#2628](https://github.com/hippware/wocky/issues/2628)
- Improve test coverage and test organization [\#2581](https://github.com/hippware/wocky/issues/2581)
- Enable auditing for specific users [\#2576](https://github.com/hippware/wocky/issues/2576)

**Merged pull requests:**

- Replace credo\_filename\_consistency with credo\_naming [\#2700](https://github.com/hippware/wocky/pull/2700) ([toland](https://github.com/toland))
- Update wocky\_db\_watcher [\#2699](https://github.com/hippware/wocky/pull/2699) ([toland](https://github.com/toland))
- IAM Auth fixes [\#2698](https://github.com/hippware/wocky/pull/2698) ([toland](https://github.com/toland))
- Bump credo from 1.1.1 to 1.1.2 [\#2696](https://github.com/hippware/wocky/pull/2696) ([dependabot-preview[bot]](https://github.com/apps/dependabot-preview))
- Add separate IAM support for db dumper [\#2694](https://github.com/hippware/wocky/pull/2694) ([bernardd](https://github.com/bernardd))
- Update phone number if it changes in Firebase [\#2676](https://github.com/hippware/wocky/pull/2676) ([toland](https://github.com/toland))

## [2019.7.22+r7529339](https://github.com/hippware/wocky/tree/2019.7.22+r7529339) (2019-07-22)

[Full Changelog](https://github.com/hippware/wocky/compare/2019.7.12+rbc1a11b...2019.7.22+r7529339)

**Closed issues:**

- Single isRead flag for sender and recipient is possibly confusing [\#2675](https://github.com/hippware/wocky/issues/2675)
- Update alpine-erlang to Erlang 22.0.7 [\#2672](https://github.com/hippware/wocky/issues/2672)

**Merged pull requests:**

- More IAM role work [\#2691](https://github.com/hippware/wocky/pull/2691) ([bernardd](https://github.com/bernardd))
- Use instance roles+kube2iam instead of AWS keys to manage permissions [\#2689](https://github.com/hippware/wocky/pull/2689) ([bernardd](https://github.com/bernardd))
- Bump prometheus\_phoenix from 1.2.1 to 1.3.0 [\#2687](https://github.com/hippware/wocky/pull/2687) ([dependabot-preview[bot]](https://github.com/apps/dependabot-preview))
- Replace Wocky.Config module with ModuleConfig [\#2685](https://github.com/hippware/wocky/pull/2685) ([toland](https://github.com/toland))
- Add the @impl attribute where it was missing [\#2684](https://github.com/hippware/wocky/pull/2684) ([toland](https://github.com/toland))
- Bump geo from `c8ce429` to `acdffaf` [\#2682](https://github.com/hippware/wocky/pull/2682) ([dependabot-preview[bot]](https://github.com/apps/dependabot-preview))
- Add a checkpoint migration [\#2679](https://github.com/hippware/wocky/pull/2679) ([toland](https://github.com/toland))
- Bump credo from 1.1.0 to 1.1.1 [\#2677](https://github.com/hippware/wocky/pull/2677) ([dependabot-preview[bot]](https://github.com/apps/dependabot-preview))

## [2019.7.12+rbc1a11b](https://github.com/hippware/wocky/tree/2019.7.12+rbc1a11b) (2019-07-12)

[Full Changelog](https://github.com/hippware/wocky/compare/2019.7.8+rbb7609b...2019.7.12+rbc1a11b)

**Closed issues:**

- Neat debugging tool to plot your route on a small map [\#1790](https://github.com/hippware/wocky/issues/1790)

**Merged pull requests:**

- Allow the user to query their own presence [\#2671](https://github.com/hippware/wocky/pull/2671) ([toland](https://github.com/toland))

## [2019.7.8+rbb7609b](https://github.com/hippware/wocky/tree/2019.7.8+rbb7609b) (2019-07-08)

[Full Changelog](https://github.com/hippware/wocky/compare/2019.7.3+r34a12a7...2019.7.8+rbb7609b)

**Closed issues:**

- userBulkLookup returning incorrect null result [\#2668](https://github.com/hippware/wocky/issues/2668)
- Server does not respond to all items in a paged query [\#2663](https://github.com/hippware/wocky/issues/2663)
- \[Wocky/testing\] ErlangError: Erlang error: :terminated [\#2661](https://github.com/hippware/wocky/issues/2661)
- \[Wocky/staging\] FunctionClauseError: no function clause matching in Tzdata.Util.first\_matching\_weekday\_in\_month/4

The following arguments were given to Tzdata.Util.first\_matching\_weekday\_in\_month/4:

    \# 1
    1932

    \# 2
    4

    \# 3
    7

    \# 4
    \[\]

Attempted function clauses \(showing 1 out of 1\):

    defp first\_matching\_weekday\_in\_month\(year, month, weekday, -\[head | tail\]-\) [\#2660](https://github.com/hippware/wocky/issues/2660)
- Missing bot invite notification? [\#2651](https://github.com/hippware/wocky/issues/2651)

**Merged pull requests:**

- Include the online/offline user in their own presence notification updates [\#2669](https://github.com/hippware/wocky/pull/2669) ([bernardd](https://github.com/bernardd))
- Rework bulk user operations to fix corner cases [\#2667](https://github.com/hippware/wocky/pull/2667) ([bernardd](https://github.com/bernardd))
- Switch vaultex to our fork [\#2665](https://github.com/hippware/wocky/pull/2665) ([bernardd](https://github.com/bernardd))
- Bump phoenix from 1.4.8 to 1.4.9 [\#2664](https://github.com/hippware/wocky/pull/2664) ([dependabot-preview[bot]](https://github.com/apps/dependabot-preview))
- Add vaultex [\#2662](https://github.com/hippware/wocky/pull/2662) ([bernardd](https://github.com/bernardd))
- Bump distillery from 2.1.0 to 2.1.1 [\#2653](https://github.com/hippware/wocky/pull/2653) ([dependabot-preview[bot]](https://github.com/apps/dependabot-preview))

## [2019.7.3+r34a12a7](https://github.com/hippware/wocky/tree/2019.7.3+r34a12a7) (2019-07-03)

[Full Changelog](https://github.com/hippware/wocky/compare/2019.6.26+redac896...2019.7.3+r34a12a7)

**Closed issues:**

- \[Wocky/testing\] FunctionClauseError: no function clause matching in Tzdata.Util.first\_matching\_weekday\_in\_month/4

The following arguments were given to Tzdata.Util.first\_matching\_weekday\_in\_month/4:

    \# 1
    1932

    \# 2
    4

    \# 3
    7

    \# 4
    \[\]

Attempted function clauses \(showing 1 out of 1\):

    defp first\_matching\_weekday\_in\_month\(year, month, weekday, -\[head | tail\]-\) [\#2654](https://github.com/hippware/wocky/issues/2654)
- \[Wocky/us1\] FunctionClauseError: no function clause matching in Tzdata.Util.first\_matching\_weekday\_in\_month/4

The following arguments were given to Tzdata.Util.first\_matching\_weekday\_in\_month/4:

    \# 1
    1932

    \# 2
    4

    \# 3
    7

    \# 4
    \[\]

Attempted function clauses \(showing 1 out of 1\):

    defp first\_matching\_weekday\_in\_month\(year, month, weekday, -\[head | tail\]-\) [\#2652](https://github.com/hippware/wocky/issues/2652)
- \[Wocky/us1\] ArgumentError: cannot load `"invitation"` as type Wocky.Notifier.InBand.Notification.NotificationType for field :type in %Wocky.Notifier.InBand.Notification{\_\_meta\_\_: \#Ecto.Schema.Metadata\<:loaded, "notifications"\>, bot: \#Ecto.Association.NotLoaded\<association :bot is not loaded\>, bot\_id: nil, bot\_invitation: \#Ecto.Association.NotLoaded\<association :bot\_invitation is not loaded\>, bot\_invitation\_accepted: nil, bot\_invitation\_id: nil, bot\_item: \#Ecto.Association.NotLoaded\<association :bot\_item ... [\#2649](https://github.com/hippware/wocky/issues/2649)
- \[Wocky/us1\] ArgumentError: non-alphabet digit found: "{" \(byte 123\) [\#2648](https://github.com/hippware/wocky/issues/2648)
- \[Wocky/us1\] Postgrex.Error: ERROR 42P01 \(undefined\_table\): relation "tokens" does not exist [\#2647](https://github.com/hippware/wocky/issues/2647)
- Remove '@server' component from push notification deeplinks [\#2624](https://github.com/hippware/wocky/issues/2624)
- Try SSL-Redis on testing again [\#2621](https://github.com/hippware/wocky/issues/2621)
- New push notifications: User invite and acceptance, live location share [\#2614](https://github.com/hippware/wocky/issues/2614)
- Request for extra fields in location audit [\#2609](https://github.com/hippware/wocky/issues/2609)
- Implement isRead field for messages and an API to mark as read [\#2608](https://github.com/hippware/wocky/issues/2608)
- Add a new text field to messages to store client data. [\#2604](https://github.com/hippware/wocky/issues/2604)
- Play the default tone for iOS push notifications of a new message [\#2603](https://github.com/hippware/wocky/issues/2603)
- Send audit logs to Loggly not SQL [\#2602](https://github.com/hippware/wocky/issues/2602)
- Configure location accuracy uncertainty threshold to 50m [\#2555](https://github.com/hippware/wocky/issues/2555)
- Delete current location when last share expires [\#2552](https://github.com/hippware/wocky/issues/2552)
- Refactor the `Bot` module [\#2550](https://github.com/hippware/wocky/issues/2550)
- Server is returning `bot:null` [\#2525](https://github.com/hippware/wocky/issues/2525)
- User search to include user accounts with empty names [\#2487](https://github.com/hippware/wocky/issues/2487)
- Optimize the geofence processing algorithm [\#2484](https://github.com/hippware/wocky/issues/2484)
- Ability to ask the client to send a new location data point [\#2025](https://github.com/hippware/wocky/issues/2025)
- GraphQL messaging [\#1672](https://github.com/hippware/wocky/issues/1672)
- GraphQL presence management [\#1671](https://github.com/hippware/wocky/issues/1671)

**Merged pull requests:**

- Fix dialyzer warnings [\#2659](https://github.com/hippware/wocky/pull/2659) ([bernardd](https://github.com/bernardd))
- Better error handling during deploy [\#2658](https://github.com/hippware/wocky/pull/2658) ([toland](https://github.com/toland))
- Update tzdata to fix crash [\#2657](https://github.com/hippware/wocky/pull/2657) ([toland](https://github.com/toland))
- Update terraform state file handling to 0.12 format [\#2650](https://github.com/hippware/wocky/pull/2650) ([bernardd](https://github.com/bernardd))
- Bump timex from 3.6.0 to 3.6.1 [\#2646](https://github.com/hippware/wocky/pull/2646) ([dependabot-preview[bot]](https://github.com/apps/dependabot-preview))
- Fix naming of location logging flag [\#2645](https://github.com/hippware/wocky/pull/2645) ([bernardd](https://github.com/bernardd))
- Tweaks for test stability [\#2643](https://github.com/hippware/wocky/pull/2643) ([bernardd](https://github.com/bernardd))
- More test suite improvements [\#2642](https://github.com/hippware/wocky/pull/2642) ([toland](https://github.com/toland))
- Bump plug\_cowboy from 2.0.2 to 2.1.0 [\#2641](https://github.com/hippware/wocky/pull/2641) ([dependabot-preview[bot]](https://github.com/apps/dependabot-preview))
- Bump ecto\_sql from 3.1.5 to 3.1.6 [\#2640](https://github.com/hippware/wocky/pull/2640) ([dependabot-preview[bot]](https://github.com/apps/dependabot-preview))
- Bump pigeon from 1.3.0 to 1.3.1 [\#2639](https://github.com/hippware/wocky/pull/2639) ([dependabot-preview[bot]](https://github.com/apps/dependabot-preview))
- Bump timex from 3.5.0 to 3.6.0 [\#2638](https://github.com/hippware/wocky/pull/2638) ([dependabot-preview[bot]](https://github.com/apps/dependabot-preview))
- Add feature flag support to auditing [\#2637](https://github.com/hippware/wocky/pull/2637) ([bernardd](https://github.com/bernardd))
- Bump absinthe version [\#2636](https://github.com/hippware/wocky/pull/2636) ([bernardd](https://github.com/bernardd))
- Remove unused \(and non-functional\) public scopes [\#2635](https://github.com/hippware/wocky/pull/2635) ([bernardd](https://github.com/bernardd))
- Sort deps alphabetically [\#2634](https://github.com/hippware/wocky/pull/2634) ([bernardd](https://github.com/bernardd))
- Move back to upstream pigeon using callback-powered config [\#2632](https://github.com/hippware/wocky/pull/2632) ([bernardd](https://github.com/bernardd))
- Another try at fixing deployment notification race [\#2631](https://github.com/hippware/wocky/pull/2631) ([bernardd](https://github.com/bernardd))
- Bump elixir version to 1.9 [\#2630](https://github.com/hippware/wocky/pull/2630) ([bernardd](https://github.com/bernardd))

## [2019.6.26+redac896](https://github.com/hippware/wocky/tree/2019.6.26+redac896) (2019-06-26)

[Full Changelog](https://github.com/hippware/wocky/compare/2019.6.25+r9d7d6bb...2019.6.26+redac896)

**Merged pull requests:**

- Remove lager\_logger [\#2629](https://github.com/hippware/wocky/pull/2629) ([toland](https://github.com/toland))
- Bump distillery from 2.0.14 to 2.1.0 [\#2627](https://github.com/hippware/wocky/pull/2627) ([dependabot-preview[bot]](https://github.com/apps/dependabot-preview))
- Only use Running pods for post-deploy [\#2626](https://github.com/hippware/wocky/pull/2626) ([bernardd](https://github.com/bernardd))
- SSL redis [\#2625](https://github.com/hippware/wocky/pull/2625) ([bernardd](https://github.com/bernardd))
- Replace Kronky with AbsintheErrorPayload [\#2618](https://github.com/hippware/wocky/pull/2618) ([bernardd](https://github.com/bernardd))
- 2608 add read field [\#2617](https://github.com/hippware/wocky/pull/2617) ([bernardd](https://github.com/bernardd))

## [2019.6.25+r9d7d6bb](https://github.com/hippware/wocky/tree/2019.6.25+r9d7d6bb) (2019-06-25)

[Full Changelog](https://github.com/hippware/wocky/compare/2019.6.24+r58c0260...2019.6.25+r9d7d6bb)

**Merged pull requests:**

- Tweak text on push notifications [\#2623](https://github.com/hippware/wocky/pull/2623) ([bernardd](https://github.com/bernardd))
- Revert "Retrying SSL/authenticated Redis" [\#2622](https://github.com/hippware/wocky/pull/2622) ([bernardd](https://github.com/bernardd))
- Retrying SSL/authenticated Redis [\#2620](https://github.com/hippware/wocky/pull/2620) ([bernardd](https://github.com/bernardd))

## [2019.6.24+r58c0260](https://github.com/hippware/wocky/tree/2019.6.24+r58c0260) (2019-06-24)

[Full Changelog](https://github.com/hippware/wocky/compare/2019.6.21+r21d76f0...2019.6.24+r58c0260)

**Merged pull requests:**

- Add/update push notifications [\#2616](https://github.com/hippware/wocky/pull/2616) ([bernardd](https://github.com/bernardd))
- Refactor bots and relations [\#2607](https://github.com/hippware/wocky/pull/2607) ([toland](https://github.com/toland))

## [2019.6.21+r21d76f0](https://github.com/hippware/wocky/tree/2019.6.21+r21d76f0) (2019-06-21)

[Full Changelog](https://github.com/hippware/wocky/compare/2019.6.21+r7a6804a...2019.6.21+r21d76f0)

**Merged pull requests:**

- Add clientData field to conversation view [\#2615](https://github.com/hippware/wocky/pull/2615) ([bernardd](https://github.com/bernardd))

## [2019.6.21+r7a6804a](https://github.com/hippware/wocky/tree/2019.6.21+r7a6804a) (2019-06-21)

[Full Changelog](https://github.com/hippware/wocky/compare/2019.6.21+r1ee3b2d...2019.6.21+r7a6804a)

**Merged pull requests:**

- Fix naming on messageSend mutation; deprecate old [\#2613](https://github.com/hippware/wocky/pull/2613) ([bernardd](https://github.com/bernardd))

## [2019.6.21+r1ee3b2d](https://github.com/hippware/wocky/tree/2019.6.21+r1ee3b2d) (2019-06-21)

[Full Changelog](https://github.com/hippware/wocky/compare/2019.6.19+reb549c5...2019.6.21+r1ee3b2d)

**Closed issues:**

- Clean up and improve the Wocky test suite [\#2573](https://github.com/hippware/wocky/issues/2573)
- Consolidate audit logging code into an Audit context [\#2569](https://github.com/hippware/wocky/issues/2569)
- Refactor the `User` module [\#2549](https://github.com/hippware/wocky/issues/2549)

**Merged pull requests:**

- Extra audit fields [\#2611](https://github.com/hippware/wocky/pull/2611) ([toland](https://github.com/toland))
- Allow storing client data for messages [\#2610](https://github.com/hippware/wocky/pull/2610) ([toland](https://github.com/toland))

## [2019.6.19+reb549c5](https://github.com/hippware/wocky/tree/2019.6.19+reb549c5) (2019-06-19)

[Full Changelog](https://github.com/hippware/wocky/compare/2019.6.17+r4d683a0...2019.6.19+reb549c5)

**Closed issues:**

- Send audit logs to DynamoDB [\#2574](https://github.com/hippware/wocky/issues/2574)

**Merged pull requests:**

- Add default sound for message push notifications [\#2606](https://github.com/hippware/wocky/pull/2606) ([bernardd](https://github.com/bernardd))
- Add message client\_data field [\#2605](https://github.com/hippware/wocky/pull/2605) ([bernardd](https://github.com/bernardd))
- Remove audit db [\#2601](https://github.com/hippware/wocky/pull/2601) ([bernardd](https://github.com/bernardd))

## [2019.6.17+r4d683a0](https://github.com/hippware/wocky/tree/2019.6.17+r4d683a0) (2019-06-17)

[Full Changelog](https://github.com/hippware/wocky/compare/2019.6.12+rcc76921...2019.6.17+r4d683a0)

**Closed issues:**

- Bulk-edit scurry's roster items on US1 via the DB [\#2593](https://github.com/hippware/wocky/issues/2593)
- \[Wocky/staging\] ArgumentError: :utc\_datetime\_usec expects microsecond precision, got: \#DateTime\<2019-06-12 17:51:23.000Z\> [\#2590](https://github.com/hippware/wocky/issues/2590)
- \[Wocky/staging\] Ecto.CastError: expected params to be a :map, got: `%Wocky.Location.UserLocation{accuracy: 22.5, activity: "on\_foot", activity\_confidence: 100, altitude: 61.6, altitude\_accuracy: 7.3, battery\_charging: false, battery\_level: 0.8199999928474426, captured\_at: \#DateTime\<2019-06-12 16:01:30.999Z\>, created\_at: \#DateTime\<2019-06-12 16:01:31.308623Z\>, device: "57BCA34B-33EF-4636-A059-AB250F213EEF", heading: 281.36, id: nil, is\_moving: true, lat: 34.08529362466914, lon: -118.37350328026474, odomet... [\#2586](https://github.com/hippware/wocky/issues/2586)
- \[Wocky/staging\] Postgrex.Error: ERROR 23503 \(foreign\_key\_violation\) insert or update on table "user\_bot\_events" violates foreign key constraint "user\_bot\_events\_bot\_id\_fkey"

    table: user\_bot\_events
    constraint: user\_bot\_events\_bot\_id\_fkey

Key \(bot\_id\)=\(2289ff07-87ea-4e15-98df-21aeef70f437\) is not present in table "bots". [\#2541](https://github.com/hippware/wocky/issues/2541)
- Latest version of Distillery breaks our releases [\#2515](https://github.com/hippware/wocky/issues/2515)

**Merged pull requests:**

- Bump bimap from 1.0.0 to 1.0.1 [\#2600](https://github.com/hippware/wocky/pull/2600) ([dependabot-preview[bot]](https://github.com/apps/dependabot-preview))
- Set correct region [\#2598](https://github.com/hippware/wocky/pull/2598) ([bernardd](https://github.com/bernardd))
- Add deployed tag to deployed image [\#2597](https://github.com/hippware/wocky/pull/2597) ([bernardd](https://github.com/bernardd))
- Bump ecto\_sql from 3.1.4 to 3.1.5 [\#2596](https://github.com/hippware/wocky/pull/2596) ([dependabot-preview[bot]](https://github.com/apps/dependabot-preview))
- Bump gen\_stage from 0.14.1 to 0.14.2 [\#2595](https://github.com/hippware/wocky/pull/2595) ([dependabot-preview[bot]](https://github.com/apps/dependabot-preview))
- Add logging for audit fields [\#2594](https://github.com/hippware/wocky/pull/2594) ([bernardd](https://github.com/bernardd))
- Bump phoenix from 1.4.6 to 1.4.8 [\#2589](https://github.com/hippware/wocky/pull/2589) ([dependabot-preview[bot]](https://github.com/apps/dependabot-preview))
- Bump honeybadger from 0.12.0 to 0.12.1 [\#2588](https://github.com/hippware/wocky/pull/2588) ([dependabot-preview[bot]](https://github.com/apps/dependabot-preview))
- Bump credo from 1.0.5 to 1.1.0 [\#2585](https://github.com/hippware/wocky/pull/2585) ([dependabot-preview[bot]](https://github.com/apps/dependabot-preview))

## [2019.6.12+rcc76921](https://github.com/hippware/wocky/tree/2019.6.12+rcc76921) (2019-06-12)

[Full Changelog](https://github.com/hippware/wocky/compare/2019.6.5+r05cadfa...2019.6.12+rcc76921)

**Closed issues:**

- Management of Admin SDK API access is being migrated to OAuth permissions [\#2579](https://github.com/hippware/wocky/issues/2579)
- Figure out a nice macro way to handle the `preload`, `!= nil` checks in our callback modules [\#2544](https://github.com/hippware/wocky/issues/2544)

**Merged pull requests:**

- Make sure UserLocation fields are properly cast [\#2592](https://github.com/hippware/wocky/pull/2592) ([toland](https://github.com/toland))
- Try to fix location auditing crash [\#2591](https://github.com/hippware/wocky/pull/2591) ([toland](https://github.com/toland))
- Fix a cast error in the location audit log [\#2587](https://github.com/hippware/wocky/pull/2587) ([toland](https://github.com/toland))
- Dialyzer fixes [\#2584](https://github.com/hippware/wocky/pull/2584) ([bernardd](https://github.com/bernardd))
- Re-enable traffic and location logging on testing [\#2583](https://github.com/hippware/wocky/pull/2583) ([bernardd](https://github.com/bernardd))
- Bump geo from `b9211be` to `c8ce429` [\#2582](https://github.com/hippware/wocky/pull/2582) ([dependabot-preview[bot]](https://github.com/apps/dependabot-preview))
- Test cleanup [\#2580](https://github.com/hippware/wocky/pull/2580) ([toland](https://github.com/toland))
- Remove next environment and old ansible file [\#2578](https://github.com/hippware/wocky/pull/2578) ([bernardd](https://github.com/bernardd))
- Consolidate auditing [\#2575](https://github.com/hippware/wocky/pull/2575) ([toland](https://github.com/toland))
- Add LocationRequest background push event [\#2571](https://github.com/hippware/wocky/pull/2571) ([bernardd](https://github.com/bernardd))

## [2019.6.5+r05cadfa](https://github.com/hippware/wocky/tree/2019.6.5+r05cadfa) (2019-06-05)

[Full Changelog](https://github.com/hippware/wocky/compare/2019.5.21+re1a0715...2019.6.5+r05cadfa)

**Security fixes:**

- Clean up old user locations and bot events [\#2017](https://github.com/hippware/wocky/issues/2017)

**Closed issues:**

- \[Wocky/testing\] ErlangError: Erlang error: {:timeout, {GenServer, :call, \[\#PID\<0.25364.8\>, {:set\_location, %Wocky.User.Location{\_\_meta\_\_: \#Ecto.Schema.Metadata\<:built, "user\_locations"\>, accuracy: 1.0, activity: nil, activity\_confidence: nil, altitude: nil, altitude\_accuracy: nil, battery\_charging: nil, battery\_level: nil, captured\_at: nil, created\_at: nil, device: "overseer", events: \#Ecto.Association.NotLoaded\<association :events is not loaded\>, heading: nil, id: nil, is\_moving: nil, lat: 34.9013706960... [\#2562](https://github.com/hippware/wocky/issues/2562)
- \[Wocky/testing\] DBConnection.ConnectionError: connection not available and request was dropped from queue after 965ms. You can configure how long requests wait in the queue using :queue\_target and :queue\_interval. See DBConnection.start\_link/2 for more information [\#2554](https://github.com/hippware/wocky/issues/2554)
- Some catchup location data points are not sent from server [\#2547](https://github.com/hippware/wocky/issues/2547)
- \[Wocky/staging\] ErlangError: Erlang error: {{%Postgrex.Error{connection\_id: 3072, message: nil, postgres: %{code: :foreign\_key\_violation, constraint: "user\_bot\_events\_bot\_id\_fkey", detail: "Key \(bot\_id\)=\(2289ff07-87ea-4e15-98df-21aeef70f437\) is not present in table \"bots\".", file: "ri\_triggers.c", line: "3266", message: "insert or update on table \"user\_bot\_events\" violates foreign key constraint \"user\_bot\_events\_bot\_id\_fkey\"", pg\_code: "23503", routine: "ri\_ReportViolation", schema: "public", sever... [\#2542](https://github.com/hippware/wocky/issues/2542)
- Change weekly auto deploy back to staging [\#2535](https://github.com/hippware/wocky/issues/2535)
- \[Wocky/staging\] FunctionClauseError: no function clause matching in DateTime.to\_iso8601/2 [\#2534](https://github.com/hippware/wocky/issues/2534)
- Request to fill in `device` field of traffic\_logs [\#2519](https://github.com/hippware/wocky/issues/2519)
- Tweaks to geofence [\#2518](https://github.com/hippware/wocky/issues/2518)
- Discussion: Load testing and optimization [\#2478](https://github.com/hippware/wocky/issues/2478)
- \[Wocky/testing\] ErlangError: Erlang error: {{%DBConnection.ConnectionError{message: "connection not available and request was dropped from queue after 669ms. You can configure how long requests wait in the queue using :queue\_target and :queue\_interval. See DBConnection.start\_link/2 for more information"}, \[{Ecto.Adapters.SQL, :raise\_sql\_call\_error, 1, \[file: 'lib/ecto/adapters/sql.ex', line: 605\]}, {Ecto.Repo.Schema, :apply, 4, \[file: 'lib/ecto/repo/schema.ex', line: 649\]}, {Ecto.Repo.Schema, :"-do\_inser... [\#2474](https://github.com/hippware/wocky/issues/2474)
- Filter out Live Location points with high accuracy uncertainty [\#2466](https://github.com/hippware/wocky/issues/2466)
- Performance and load testing [\#2429](https://github.com/hippware/wocky/issues/2429)
- Use GIS index to determine bot entries [\#2029](https://github.com/hippware/wocky/issues/2029)

**Merged pull requests:**

- 2544 preload cleanup [\#2570](https://github.com/hippware/wocky/pull/2570) ([bernardd](https://github.com/bernardd))
- User context refactor [\#2568](https://github.com/hippware/wocky/pull/2568) ([toland](https://github.com/toland))
- Bump firebase\_admin\_ex from `35b601e` to `a36c3ec` [\#2567](https://github.com/hippware/wocky/pull/2567) ([dependabot-preview[bot]](https://github.com/apps/dependabot-preview))
- Remove cached location when last share expires [\#2566](https://github.com/hippware/wocky/pull/2566) ([bernardd](https://github.com/bernardd))
- Bump dawdle version [\#2565](https://github.com/hippware/wocky/pull/2565) ([bernardd](https://github.com/bernardd))
- Bump plug from 1.8.0 to 1.8.2 [\#2564](https://github.com/hippware/wocky/pull/2564) ([dependabot-preview[bot]](https://github.com/apps/dependabot-preview))
- Bump elixir to 1.8.2 and erlang to 22.0.1 [\#2563](https://github.com/hippware/wocky/pull/2563) ([bernardd](https://github.com/bernardd))
- Bump honeybadger from 0.11.0 to 0.12.0 [\#2561](https://github.com/hippware/wocky/pull/2561) ([dependabot-preview[bot]](https://github.com/apps/dependabot-preview))
- Refactor location auth changes in \#2559 [\#2560](https://github.com/hippware/wocky/pull/2560) ([toland](https://github.com/toland))
- Remove db lookup for REST location upload [\#2559](https://github.com/hippware/wocky/pull/2559) ([bernardd](https://github.com/bernardd))
- Ensure location share cache is primed [\#2558](https://github.com/hippware/wocky/pull/2558) ([bernardd](https://github.com/bernardd))
- Lower the max accuracy threshold to 50m [\#2557](https://github.com/hippware/wocky/pull/2557) ([toland](https://github.com/toland))
- Bump ecto\_sql from 3.1.3 to 3.1.4 [\#2556](https://github.com/hippware/wocky/pull/2556) ([dependabot-preview[bot]](https://github.com/apps/dependabot-preview))
- ALB cowboy tweaks [\#2553](https://github.com/hippware/wocky/pull/2553) ([bernardd](https://github.com/bernardd))
- Extend the current location TTL to 2 days [\#2551](https://github.com/hippware/wocky/pull/2551) ([toland](https://github.com/toland))
- Aggregate REST request metrics [\#2548](https://github.com/hippware/wocky/pull/2548) ([bernardd](https://github.com/bernardd))
- Loc share cache [\#2546](https://github.com/hippware/wocky/pull/2546) ([bernardd](https://github.com/bernardd))
- Bump stringprep from 1.0.15 to 1.0.16 [\#2545](https://github.com/hippware/wocky/pull/2545) ([dependabot-preview[bot]](https://github.com/apps/dependabot-preview))
- Remove subscription from cache on bot delete [\#2543](https://github.com/hippware/wocky/pull/2543) ([toland](https://github.com/toland))
- 2519 add device [\#2540](https://github.com/hippware/wocky/pull/2540) ([bernardd](https://github.com/bernardd))
- Fix dialyzer warning and expiry time [\#2539](https://github.com/hippware/wocky/pull/2539) ([bernardd](https://github.com/bernardd))
- Fix get presence crash [\#2538](https://github.com/hippware/wocky/pull/2538) ([bernardd](https://github.com/bernardd))
- Move weekly auto deploy back to staging [\#2537](https://github.com/hippware/wocky/pull/2537) ([toland](https://github.com/toland))
- Fix capturedAt and createdAt in current location [\#2536](https://github.com/hippware/wocky/pull/2536) ([toland](https://github.com/toland))
- Drop testing replicas back to 2 [\#2533](https://github.com/hippware/wocky/pull/2533) ([bernardd](https://github.com/bernardd))

## [2019.5.21+re1a0715](https://github.com/hippware/wocky/tree/2019.5.21+re1a0715) (2019-05-21)

[Full Changelog](https://github.com/hippware/wocky/compare/2019.5.15+rc8e0699...2019.5.21+re1a0715)

**Closed issues:**

- \[Wocky/staging\] UndefinedFunctionError: function WockyAPI.ErrorView.render/2 is undefined \(module WockyAPI.ErrorView is not available\) [\#2523](https://github.com/hippware/wocky/issues/2523)
- \[Wocky/next\] FunctionClauseError: no function clause matching in DateTime.to\_iso8601/2 [\#2520](https://github.com/hippware/wocky/issues/2520)
- \[Wocky/testing\] FunctionClauseError: no function clause matching in Wocky.Bot.lat/1 [\#2516](https://github.com/hippware/wocky/issues/2516)
- \[Wocky/next\] UndefinedFunctionError: function WockyAPI.ErrorView.render/2 is undefined \(module WockyAPI.ErrorView is not available\) [\#2508](https://github.com/hippware/wocky/issues/2508)
- \[Wocky/next\] Postgrex.Error: ERROR 0A000 \(feature\_not\_supported\) cached plan must not change result type [\#2507](https://github.com/hippware/wocky/issues/2507)
- \[Wocky/testing\] FunctionClauseError: no function clause matching in Geocalc.Point.Map.latitude/1 [\#2506](https://github.com/hippware/wocky/issues/2506)
- Post migration: Missing bot\_subscriptions [\#2503](https://github.com/hippware/wocky/issues/2503)
- \[Wocky/testing\] ErlangError: Erlang error: {:timeout, {:gen\_statem, :call, \[Swarm.Tracker, {:track, "location\_handler\_718431ec-658c-4fbd-9541-78802a011254", %{mfa: {Wocky.User.Location.Supervisor, :start\_child, \[%Wocky.User{image\_url: nil, phone\_number: "+15560069069", bot\_subscriptions: \#Ecto.Association.NotLoaded\<association :bot\_subscriptions is not loaded\>, tagline: nil, external\_id: "+15560069069", locations: \#Ecto.Association.NotLoaded\<association :locations is not loaded\>, welcome\_sent: nil, conve... [\#2502](https://github.com/hippware/wocky/issues/2502)
- \[Wocky/testing\] DBConnection.ConnectionError: connection not available and request was dropped from queue after 357ms. You can configure how long requests wait in the queue using :queue\_target and :queue\_interval. See DBConnection.start\_link/2 for more information [\#2501](https://github.com/hippware/wocky/issues/2501)
- \[Wocky/next\] DBConnection.ConnectionError: connection not available and request was dropped from queue after 571ms. You can configure how long requests wait in the queue using :queue\_target and :queue\_interval. See DBConnection.start\_link/2 for more information [\#2500](https://github.com/hippware/wocky/issues/2500)
- \[Wocky/next\] ErlangError: Erlang error: {{%DBConnection.ConnectionError{message: "connection not available and request was dropped from queue after 348ms. You can configure how long requests wait in the queue using :queue\_target and :queue\_interval. See DBConnection.start\_link/2 for more information"}, \[{Ecto.Adapters.SQL, :raise\_sql\_call\_error, 1, \[file: 'lib/ecto/adapters/sql.ex', line: 605\]}, {Ecto.Repo.Schema, :apply, 4, \[file: 'lib/ecto/repo/schema.ex', line: 649\]}, {Ecto.Repo.Schema, :"-do\_insert/4... [\#2499](https://github.com/hippware/wocky/issues/2499)
- \[Wocky/staging\] ArgumentError: cannot load `"invitation"` as type Wocky.Notifier.InBand.Notification.NotificationType for field `type` in schema Wocky.Notifier.InBand.Notification [\#2498](https://github.com/hippware/wocky/issues/2498)
- \[Wocky/next\] CaseClauseError: no case clause matching: :self [\#2483](https://github.com/hippware/wocky/issues/2483)
- Expose activity confidence field [\#2467](https://github.com/hippware/wocky/issues/2467)
- \[Wocky/testing\] ArgumentError: Can't get presence data on self [\#2463](https://github.com/hippware/wocky/issues/2463)
- Instantaneous BotInvitationResponseNotification with accepted=false [\#2457](https://github.com/hippware/wocky/issues/2457)
- \[Wocky/testing\] FunctionClauseError: no function clause matching in Wocky.Tasks.Recurring.handle\_info/2 [\#2451](https://github.com/hippware/wocky/issues/2451)
- \[Wocky/next\] FunctionClauseError: no function clause matching in WockyAPI.Middleware.RefreshCurrentUser.call/2 [\#2449](https://github.com/hippware/wocky/issues/2449)
- Support available/unavailable online presence [\#2440](https://github.com/hippware/wocky/issues/2440)
- \[Wocky/next\] BadMapError: expected a map, got: \["eyJhbGciOiJIUzUxMiIsInR5cCI6IkpXVCJ9.eyJhdWQiOiJXb2NreSIsImR2YyI6Im92ZXJzZWVyIiwiZXhwIjoxNTU4NDEzMDg0LCJpYXQiOjE1NTU5OTM4ODQsImlzcyI6IlRpbnlSb2JvdC8wLjAuMCAoV29ja3kgVGVzdGVyKSIsImp0aSI6Ijc2N2FjYmMxLWNjZTYtNGQyYS05ZDRhLTA1Y2VhZTJhMDk3MCIsIm5iZiI6MTU1NTk5Mzg4MywicGhvbmVfbnVtYmVyIjoiKzE1NTU2NjY3Nzc3Iiwic3ViIjoiKzE1NTU2NjY3Nzc3IiwidHlwIjoiYnlwYXNzIn0.nQO-IwXKA\_FIdX4A4zQhR8Y4nFfz6AqGzAdFmBXpUDxET0k5JJY7US8i99-kUvDmzdklgybRGY2gjQ587oib2A"\] [\#2439](https://github.com/hippware/wocky/issues/2439)
- Rework relay connections to use SQL cursors for paging [\#1957](https://github.com/hippware/wocky/issues/1957)

**Merged pull requests:**

- Use upstream prometheus-ecto [\#2532](https://github.com/hippware/wocky/pull/2532) ([bernardd](https://github.com/bernardd))
- Add observer\_cli lib [\#2531](https://github.com/hippware/wocky/pull/2531) ([bernardd](https://github.com/bernardd))
- Build release on branch as well as master [\#2530](https://github.com/hippware/wocky/pull/2530) ([bernardd](https://github.com/bernardd))
- Revert "Add observer" [\#2529](https://github.com/hippware/wocky/pull/2529) ([toland](https://github.com/toland))
- Bump ecto\_sql from 3.1.2 to 3.1.3 [\#2528](https://github.com/hippware/wocky/pull/2528) ([dependabot-preview[bot]](https://github.com/apps/dependabot-preview))
- Bump distillery from 2.0.12 to 2.0.14 [\#2527](https://github.com/hippware/wocky/pull/2527) ([dependabot-preview[bot]](https://github.com/apps/dependabot-preview))
- Add migration to clean up invitations to non-owned bots [\#2526](https://github.com/hippware/wocky/pull/2526) ([bernardd](https://github.com/bernardd))
- Add observer [\#2524](https://github.com/hippware/wocky/pull/2524) ([bernardd](https://github.com/bernardd))
- Bump recon from 2.4.0 to 2.5.0 [\#2522](https://github.com/hippware/wocky/pull/2522) ([dependabot-preview[bot]](https://github.com/apps/dependabot-preview))
- Geofence tweaks [\#2521](https://github.com/hippware/wocky/pull/2521) ([toland](https://github.com/toland))
- Handle bots with no location and bot updates [\#2517](https://github.com/hippware/wocky/pull/2517) ([toland](https://github.com/toland))
- Revert "Bump distillery from 2.0.12 to 2.0.13" [\#2514](https://github.com/hippware/wocky/pull/2514) ([toland](https://github.com/toland))
- Add some logging [\#2513](https://github.com/hippware/wocky/pull/2513) ([toland](https://github.com/toland))
- Yet more location validation [\#2512](https://github.com/hippware/wocky/pull/2512) ([toland](https://github.com/toland))
- Try again to force an earlier crash [\#2511](https://github.com/hippware/wocky/pull/2511) ([toland](https://github.com/toland))
- Let geofence crash closer to source of the error [\#2510](https://github.com/hippware/wocky/pull/2510) ([toland](https://github.com/toland))
- Fix missing error view [\#2509](https://github.com/hippware/wocky/pull/2509) ([toland](https://github.com/toland))
- Bump geo from `6757cda` to `b9211be` [\#2505](https://github.com/hippware/wocky/pull/2505) ([dependabot-preview[bot]](https://github.com/apps/dependabot-preview))
- Bump distillery from 2.0.12 to 2.0.13 [\#2504](https://github.com/hippware/wocky/pull/2504) ([dependabot-preview[bot]](https://github.com/apps/dependabot-preview))

## [2019.5.15+rc8e0699](https://github.com/hippware/wocky/tree/2019.5.15+rc8e0699) (2019-05-15)

[Full Changelog](https://github.com/hippware/wocky/compare/2019.5.7+r060bbe2...2019.5.15+rc8e0699)

**Closed issues:**

- \[Wocky/staging\] Postgrex.Error: ERROR 42703 \(undefined\_column\): column "resource" of relation "traffic\_logs" does not exist [\#2497](https://github.com/hippware/wocky/issues/2497)
- \[Wocky/staging\] Postgrex.Error: ERROR 42703 \(undefined\_column\): column "resource" of relation "traffic\_logs" does not exist [\#2496](https://github.com/hippware/wocky/issues/2496)
- RDS IAM auth [\#2493](https://github.com/hippware/wocky/issues/2493)
- \[Wocky/staging\] Algolia.MissingAPIKeyError: The `api\_key` settings is required to use Algolia. Please include your
  api key in your application config file like so:
    config :algolia, api\_key: YOUR\_API\_KEY
  Alternatively, you can also set the secret key as an environment variable:
    ALGOLIA\_API\_KEY=YOUR\_SECRET\_API\_KEY [\#2485](https://github.com/hippware/wocky/issues/2485)
- Create benchmark for geofence algorithm [\#2430](https://github.com/hippware/wocky/issues/2430)

**Merged pull requests:**

- Geofence optimizations [\#2495](https://github.com/hippware/wocky/pull/2495) ([toland](https://github.com/toland))
- Bump phoenix from 1.4.5 to 1.4.6 [\#2494](https://github.com/hippware/wocky/pull/2494) ([dependabot-preview[bot]](https://github.com/apps/dependabot-preview))
- Dialyzer fix [\#2492](https://github.com/hippware/wocky/pull/2492) ([bernardd](https://github.com/bernardd))
- 2487 handle only search [\#2491](https://github.com/hippware/wocky/pull/2491) ([bernardd](https://github.com/bernardd))
- Bump ecto\_sql from 3.1.1 to 3.1.2 [\#2490](https://github.com/hippware/wocky/pull/2490) ([dependabot-preview[bot]](https://github.com/apps/dependabot-preview))
- Bump excoveralls from 0.11.0 to 0.11.1 [\#2489](https://github.com/hippware/wocky/pull/2489) ([dependabot-preview[bot]](https://github.com/apps/dependabot-preview))
- Bump ex\_aws\_s3 from 2.0.1 to 2.0.2 [\#2488](https://github.com/hippware/wocky/pull/2488) ([dependabot-preview[bot]](https://github.com/apps/dependabot-preview))
- Fix crash when attempting to send bulk invitation to own phone number [\#2486](https://github.com/hippware/wocky/pull/2486) ([bernardd](https://github.com/bernardd))
- Bump phoenix from 1.4.4 to 1.4.5 [\#2482](https://github.com/hippware/wocky/pull/2482) ([dependabot-preview[bot]](https://github.com/apps/dependabot-preview))
- Bump exrun from 0.1.7 to 0.1.8 [\#2481](https://github.com/hippware/wocky/pull/2481) ([dependabot-preview[bot]](https://github.com/apps/dependabot-preview))
- Bump postgrex from 0.14.2 to 0.14.3 [\#2480](https://github.com/hippware/wocky/pull/2480) ([dependabot-preview[bot]](https://github.com/apps/dependabot-preview))

## [2019.5.7+r060bbe2](https://github.com/hippware/wocky/tree/2019.5.7+r060bbe2) (2019-05-07)

[Full Changelog](https://github.com/hippware/wocky/compare/2019.4.30+re26e052...2019.5.7+r060bbe2)

**Closed issues:**

- \[Wocky/testing\] DBConnection.ConnectionError: connection not available and request was dropped from queue after 164ms. You can configure how long requests wait in the queue using :queue\_target and :queue\_interval. See DBConnection.start\_link/2 for more information [\#2475](https://github.com/hippware/wocky/issues/2475)
- RFI: relationship field in user object? [\#2460](https://github.com/hippware/wocky/issues/2460)

**Merged pull requests:**

- Load testing changes [\#2479](https://github.com/hippware/wocky/pull/2479) ([bernardd](https://github.com/bernardd))
- Bump ex\_aws from 2.1.0 to 2.1.1 [\#2477](https://github.com/hippware/wocky/pull/2477) ([dependabot-preview[bot]](https://github.com/apps/dependabot-preview))
- Bump credo\_filename\_consistency from 0.2.0 to 0.2.1 [\#2476](https://github.com/hippware/wocky/pull/2476) ([dependabot-preview[bot]](https://github.com/apps/dependabot-preview))
- Update absinthe\_phoenix [\#2473](https://github.com/hippware/wocky/pull/2473) ([bernardd](https://github.com/bernardd))
- Invalidate tokens when APNs returns 'unregistered' [\#2472](https://github.com/hippware/wocky/pull/2472) ([toland](https://github.com/toland))
- Don't share locations with high accuracy values [\#2471](https://github.com/hippware/wocky/pull/2471) ([toland](https://github.com/toland))
- Add location activity confidence to GraphQL API [\#2470](https://github.com/hippware/wocky/pull/2470) ([toland](https://github.com/toland))
- Bump bcrypt\_elixir from 2.0.2 to 2.0.3 [\#2469](https://github.com/hippware/wocky/pull/2469) ([dependabot-preview[bot]](https://github.com/apps/dependabot-preview))
- Bump excoveralls from 0.10.6 to 0.11.0 [\#2468](https://github.com/hippware/wocky/pull/2468) ([dependabot-preview[bot]](https://github.com/apps/dependabot-preview))
- Remove self-presence restriction [\#2465](https://github.com/hippware/wocky/pull/2465) ([bernardd](https://github.com/bernardd))
- Add Credo file/module name consistency check [\#2464](https://github.com/hippware/wocky/pull/2464) ([toland](https://github.com/toland))
- Bump phoenix from 1.4.3 to 1.4.4 [\#2462](https://github.com/hippware/wocky/pull/2462) ([dependabot-preview[bot]](https://github.com/apps/dependabot-preview))
- Multi factory insert [\#2461](https://github.com/hippware/wocky/pull/2461) ([bernardd](https://github.com/bernardd))
- 2457 multi bot invite [\#2459](https://github.com/hippware/wocky/pull/2459) ([bernardd](https://github.com/bernardd))
- 2440 presence changes [\#2458](https://github.com/hippware/wocky/pull/2458) ([bernardd](https://github.com/bernardd))

## [2019.4.30+re26e052](https://github.com/hippware/wocky/tree/2019.4.30+re26e052) (2019-04-30)

[Full Changelog](https://github.com/hippware/wocky/compare/2019.4.26+rfadca8f...2019.4.30+re26e052)

**Security fixes:**

- Delete a user's S3 images when they delete their account [\#2006](https://github.com/hippware/wocky/issues/2006)
- Delete Firebase data when a user deletes their account [\#2005](https://github.com/hippware/wocky/issues/2005)

**Closed issues:**

- Expose `activity` in \(Live Location\) data points [\#2441](https://github.com/hippware/wocky/issues/2441)
- \[Wocky/next\] UndefinedFunctionError: function nil.status/0 is undefined \(module nil is not available\) [\#2413](https://github.com/hippware/wocky/issues/2413)
- Server generated dynamic links to include android specific values [\#2405](https://github.com/hippware/wocky/issues/2405)
- Unify in-band notifications and push notifications [\#2402](https://github.com/hippware/wocky/issues/2402)
- Redix lock failure [\#2374](https://github.com/hippware/wocky/issues/2374)
- Limit URLs passed by ALBs [\#2356](https://github.com/hippware/wocky/issues/2356)
- Run loc share cleanup from a dawdle trigger rather than a cronjob [\#2354](https://github.com/hippware/wocky/issues/2354)
- Allow enforcement of strict ordering on subscriptions [\#2351](https://github.com/hippware/wocky/issues/2351)
- \[Wocky/next\] FunctionClauseError: no function clause matching in WockyAPI.Resolvers.User.fix\_name/2 [\#2332](https://github.com/hippware/wocky/issues/2332)
- Investigate switching to ALB or NLB load balancers [\#2329](https://github.com/hippware/wocky/issues/2329)
- 'Eager clustering' problem [\#2312](https://github.com/hippware/wocky/issues/2312)
- Store client-side-only per-user variables with server side account [\#2308](https://github.com/hippware/wocky/issues/2308)
- Handle failure to download test image from picsum.photos [\#2241](https://github.com/hippware/wocky/issues/2241)
- Create base overseer app [\#2221](https://github.com/hippware/wocky/issues/2221)
- Set up Twilio-invoking test [\#2217](https://github.com/hippware/wocky/issues/2217)
- Create a test for image upload and processing [\#2023](https://github.com/hippware/wocky/issues/2023)
- GraphQL support for \(un\)blocking [\#1940](https://github.com/hippware/wocky/issues/1940)
- Support Android push notifications [\#1919](https://github.com/hippware/wocky/issues/1919)
- Push notification token registration for GraphQL [\#1917](https://github.com/hippware/wocky/issues/1917)
- Discussion: Name rework [\#1145](https://github.com/hippware/wocky/issues/1145)

**Merged pull requests:**

- Make location handlers run under supervisor [\#2456](https://github.com/hippware/wocky/pull/2456) ([bernardd](https://github.com/bernardd))
- Bump kronky from `0736d4d` to `cfc786b` [\#2455](https://github.com/hippware/wocky/pull/2455) ([dependabot-preview[bot]](https://github.com/apps/dependabot-preview))
- Add factoryInsert graphQL operation [\#2454](https://github.com/hippware/wocky/pull/2454) ([bernardd](https://github.com/bernardd))

## [2019.4.26+rfadca8f](https://github.com/hippware/wocky/tree/2019.4.26+rfadca8f) (2019-04-26)

[Full Changelog](https://github.com/hippware/wocky/compare/2019.4.24...2019.4.26+rfadca8f)

**Merged pull requests:**

- Fix typos [\#2453](https://github.com/hippware/wocky/pull/2453) ([bernardd](https://github.com/bernardd))
- Fix crash on refresh when no user is set [\#2452](https://github.com/hippware/wocky/pull/2452) ([bernardd](https://github.com/bernardd))
- Cleanup locations and bot events [\#2450](https://github.com/hippware/wocky/pull/2450) ([toland](https://github.com/toland))
- Bump httpoison from 1.5.0 to 1.5.1 [\#2448](https://github.com/hippware/wocky/pull/2448) ([dependabot-preview[bot]](https://github.com/apps/dependabot-preview))
- Fix the version number in the build [\#2447](https://github.com/hippware/wocky/pull/2447) ([toland](https://github.com/toland))
- Add 556 as bypass prefix for load tests [\#2446](https://github.com/hippware/wocky/pull/2446) ([bernardd](https://github.com/bernardd))
- Trigger a rn-chat build instead of wocky-client. [\#2445](https://github.com/hippware/wocky/pull/2445) ([bengtan](https://github.com/bengtan))
- Add healthcheck endpoint [\#2444](https://github.com/hippware/wocky/pull/2444) ([bernardd](https://github.com/bernardd))

## [2019.4.24](https://github.com/hippware/wocky/tree/2019.4.24) (2019-04-24)

[Full Changelog](https://github.com/hippware/wocky/compare/2019.4.17+r0b83314...2019.4.24)

**Closed issues:**

- \[Wocky/testing\] Redix.Protocol.ParseError: invalid type specifier \(\<\<21\>\>\) [\#2316](https://github.com/hippware/wocky/issues/2316)

**Merged pull requests:**

- Roll back testing to old redis server [\#2443](https://github.com/hippware/wocky/pull/2443) ([bernardd](https://github.com/bernardd))
- Add activity to exposed location fields [\#2442](https://github.com/hippware/wocky/pull/2442) ([bernardd](https://github.com/bernardd))
- Bump credo from 1.0.4 to 1.0.5 [\#2438](https://github.com/hippware/wocky/pull/2438) ([dependabot-preview[bot]](https://github.com/apps/dependabot-preview))
- Tweak container build [\#2437](https://github.com/hippware/wocky/pull/2437) ([toland](https://github.com/toland))
- Switch to the published version of Dawdle et al [\#2436](https://github.com/hippware/wocky/pull/2436) ([toland](https://github.com/toland))
- Bump ecto\_sql from 3.1.0 to 3.1.1 [\#2434](https://github.com/hippware/wocky/pull/2434) ([dependabot-preview[bot]](https://github.com/apps/dependabot-preview))
- Add transient flag [\#2433](https://github.com/hippware/wocky/pull/2433) ([bernardd](https://github.com/bernardd))

## [2019.4.17+r0b83314](https://github.com/hippware/wocky/tree/2019.4.17+r0b83314) (2019-04-17)

[Full Changelog](https://github.com/hippware/wocky/compare/2019.4.14+re16466c...2019.4.17+r0b83314)

**Closed issues:**

- Issues with bot subscription logic [\#2396](https://github.com/hippware/wocky/issues/2396)
- Geofence entry/exit notifications should only go to friends [\#2392](https://github.com/hippware/wocky/issues/2392)
- Remove server side invisibility mode [\#2365](https://github.com/hippware/wocky/issues/2365)
- Shared location data points expose extra fields [\#2338](https://github.com/hippware/wocky/issues/2338)

**Merged pull requests:**

- Paginator fixes [\#2432](https://github.com/hippware/wocky/pull/2432) ([bernardd](https://github.com/bernardd))
- Use PostgreSQL 10 for tests [\#2431](https://github.com/hippware/wocky/pull/2431) ([toland](https://github.com/toland))
- Bump dawdle\_db from `fb6702f` to `f12f3d2` [\#2427](https://github.com/hippware/wocky/pull/2427) ([dependabot-preview[bot]](https://github.com/apps/dependabot-preview))
- Bump eventually from `497cf5e` to `f75f93b` [\#2426](https://github.com/hippware/wocky/pull/2426) ([dependabot-preview[bot]](https://github.com/apps/dependabot-preview))
- Bump absinthe from `0fe24e6` to `5b83e0f` [\#2425](https://github.com/hippware/wocky/pull/2425) ([dependabot-preview[bot]](https://github.com/apps/dependabot-preview))
- Remove surplus fields from location object [\#2424](https://github.com/hippware/wocky/pull/2424) ([bernardd](https://github.com/bernardd))
- Remove hidden mode [\#2423](https://github.com/hippware/wocky/pull/2423) ([bernardd](https://github.com/bernardd))
- Move to cursor-based relay connection pagination [\#2422](https://github.com/hippware/wocky/pull/2422) ([bernardd](https://github.com/bernardd))
- Limit bot subscriptions and invitations to friends [\#2421](https://github.com/hippware/wocky/pull/2421) ([bernardd](https://github.com/bernardd))
- Fix name setting when only one name is set and existing name is nil [\#2420](https://github.com/hippware/wocky/pull/2420) ([bernardd](https://github.com/bernardd))
- Unified notifications [\#2418](https://github.com/hippware/wocky/pull/2418) ([toland](https://github.com/toland))

## [2019.4.14+re16466c](https://github.com/hippware/wocky/tree/2019.4.14+re16466c) (2019-04-14)

[Full Changelog](https://github.com/hippware/wocky/compare/2019.4.12+rad30a44...2019.4.14+re16466c)

**Merged pull requests:**

- Handle all response values [\#2419](https://github.com/hippware/wocky/pull/2419) ([bernardd](https://github.com/bernardd))
- Bump ex\_aws\_sqs from 2.0.0 to 2.0.1 [\#2417](https://github.com/hippware/wocky/pull/2417) ([dependabot-preview[bot]](https://github.com/apps/dependabot-preview))
- Bump postgrex from 0.14.1 to 0.14.2 [\#2416](https://github.com/hippware/wocky/pull/2416) ([dependabot-preview[bot]](https://github.com/apps/dependabot-preview))

## [2019.4.12+rad30a44](https://github.com/hippware/wocky/tree/2019.4.12+rad30a44) (2019-04-12)

[Full Changelog](https://github.com/hippware/wocky/compare/2019.4.9+r45f56a5...2019.4.12+rad30a44)

**Closed issues:**

- \[Wocky/next\] Postgrex.Error: ERROR 42501 \(insufficient\_privilege\) permission denied for relation bot\_subscriptions [\#2411](https://github.com/hippware/wocky/issues/2411)
- \[Wocky/next\] DBConnection.ConnectionError: connection not available and request was dropped from queue after 1329ms. You can configure how long requests wait in the queue using :queue\_target and :queue\_interval. See DBConnection.start\_link/2 for more information [\#2410](https://github.com/hippware/wocky/issues/2410)
- \[Wocky/testing\] DBConnection.ConnectionError: tcp recv: closed [\#2409](https://github.com/hippware/wocky/issues/2409)
- \[Wocky/next\] DBConnection.ConnectionError: tcp recv: closed [\#2408](https://github.com/hippware/wocky/issues/2408)
- Review of notifications for possible inconsistencies or oddities [\#2400](https://github.com/hippware/wocky/issues/2400)
- Share location to bulk multiple accounts [\#2258](https://github.com/hippware/wocky/issues/2258)
- Geofence algorithm doesn't generate events when bot is moved to enclose a user [\#1961](https://github.com/hippware/wocky/issues/1961)

**Merged pull requests:**

- Fixing Pigeon FCM config - second try [\#2415](https://github.com/hippware/wocky/pull/2415) ([bernardd](https://github.com/bernardd))
- Fix FCM config and error handling [\#2414](https://github.com/hippware/wocky/pull/2414) ([bernardd](https://github.com/bernardd))
- Migrate us1 to new db server [\#2412](https://github.com/hippware/wocky/pull/2412) ([bernardd](https://github.com/bernardd))

## [2019.4.9+r45f56a5](https://github.com/hippware/wocky/tree/2019.4.9+r45f56a5) (2019-04-09)

[Full Changelog](https://github.com/hippware/wocky/compare/2019.4.4+r080c705...2019.4.9+r45f56a5)

**Closed issues:**

- \[Wocky/testing\] FunctionClauseError: no function clause matching in Phoenix.PubSub.RedisServer.handle\_info/2 [\#2383](https://github.com/hippware/wocky/issues/2383)
- Missing UserInvitationNotification notification [\#2380](https://github.com/hippware/wocky/issues/2380)
- Create tests for AWS infrastructure operations [\#2219](https://github.com/hippware/wocky/issues/2219)
- Support for Android devices [\#2162](https://github.com/hippware/wocky/issues/2162)
- \[Wocky/testing\] ErlangError: Erlang error: {{%Phoenix.Router.NoRouteError{conn: %Plug.Conn{adapter: {Plug.Cowboy.Conn, :...}, assigns: %{}, before\_send: \[\#Function\<0.15943940/1 in WockyAPI.PipelineInstrumenter.call/2\>, \#Function\<1.112466771/1 in Plug.Logger.call/2\>\], body\_params: %{}, cookies: %Plug.Conn.Unfetched{aspect: :cookies}, halted: false, host: "", method: "GET", owner: \#PID\<0.4087.0\>, params: %{}, path\_info: \[\], path\_params: %{}, port: 80, private: %{WockyAPI.Router =\> {\[\], %{Absinthe.Plug =\> \[... [\#2111](https://github.com/hippware/wocky/issues/2111)
- \[Wocky/next\] ArgumentError: cannot perform Ecto.Repo.get/2 because the given value is nil [\#2073](https://github.com/hippware/wocky/issues/2073)
- Review and improve performance of geofence algorithm [\#1992](https://github.com/hippware/wocky/issues/1992)
- Push notification not generated for \(too old?\) geofence entry event [\#1980](https://github.com/hippware/wocky/issues/1980)
- Support iOS "sandbox" push notifications [\#1920](https://github.com/hippware/wocky/issues/1920)
- Geofence mechanics algorithm shortcomings [\#1713](https://github.com/hippware/wocky/issues/1713)
- Backend event processing architecture [\#1309](https://github.com/hippware/wocky/issues/1309)

**Merged pull requests:**

- Add Android data to invitation dynamic links [\#2407](https://github.com/hippware/wocky/pull/2407) ([bernardd](https://github.com/bernardd))
- 2351 subscription ordering [\#2406](https://github.com/hippware/wocky/pull/2406) ([bernardd](https://github.com/bernardd))
- Only notify friends of bot perimeter events [\#2403](https://github.com/hippware/wocky/pull/2403) ([toland](https://github.com/toland))
- Bump bcrypt\_elixir from 2.0.1 to 2.0.2 [\#2401](https://github.com/hippware/wocky/pull/2401) ([dependabot-preview[bot]](https://github.com/apps/dependabot-preview))
- Migrate staging db [\#2399](https://github.com/hippware/wocky/pull/2399) ([bernardd](https://github.com/bernardd))
- Migrate next to shared DB [\#2398](https://github.com/hippware/wocky/pull/2398) ([bernardd](https://github.com/bernardd))

## [2019.4.4+r080c705](https://github.com/hippware/wocky/tree/2019.4.4+r080c705) (2019-04-04)

[Full Changelog](https://github.com/hippware/wocky/compare/2019.4.2+r2f74353...2019.4.4+r080c705)

**Merged pull requests:**

- Migrate to new DB server [\#2397](https://github.com/hippware/wocky/pull/2397) ([bernardd](https://github.com/bernardd))
- Bump plug from 1.7.2 to 1.8.0 [\#2395](https://github.com/hippware/wocky/pull/2395) ([dependabot-preview[bot]](https://github.com/apps/dependabot-preview))
- Bump dialyxir from 1.0.0-rc.5 to 1.0.0-rc.6 [\#2394](https://github.com/hippware/wocky/pull/2394) ([dependabot-preview[bot]](https://github.com/apps/dependabot-preview))

## [2019.4.2+r2f74353](https://github.com/hippware/wocky/tree/2019.4.2+r2f74353) (2019-04-02)

[Full Changelog](https://github.com/hippware/wocky/compare/2019.4.2+rb7a8275...2019.4.2+r2f74353)

**Closed issues:**

- Implement handling of batch location uploads [\#2358](https://github.com/hippware/wocky/issues/2358)

**Merged pull requests:**

- Bump ecto\_sql from 3.0.5 to 3.1.0 [\#2393](https://github.com/hippware/wocky/pull/2393) ([dependabot-preview[bot]](https://github.com/apps/dependabot-preview))

## [2019.4.2+rb7a8275](https://github.com/hippware/wocky/tree/2019.4.2+rb7a8275) (2019-04-02)

[Full Changelog](https://github.com/hippware/wocky/compare/2019.3.29+r7f25b99...2019.4.2+rb7a8275)

**Merged pull requests:**

- Bump phoenix from 1.4.2 to 1.4.3 [\#2391](https://github.com/hippware/wocky/pull/2391) ([dependabot-preview[bot]](https://github.com/apps/dependabot-preview))
- Process batch location uploads in the ReST API [\#2390](https://github.com/hippware/wocky/pull/2390) ([toland](https://github.com/toland))
- Bump phoenix\_pubsub\_redis from 2.1.6 to 2.1.7 [\#2389](https://github.com/hippware/wocky/pull/2389) ([dependabot-preview[bot]](https://github.com/apps/dependabot-preview))
- Read SSL certs from terraform data [\#2386](https://github.com/hippware/wocky/pull/2386) ([bernardd](https://github.com/bernardd))

## [2019.3.29+r7f25b99](https://github.com/hippware/wocky/tree/2019.3.29+r7f25b99) (2019-03-29)

[Full Changelog](https://github.com/hippware/wocky/compare/2019.3.28+r2f56493...2019.3.29+r7f25b99)

**Closed issues:**

- Missing UserLocationUpdate [\#2381](https://github.com/hippware/wocky/issues/2381)
- \[Wocky/next\] MatchError: no match of right hand side value: {:error, :cannot\_create\_table} [\#2378](https://github.com/hippware/wocky/issues/2378)

**Merged pull requests:**

- Use correct number for unlimited SMS [\#2388](https://github.com/hippware/wocky/pull/2388) ([bernardd](https://github.com/bernardd))
- Don't start Dawdle pollers in "DB only" mode [\#2385](https://github.com/hippware/wocky/pull/2385) ([toland](https://github.com/toland))

## [2019.3.28+r2f56493](https://github.com/hippware/wocky/tree/2019.3.28+r2f56493) (2019-03-28)

[Full Changelog](https://github.com/hippware/wocky/compare/2019.3.26+r3acc76d...2019.3.28+r2f56493)

**Closed issues:**

- \[Wocky/testing\] MatchError: no match of right hand side value: {:error, :cannot\_create\_table} [\#2376](https://github.com/hippware/wocky/issues/2376)
- \[Wocky/next\] ArgumentError: malformed URI "%NETHOOD%" [\#2363](https://github.com/hippware/wocky/issues/2363)
- \[Wocky/next\] ArgumentError: malformed URI "%NETHOOD%" [\#2350](https://github.com/hippware/wocky/issues/2350)
- Move remaining environments to ALB [\#2340](https://github.com/hippware/wocky/issues/2340)

**Merged pull requests:**

- Update tzdata [\#2384](https://github.com/hippware/wocky/pull/2384) ([bernardd](https://github.com/bernardd))
- Open port 80 on testing [\#2382](https://github.com/hippware/wocky/pull/2382) ([bernardd](https://github.com/bernardd))
- Move loc share expiry to a swarm-managed process [\#2379](https://github.com/hippware/wocky/pull/2379) ([bernardd](https://github.com/bernardd))
- Increase max redlock retries [\#2377](https://github.com/hippware/wocky/pull/2377) ([bernardd](https://github.com/bernardd))
- Small fixes and updates [\#2375](https://github.com/hippware/wocky/pull/2375) ([toland](https://github.com/toland))
- Bump dialyxir from 1.0.0-rc.4 to 1.0.0-rc.5 [\#2372](https://github.com/hippware/wocky/pull/2372) ([dependabot-preview[bot]](https://github.com/apps/dependabot-preview))

## [2019.3.26+r3acc76d](https://github.com/hippware/wocky/tree/2019.3.26+r3acc76d) (2019-03-26)

[Full Changelog](https://github.com/hippware/wocky/compare/2019.3.26+raa9ae1a...2019.3.26+r3acc76d)

**Merged pull requests:**

- Update watcher version with config fix [\#2371](https://github.com/hippware/wocky/pull/2371) ([bernardd](https://github.com/bernardd))

## [2019.3.26+raa9ae1a](https://github.com/hippware/wocky/tree/2019.3.26+raa9ae1a) (2019-03-26)

[Full Changelog](https://github.com/hippware/wocky/compare/2019.3.19+rc79b90b...2019.3.26+raa9ae1a)

**Closed issues:**

- Subscription 'catchup' item is sent too early [\#2342](https://github.com/hippware/wocky/issues/2342)

**Merged pull requests:**

- Tweak the Credo config and address issues [\#2370](https://github.com/hippware/wocky/pull/2370) ([toland](https://github.com/toland))
- Fix dawdle config [\#2369](https://github.com/hippware/wocky/pull/2369) ([toland](https://github.com/toland))
- Moar Dialyzer! [\#2368](https://github.com/hippware/wocky/pull/2368) ([toland](https://github.com/toland))
- Bump credo from 1.0.3 to 1.0.4 [\#2367](https://github.com/hippware/wocky/pull/2367) ([dependabot-preview[bot]](https://github.com/apps/dependabot-preview))
- Add ALB to remaining environments [\#2366](https://github.com/hippware/wocky/pull/2366) ([bernardd](https://github.com/bernardd))
- Add ALB rule for /graphql [\#2364](https://github.com/hippware/wocky/pull/2364) ([toland](https://github.com/toland))
- Limit URIs passed by ALBs [\#2362](https://github.com/hippware/wocky/pull/2362) ([bernardd](https://github.com/bernardd))
- 1919 android push notifications [\#2361](https://github.com/hippware/wocky/pull/2361) ([bernardd](https://github.com/bernardd))
- Bump kronky from `e2e0bed` to `0736d4d` [\#2360](https://github.com/hippware/wocky/pull/2360) ([dependabot-preview[bot]](https://github.com/apps/dependabot-preview))
- Migrate Wocky to the new Dawdle and DawdleDB [\#2359](https://github.com/hippware/wocky/pull/2359) ([toland](https://github.com/toland))

## [2019.3.19+rc79b90b](https://github.com/hippware/wocky/tree/2019.3.19+rc79b90b) (2019-03-19)

[Full Changelog](https://github.com/hippware/wocky/compare/2019.3.13+rf578b8a...2019.3.19+rc79b90b)

**Closed issues:**

- Using Transport.sharedLocation to propagate data points might overflow [\#2347](https://github.com/hippware/wocky/issues/2347)
- Poking a location data point via CLI [\#2335](https://github.com/hippware/wocky/issues/2335)
- wocky\_db\_watcher not restarting pod on DB connection failure [\#2140](https://github.com/hippware/wocky/issues/2140)

**Merged pull requests:**

- Subscription catchup rework [\#2357](https://github.com/hippware/wocky/pull/2357) ([bernardd](https://github.com/bernardd))
- Remove the CSV dependency [\#2355](https://github.com/hippware/wocky/pull/2355) ([toland](https://github.com/toland))
- Bump plug\_cowboy from 2.0.1 to 2.0.2 [\#2352](https://github.com/hippware/wocky/pull/2352) ([dependabot-preview[bot]](https://github.com/apps/dependabot-preview))
- Bump absinthe\_phoenix from `4ba41b1` to `6f81281` [\#2349](https://github.com/hippware/wocky/pull/2349) ([dependabot-preview[bot]](https://github.com/apps/dependabot-preview))
- Bump wocky\_db\_watcher from `5387cfa` to `94b5383` [\#2348](https://github.com/hippware/wocky/pull/2348) ([dependabot-preview[bot]](https://github.com/apps/dependabot-preview))
- Update to latest db watcher version [\#2346](https://github.com/hippware/wocky/pull/2346) ([bernardd](https://github.com/bernardd))
- Move back to upstream firebase-admin-ex [\#2345](https://github.com/hippware/wocky/pull/2345) ([bernardd](https://github.com/bernardd))
- Bump phoenix from 1.4.1 to 1.4.2 [\#2344](https://github.com/hippware/wocky/pull/2344) ([dependabot-preview[bot]](https://github.com/apps/dependabot-preview))
- Bump kronky from `80344f7` to `e2e0bed` [\#2343](https://github.com/hippware/wocky/pull/2343) ([dependabot-preview[bot]](https://github.com/apps/dependabot-preview))

## [2019.3.13+rf578b8a](https://github.com/hippware/wocky/tree/2019.3.13+rf578b8a) (2019-03-13)

[Full Changelog](https://github.com/hippware/wocky/compare/2019.3.7+r0e3e105...2019.3.13+rf578b8a)

**Closed issues:**

- Add password to Eliasticache/Redis server [\#2165](https://github.com/hippware/wocky/issues/2165)

**Merged pull requests:**

- Use ALB/ingress rather than ELB on `testing` [\#2339](https://github.com/hippware/wocky/pull/2339) ([bernardd](https://github.com/bernardd))
- Fix error messages from ReST API [\#2337](https://github.com/hippware/wocky/pull/2337) ([toland](https://github.com/toland))
- Bump redix from 0.9.2 to 0.9.3 [\#2336](https://github.com/hippware/wocky/pull/2336) ([dependabot-preview[bot]](https://github.com/apps/dependabot-preview))
- Bump credo from 1.0.2 to 1.0.3 [\#2334](https://github.com/hippware/wocky/pull/2334) ([dependabot-preview[bot]](https://github.com/apps/dependabot-preview))

## [2019.3.7+r0e3e105](https://github.com/hippware/wocky/tree/2019.3.7+r0e3e105) (2019-03-07)

[Full Changelog](https://github.com/hippware/wocky/compare/2019.3.6+r663029b...2019.3.7+r0e3e105)

**Closed issues:**

- Re-instate BEAM stats [\#2326](https://github.com/hippware/wocky/issues/2326)
- Discussion about retrieving a location sharer's last known location [\#2304](https://github.com/hippware/wocky/issues/2304)
- \[Wocky/testing\] FunctionClauseError: no function clause matches [\#2288](https://github.com/hippware/wocky/issues/2288)
- \[Wocky/next\] FunctionClauseError: no function clause matches [\#2287](https://github.com/hippware/wocky/issues/2287)
- \[Wocky/testing\] ErlangError: Erlang error: {{%Phoenix.Router.NoRouteError{conn: %Plug.Conn{adapter: {Plug.Cowboy.Conn, :...}, assigns: %{}, before\_send: \[\#Function\<0.65099892/1 in WockyAPI.PipelineInstrumenter.call/2\>, \#Function\<1.112466771/1 in Plug.Logger.call/2\>\], body\_params: %{}, cookies: %Plug.Conn.Unfetched{aspect: :cookies}, halted: false, host: "52.27.117.141", method: "GET", owner: \#PID\<0.4001.0\>, params: %{}, path\_info: \[\], path\_params: %{}, port: 80, private: %{WockyAPI.Router =\> {\[\], %{Absin... [\#2239](https://github.com/hippware/wocky/issues/2239)
- New APIs for live location sharing [\#2146](https://github.com/hippware/wocky/issues/2146)

**Merged pull requests:**

- Fix crash when no name is specified in user update [\#2333](https://github.com/hippware/wocky/pull/2333) ([bernardd](https://github.com/bernardd))
- Add prometheus\_process\_collector tracking [\#2331](https://github.com/hippware/wocky/pull/2331) ([bernardd](https://github.com/bernardd))
- Remove unused script file [\#2330](https://github.com/hippware/wocky/pull/2330) ([bernardd](https://github.com/bernardd))
- Reinstate prometheus\_ecto [\#2328](https://github.com/hippware/wocky/pull/2328) ([bernardd](https://github.com/bernardd))

## [2019.3.6+r663029b](https://github.com/hippware/wocky/tree/2019.3.6+r663029b) (2019-03-06)

[Full Changelog](https://github.com/hippware/wocky/compare/2019.2.26+r288db8d...2019.3.6+r663029b)

**Closed issues:**

- \[Wocky/next\] FunctionClauseError: no function clause matches [\#2311](https://github.com/hippware/wocky/issues/2311)

**Merged pull requests:**

- Bump elixir version [\#2327](https://github.com/hippware/wocky/pull/2327) ([bernardd](https://github.com/bernardd))
- Remove Enum.into\(\) [\#2325](https://github.com/hippware/wocky/pull/2325) ([bernardd](https://github.com/bernardd))
- Move absinthe\[\_phonnix\] to 'working' branches [\#2324](https://github.com/hippware/wocky/pull/2324) ([bernardd](https://github.com/bernardd))
- Bump phoenix\_pubsub\_redis from 2.1.5 to 2.1.6 [\#2323](https://github.com/hippware/wocky/pull/2323) ([dependabot-preview[bot]](https://github.com/apps/dependabot-preview))
- 1145 name rework [\#2322](https://github.com/hippware/wocky/pull/2322) ([bernardd](https://github.com/bernardd))
- Add client data blob [\#2321](https://github.com/hippware/wocky/pull/2321) ([bernardd](https://github.com/bernardd))
- Live location sharing improvements [\#2320](https://github.com/hippware/wocky/pull/2320) ([toland](https://github.com/toland))
- Set the distribution cookie to K8s namespace name [\#2319](https://github.com/hippware/wocky/pull/2319) ([toland](https://github.com/toland))
- Bump excoveralls from 0.10.5 to 0.10.6 [\#2318](https://github.com/hippware/wocky/pull/2318) ([dependabot-preview[bot]](https://github.com/apps/dependabot-preview))
- Bump csv from 2.1.1 to 2.2.0 [\#2317](https://github.com/hippware/wocky/pull/2317) ([dependabot-preview[bot]](https://github.com/apps/dependabot-preview))
- Bump honeybadger from 0.10.3 to 0.11.0 [\#2315](https://github.com/hippware/wocky/pull/2315) ([dependabot-preview[bot]](https://github.com/apps/dependabot-preview))
- Bump ex\_machina from 2.2.2 to 2.3.0 [\#2314](https://github.com/hippware/wocky/pull/2314) ([dependabot-preview[bot]](https://github.com/apps/dependabot-preview))
- Bump redlock from 1.0.9 to 1.0.10 [\#2313](https://github.com/hippware/wocky/pull/2313) ([dependabot-preview[bot]](https://github.com/apps/dependabot-preview))
- Bump bcrypt\_elixir from 2.0.0 to 2.0.1 [\#2310](https://github.com/hippware/wocky/pull/2310) ([dependabot-preview[bot]](https://github.com/apps/dependabot-preview))
- Bump wocky\_db\_watcher from `62d64b5` to `5387cfa` [\#2309](https://github.com/hippware/wocky/pull/2309) ([dependabot-preview[bot]](https://github.com/apps/dependabot-preview))

## [2019.2.26+r288db8d](https://github.com/hippware/wocky/tree/2019.2.26+r288db8d) (2019-02-26)

[Full Changelog](https://github.com/hippware/wocky/compare/2019.2.22+rf3e6e9e...2019.2.26+r288db8d)

**Closed issues:**

- \[Wocky/testing\] ArithmeticError: bad argument in arithmetic expression [\#2303](https://github.com/hippware/wocky/issues/2303)
- \[Wocky/testing\] Redix.ConnectionError: %Redix.Error{message: "NOAUTH Authentication required."} [\#2301](https://github.com/hippware/wocky/issues/2301)
- `sharedWith` doesn't make sense with `currentUser.locationSharers` [\#2290](https://github.com/hippware/wocky/issues/2290)
- add `createdAt` and `expiresAt` to LocationShareNotification [\#2289](https://github.com/hippware/wocky/issues/2289)
- Ability to cancel all of a user's existing shares [\#2276](https://github.com/hippware/wocky/issues/2276)
- Cron tasks delaying DB callbacks and notifications for up to 30 seconds [\#2275](https://github.com/hippware/wocky/issues/2275)
- Clean up location shares after unfriend [\#2268](https://github.com/hippware/wocky/issues/2268)
- When location sharing ends, generate a new notification in the destination account [\#2244](https://github.com/hippware/wocky/issues/2244)
- Retrieve accounts which are sharing location to the querying account [\#2243](https://github.com/hippware/wocky/issues/2243)
- Sharing location should generate a new notification in the destination account [\#2236](https://github.com/hippware/wocky/issues/2236)
- Error: invalid user token [\#2184](https://github.com/hippware/wocky/issues/2184)

**Merged pull requests:**

- Move back to upstream version of redlock [\#2307](https://github.com/hippware/wocky/pull/2307) ([bernardd](https://github.com/bernardd))
- Bump stringprep from 1.0.14 to 1.0.15 [\#2305](https://github.com/hippware/wocky/pull/2305) ([dependabot-preview[bot]](https://github.com/apps/dependabot-preview))
- Fix redlock auth [\#2302](https://github.com/hippware/wocky/pull/2302) ([bernardd](https://github.com/bernardd))
- Bump phoenix\_pubsub from 1.1.1 to 1.1.2 [\#2300](https://github.com/hippware/wocky/pull/2300) ([dependabot-preview[bot]](https://github.com/apps/dependabot-preview))
- Bump redlock from 1.0.6 to 1.0.8 [\#2299](https://github.com/hippware/wocky/pull/2299) ([dependabot-preview[bot]](https://github.com/apps/dependabot-preview))
- Bump sweet\_xml from 0.6.5 to 0.6.6 [\#2298](https://github.com/hippware/wocky/pull/2298) ([dependabot-preview[bot]](https://github.com/apps/dependabot-preview))
- Use secure redis cluster \(take 5!\) [\#2297](https://github.com/hippware/wocky/pull/2297) ([bernardd](https://github.com/bernardd))
- Add notification expiresAt test [\#2296](https://github.com/hippware/wocky/pull/2296) ([bernardd](https://github.com/bernardd))
- Cleanup location handler [\#2295](https://github.com/hippware/wocky/pull/2295) ([toland](https://github.com/toland))
- Added logging for Swarm operations [\#2294](https://github.com/hippware/wocky/pull/2294) ([toland](https://github.com/toland))

## [2019.2.22+rf3e6e9e](https://github.com/hippware/wocky/tree/2019.2.22+rf3e6e9e) (2019-02-22)

[Full Changelog](https://github.com/hippware/wocky/compare/2019.2.22+r7377a3b...2019.2.22+rf3e6e9e)

**Merged pull requests:**

- Fix post-handoff crash [\#2293](https://github.com/hippware/wocky/pull/2293) ([bernardd](https://github.com/bernardd))

## [2019.2.22+r7377a3b](https://github.com/hippware/wocky/tree/2019.2.22+r7377a3b) (2019-02-22)

[Full Changelog](https://github.com/hippware/wocky/compare/2019.2.21+r218339f...2019.2.22+r7377a3b)

**Merged pull requests:**

- Add expires\_at to location share notification [\#2292](https://github.com/hippware/wocky/pull/2292) ([bernardd](https://github.com/bernardd))
- Add sharer field to location share object [\#2291](https://github.com/hippware/wocky/pull/2291) ([bernardd](https://github.com/bernardd))
- Bump wocky\_db\_watcher from `ada707d` to `62d64b5` [\#2286](https://github.com/hippware/wocky/pull/2286) ([dependabot-preview[bot]](https://github.com/apps/dependabot-preview))

## [2019.2.21+r218339f](https://github.com/hippware/wocky/tree/2019.2.21+r218339f) (2019-02-21)

[Full Changelog](https://github.com/hippware/wocky/compare/2019.2.21+rbe01364...2019.2.21+r218339f)

**Merged pull requests:**

- Fix more cronjob app tags [\#2285](https://github.com/hippware/wocky/pull/2285) ([bernardd](https://github.com/bernardd))

## [2019.2.21+rbe01364](https://github.com/hippware/wocky/tree/2019.2.21+rbe01364) (2019-02-21)

[Full Changelog](https://github.com/hippware/wocky/compare/2019.2.19+r8eb3a56...2019.2.21+rbe01364)

**Fixed bugs:**

- User current location DB callback handler crash  [\#2263](https://github.com/hippware/wocky/issues/2263)

**Closed issues:**

- \[Wocky/next\] Ecto.ConstraintError: constraint error when attempting to insert struct:

    \* user\_locations\_user\_id\_fkey \(foreign\_key\_constraint\)

If you would like to stop this constraint violation from raising an
exception and instead add it as an error to your changeset, please
call `foreign\_key\_constraint/3` on your changeset with the constraint
`:name` as an option.

The changeset has not defined any constraint. [\#2272](https://github.com/hippware/wocky/issues/2272)
- \[Wocky/next\] ErlangError: Erlang error: {{{%Ecto.ConstraintError{constraint: "user\_locations\_user\_id\_fkey", message: "constraint error when attempting to insert struct:\n\n    \* user\_locations\_user\_id\_fkey \(foreign\_key\_constraint\)\n\nIf you would like to stop this constraint violation from raising an\nexception and instead add it as an error to your changeset, please\ncall `foreign\_key\_constraint/3` on your changeset with the constraint\n`:name` as an option.\n\nThe changeset has not defined any constrai... [\#2271](https://github.com/hippware/wocky/issues/2271)
- \[Wocky/next\] ErlangError: Erlang error: {{%Ecto.ConstraintError{constraint: "user\_locations\_user\_id\_fkey", message: "constraint error when attempting to insert struct:\n\n    \* user\_locations\_user\_id\_fkey \(foreign\_key\_constraint\)\n\nIf you would like to stop this constraint violation from raising an\nexception and instead add it as an error to your changeset, please\ncall `foreign\_key\_constraint/3` on your changeset with the constraint\n`:name` as an option.\n\nThe changeset has not defined any constrain... [\#2270](https://github.com/hippware/wocky/issues/2270)
- \[Wocky/testing\] Ecto.ConstraintError: constraint error when attempting to insert struct:

    \* user\_locations\_user\_id\_fkey \(foreign\_key\_constraint\)

If you would like to stop this constraint violation from raising an
exception and instead add it as an error to your changeset, please
call `foreign\_key\_constraint/3` on your changeset with the constraint
`:name` as an option.

The changeset has not defined any constraint. [\#2269](https://github.com/hippware/wocky/issues/2269)
- Remove deployment notifications from \#development [\#2266](https://github.com/hippware/wocky/issues/2266)
- Add whitelist of numbers that can exceed sent SMS limit. [\#2250](https://github.com/hippware/wocky/issues/2250)

**Merged pull requests:**

- Fix callback crash on deleted user [\#2284](https://github.com/hippware/wocky/pull/2284) ([bernardd](https://github.com/bernardd))
- Make tasks only start the wocky DB subsystem [\#2283](https://github.com/hippware/wocky/pull/2283) ([bernardd](https://github.com/bernardd))
- Install newer db watcher [\#2282](https://github.com/hippware/wocky/pull/2282) ([bernardd](https://github.com/bernardd))
- Install newer db watcher [\#2281](https://github.com/hippware/wocky/pull/2281) ([bernardd](https://github.com/bernardd))
- Try to stabilize a flaky test [\#2280](https://github.com/hippware/wocky/pull/2280) ([toland](https://github.com/toland))
- Cancel location sharing on block or unfriend [\#2279](https://github.com/hippware/wocky/pull/2279) ([toland](https://github.com/toland))
- Add API to cancel all active location shares [\#2278](https://github.com/hippware/wocky/pull/2278) ([toland](https://github.com/toland))
- Bump ex\_phone\_number from 0.1.2 to 0.2.0 [\#2277](https://github.com/hippware/wocky/pull/2277) ([dependabot-preview[bot]](https://github.com/apps/dependabot-preview))
- Add Rexbug [\#2274](https://github.com/hippware/wocky/pull/2274) ([bernardd](https://github.com/bernardd))

## [2019.2.19+r8eb3a56](https://github.com/hippware/wocky/tree/2019.2.19+r8eb3a56) (2019-02-19)

[Full Changelog](https://github.com/hippware/wocky/compare/2019.2.18+rad3b125...2019.2.19+r8eb3a56)

**Merged pull requests:**

- Maintain state in swarm worker handoff [\#2273](https://github.com/hippware/wocky/pull/2273) ([bernardd](https://github.com/bernardd))
- Only notify \#dev-deployments of deployment [\#2267](https://github.com/hippware/wocky/pull/2267) ([toland](https://github.com/toland))
- The user may not exist during location callback [\#2264](https://github.com/hippware/wocky/pull/2264) ([toland](https://github.com/toland))

## [2019.2.18+rad3b125](https://github.com/hippware/wocky/tree/2019.2.18+rad3b125) (2019-02-18)

[Full Changelog](https://github.com/hippware/wocky/compare/2019.2.16+r3e13b29...2019.2.18+rad3b125)

**Closed issues:**

- \[Wocky/testing\] ErlangError: Erlang error: {:shutdown, :sender\_died, :killed} [\#2256](https://github.com/hippware/wocky/issues/2256)
- Authenticate a whitelist of agent names [\#2231](https://github.com/hippware/wocky/issues/2231)

**Merged pull requests:**

- Change cronjob app tag; space out loc share jobs a little more [\#2265](https://github.com/hippware/wocky/pull/2265) ([bernardd](https://github.com/bernardd))
- Revert "Use secure redis cluster \[take 4\]" [\#2262](https://github.com/hippware/wocky/pull/2262) ([bernardd](https://github.com/bernardd))
- Use secure redis cluster \[take 4\] [\#2261](https://github.com/hippware/wocky/pull/2261) ([bernardd](https://github.com/bernardd))
- Secure redis testing [\#2260](https://github.com/hippware/wocky/pull/2260) ([bernardd](https://github.com/bernardd))
- Secure redis testing [\#2259](https://github.com/hippware/wocky/pull/2259) ([bernardd](https://github.com/bernardd))
- Revert "Re-add secure redis temporarally to get logs" [\#2257](https://github.com/hippware/wocky/pull/2257) ([bernardd](https://github.com/bernardd))
- Re-add secure redis temporarally to get logs [\#2255](https://github.com/hippware/wocky/pull/2255) ([bernardd](https://github.com/bernardd))
- Add config to bypass SMS limit on particular numbers [\#2254](https://github.com/hippware/wocky/pull/2254) ([bernardd](https://github.com/bernardd))

## [2019.2.16+r3e13b29](https://github.com/hippware/wocky/tree/2019.2.16+r3e13b29) (2019-02-16)

[Full Changelog](https://github.com/hippware/wocky/compare/2019.2.13+r3f29a23...2019.2.16+r3e13b29)

**Closed issues:**

- \[Wocky/next\] ErlangError: Erlang error: {{%Phoenix.Router.NoRouteError{conn: %Plug.Conn{adapter: {Plug.Cowboy.Conn, :...}, assigns: %{}, before\_send: \[\#Function\<0.65099892/1 in WockyAPI.PipelineInstrumenter.call/2\>, \#Function\<1.112466771/1 in Plug.Logger.call/2\>\], body\_params: %{}, cookies: %Plug.Conn.Unfetched{aspect: :cookies}, halted: false, host: "52.11.85.10", method: "GET", owner: \#PID\<0.6645.0\>, params: %{}, path\_info: \[\], path\_params: %{}, port: 80, private: %{WockyAPI.Router =\> {\[\], %{Absinthe.P... [\#2246](https://github.com/hippware/wocky/issues/2246)
- Set up push notification test [\#2218](https://github.com/hippware/wocky/issues/2218)

**Merged pull requests:**

- Start the application when expiring location shares [\#2253](https://github.com/hippware/wocky/pull/2253) ([toland](https://github.com/toland))
- Rename share expiration cronjob manifests [\#2252](https://github.com/hippware/wocky/pull/2252) ([toland](https://github.com/toland))
- Add missing command definition to Distillery [\#2251](https://github.com/hippware/wocky/pull/2251) ([toland](https://github.com/toland))
- Use a new curl image in the CI process [\#2249](https://github.com/hippware/wocky/pull/2249) ([toland](https://github.com/toland))
- Add config to allow multiple different agent strings [\#2248](https://github.com/hippware/wocky/pull/2248) ([bernardd](https://github.com/bernardd))
- Update alpine and erlang/elixir versions [\#2247](https://github.com/hippware/wocky/pull/2247) ([bernardd](https://github.com/bernardd))
- Add query for live location shares to the current user [\#2245](https://github.com/hippware/wocky/pull/2245) ([toland](https://github.com/toland))
- Add location share notification [\#2242](https://github.com/hippware/wocky/pull/2242) ([bernardd](https://github.com/bernardd))

## [2019.2.13+r3f29a23](https://github.com/hippware/wocky/tree/2019.2.13+r3f29a23) (2019-02-13)

[Full Changelog](https://github.com/hippware/wocky/compare/2019.2.12+r097e263...2019.2.13+r3f29a23)

**Merged pull requests:**

- Correctly handle error on invalid SMS target number [\#2240](https://github.com/hippware/wocky/pull/2240) ([bernardd](https://github.com/bernardd))
- Bump phoenix from 1.4.0 to 1.4.1 [\#2238](https://github.com/hippware/wocky/pull/2238) ([dependabot-preview[bot]](https://github.com/apps/dependabot-preview))
- Bump mock from 0.3.2 to 0.3.3 [\#2237](https://github.com/hippware/wocky/pull/2237) ([dependabot-preview[bot]](https://github.com/apps/dependabot-preview))

## [2019.2.12+r097e263](https://github.com/hippware/wocky/tree/2019.2.12+r097e263) (2019-02-12)

[Full Changelog](https://github.com/hippware/wocky/compare/2019.2.11+re4e2a40...2019.2.12+r097e263)

**Closed issues:**

- Set up DB callback-invoking test [\#2216](https://github.com/hippware/wocky/issues/2216)

**Merged pull requests:**

- Bump geo\_postgis from 3.0.0 to 3.1.0 [\#2235](https://github.com/hippware/wocky/pull/2235) ([dependabot-preview[bot]](https://github.com/apps/dependabot-preview))
- Bump bcrypt\_elixir from 1.1.1 to 2.0.0 [\#2234](https://github.com/hippware/wocky/pull/2234) ([dependabot-preview[bot]](https://github.com/apps/dependabot-preview))
- Bump redix from 0.9.1 to 0.9.2 [\#2233](https://github.com/hippware/wocky/pull/2233) ([dependabot-preview[bot]](https://github.com/apps/dependabot-preview))

## [2019.2.11+re4e2a40](https://github.com/hippware/wocky/tree/2019.2.11+re4e2a40) (2019-02-11)

[Full Changelog](https://github.com/hippware/wocky/compare/2019.2.5+ra60052c...2019.2.11+re4e2a40)

**Closed issues:**

- Turn on sms sending for Staging [\#2229](https://github.com/hippware/wocky/issues/2229)
- Capability to delete individual notifications [\#2220](https://github.com/hippware/wocky/issues/2220)
- Include relationship status in retrieval of other user [\#2208](https://github.com/hippware/wocky/issues/2208)
- userBulkLookup: Cannot return null for non-nullable field [\#2207](https://github.com/hippware/wocky/issues/2207)
- \[Wocky/next\] RuntimeError: DB Watcher callback crash [\#2205](https://github.com/hippware/wocky/issues/2205)
- absinthe\_ecto's assoc helper is deprecated [\#2042](https://github.com/hippware/wocky/issues/2042)
- Queue location updates and have one geofence process per user [\#2030](https://github.com/hippware/wocky/issues/2030)

**Merged pull requests:**

- Bump plug from 1.7.1 to 1.7.2 [\#2232](https://github.com/hippware/wocky/pull/2232) ([dependabot-preview[bot]](https://github.com/apps/dependabot-preview))
- Enable Twilio SMS sending on next and staging [\#2230](https://github.com/hippware/wocky/pull/2230) ([bernardd](https://github.com/bernardd))
- Bump ex\_phone\_number from 0.1.1 to 0.1.2 [\#2228](https://github.com/hippware/wocky/pull/2228) ([dependabot-preview[bot]](https://github.com/apps/dependabot-preview))
- Bump dataloader from 1.0.5 to 1.0.6 [\#2227](https://github.com/hippware/wocky/pull/2227) ([dependabot-preview[bot]](https://github.com/apps/dependabot-preview))
- Fix image ready check and handling [\#2226](https://github.com/hippware/wocky/pull/2226) ([bernardd](https://github.com/bernardd))
- Fix crash when own number is in bulk lookup [\#2225](https://github.com/hippware/wocky/pull/2225) ([bernardd](https://github.com/bernardd))

## [2019.2.5+ra60052c](https://github.com/hippware/wocky/tree/2019.2.5+ra60052c) (2019-02-05)

[Full Changelog](https://github.com/hippware/wocky/compare/2019.2.1+refd5789...2019.2.5+ra60052c)

**Closed issues:**

- \[Wocky/next\] FunctionClauseError: no function clause matching in :public\_key.pem\_entry\_decode/1 [\#2203](https://github.com/hippware/wocky/issues/2203)
- \[Wocky/next\] Absinthe.ExecutionError: Invalid value returned from resolver.

Resolving field:

    userBulkLookup

Defined at:

    /opt/app/apps/wocky\_api/lib/wocky\_api/schema/bulk\_user\_types.ex:44

Resolving on:

    %{}

Got value:

    {:error, "Authentication Error - invalid username", 401}

...

Did you forget to return a valid `{:ok, any}` | `{:error, error\_value}` tuple?

...

The result must be one of the following...

\#\# For a data result

`{:ok, any}` result will do.

\#\#\# Examples:

A simple i... [\#2181](https://github.com/hippware/wocky/issues/2181)
- \[Wocky/next\] ArgumentError: argument error [\#2138](https://github.com/hippware/wocky/issues/2138)
- Create a way to get source/thumbnail url from `trosUrl` [\#2136](https://github.com/hippware/wocky/issues/2136)
- Rework relationship system [\#2122](https://github.com/hippware/wocky/issues/2122)
- New APIs for bulk phone number query, sms invite, user relation [\#2121](https://github.com/hippware/wocky/issues/2121)
- Add flag to `localBots` query to indicate excessive area [\#2015](https://github.com/hippware/wocky/issues/2015)
- Review and improve performance of `localBots` query [\#1991](https://github.com/hippware/wocky/issues/1991)
- Investigate clustering for `localBots` query [\#1986](https://github.com/hippware/wocky/issues/1986)

**Merged pull requests:**

- Bump faker from 0.11.2 to 0.12.0 [\#2224](https://github.com/hippware/wocky/pull/2224) ([dependabot-preview[bot]](https://github.com/apps/dependabot-preview))
- Bump ecto\_sql from 3.0.4 to 3.0.5 [\#2223](https://github.com/hippware/wocky/pull/2223) ([dependabot-preview[bot]](https://github.com/apps/dependabot-preview))
- Add notificationDelete mutation [\#2222](https://github.com/hippware/wocky/pull/2222) ([bernardd](https://github.com/bernardd))
- Bump credo from 1.0.1 to 1.0.2 [\#2215](https://github.com/hippware/wocky/pull/2215) ([dependabot-preview[bot]](https://github.com/apps/dependabot-preview))
- Bump dataloader from 1.0.4 to 1.0.5 [\#2214](https://github.com/hippware/wocky/pull/2214) ([dependabot-preview[bot]](https://github.com/apps/dependabot-preview))
- Bump excoveralls from 0.10.4 to 0.10.5 [\#2213](https://github.com/hippware/wocky/pull/2213) ([dependabot-preview[bot]](https://github.com/apps/dependabot-preview))
- Add relationship field to userBulkLookup [\#2212](https://github.com/hippware/wocky/pull/2212) ([bernardd](https://github.com/bernardd))
- Fix error on multiple identical bulk lookup numbers [\#2211](https://github.com/hippware/wocky/pull/2211) ([bernardd](https://github.com/bernardd))
- Remove call to delete current location [\#2210](https://github.com/hippware/wocky/pull/2210) ([toland](https://github.com/toland))
- Bump absinthe from `2b95b68` to `1fd2b98` [\#2209](https://github.com/hippware/wocky/pull/2209) ([dependabot-preview[bot]](https://github.com/apps/dependabot-preview))
- Dataloader [\#2201](https://github.com/hippware/wocky/pull/2201) ([bernardd](https://github.com/bernardd))
- Serialise user location updates through a single per-user process [\#2200](https://github.com/hippware/wocky/pull/2200) ([bernardd](https://github.com/bernardd))

## [2019.2.1+refd5789](https://github.com/hippware/wocky/tree/2019.2.1+refd5789) (2019-02-01)

[Full Changelog](https://github.com/hippware/wocky/compare/2019.1.31+r43318c4...2019.2.1+refd5789)

**Closed issues:**

- Add types filter to Notifications retrieval [\#2194](https://github.com/hippware/wocky/issues/2194)
- \[Wocky/next\] Absinthe.ExecutionError: Invalid value returned from resolver.

Resolving field:

    userBulkLookup

Defined at:

    /opt/app/apps/wocky\_api/lib/wocky\_api/schema/bulk\_user\_types.ex:44

Resolving on:

    %{}

Got value:

    {:error, "The requested resource /PhoneNumbers/+1555025663 was not found", 404}

...

Did you forget to return a valid `{:ok, any}` | `{:error, error\_value}` tuple?

...

The result must be one of the following...

\#\# For a data result

`{:ok, any}` result will do.

\#\#... [\#2191](https://github.com/hippware/wocky/issues/2191)

**Merged pull requests:**

- Fix goth creds [\#2206](https://github.com/hippware/wocky/pull/2206) ([bernardd](https://github.com/bernardd))
- Add firebase key to testing, next [\#2204](https://github.com/hippware/wocky/pull/2204) ([bernardd](https://github.com/bernardd))
- Add logging for SMS sandbox [\#2202](https://github.com/hippware/wocky/pull/2202) ([bernardd](https://github.com/bernardd))
- Revert "Use secure redis cluster \[take 2\]" [\#2199](https://github.com/hippware/wocky/pull/2199) ([bernardd](https://github.com/bernardd))
- Live location sharing, part 2 [\#2198](https://github.com/hippware/wocky/pull/2198) ([toland](https://github.com/toland))
- Bump ecto\_homoiconic\_enum from `9934bf6` to `bef3a0d` [\#2197](https://github.com/hippware/wocky/pull/2197) ([dependabot-preview[bot]](https://github.com/apps/dependabot-preview))
- Fix dialyzer warnings [\#2196](https://github.com/hippware/wocky/pull/2196) ([bernardd](https://github.com/bernardd))
- Use secure redis cluster \[take 2\] [\#2190](https://github.com/hippware/wocky/pull/2190) ([bernardd](https://github.com/bernardd))

## [2019.1.31+r43318c4](https://github.com/hippware/wocky/tree/2019.1.31+r43318c4) (2019-01-31)

[Full Changelog](https://github.com/hippware/wocky/compare/2019.1.29+r24a524e...2019.1.31+r43318c4)

**Merged pull requests:**

- Add notification type filter [\#2195](https://github.com/hippware/wocky/pull/2195) ([bernardd](https://github.com/bernardd))
- Bump bamboo from 1.1.0 to 1.2.0 [\#2193](https://github.com/hippware/wocky/pull/2193) ([dependabot-preview[bot]](https://github.com/apps/dependabot-preview))

## [2019.1.29+r24a524e](https://github.com/hippware/wocky/tree/2019.1.29+r24a524e) (2019-01-29)

[Full Changelog](https://github.com/hippware/wocky/compare/2019.1.28+r69b1e67...2019.1.29+r24a524e)

**Closed issues:**

- `userBulkLookup` also broken for "real" users [\#2186](https://github.com/hippware/wocky/issues/2186)
- Consolidate imagemagick calls [\#2154](https://github.com/hippware/wocky/issues/2154)

**Merged pull requests:**

- Add tests for cluster searching [\#2192](https://github.com/hippware/wocky/pull/2192) ([bernardd](https://github.com/bernardd))
- Fix Twilio error handling; Always use hardwired CC for bypass numbers [\#2189](https://github.com/hippware/wocky/pull/2189) ([bernardd](https://github.com/bernardd))
- Live location sharing, part 1 [\#2185](https://github.com/hippware/wocky/pull/2185) ([toland](https://github.com/toland))

## [2019.1.28+r69b1e67](https://github.com/hippware/wocky/tree/2019.1.28+r69b1e67) (2019-01-28)

[Full Changelog](https://github.com/hippware/wocky/compare/2019.1.25+r518bc7d...2019.1.28+r69b1e67)

**Closed issues:**

- Discussion: Deny access to some and/or pre-4.x client versions [\#2183](https://github.com/hippware/wocky/issues/2183)

**Merged pull requests:**

- Add missing Twilio auth token to next [\#2188](https://github.com/hippware/wocky/pull/2188) ([bernardd](https://github.com/bernardd))
- Bump credo from 1.0.0 to 1.0.1 [\#2187](https://github.com/hippware/wocky/pull/2187) ([dependabot-preview[bot]](https://github.com/apps/dependabot-preview))

## [2019.1.25+r518bc7d](https://github.com/hippware/wocky/tree/2019.1.25+r518bc7d) (2019-01-25)

[Full Changelog](https://github.com/hippware/wocky/compare/2019.1.22+r07e6454...2019.1.25+r518bc7d)

**Closed issues:**

- \[Wocky/testing\] ArgumentError: argument error [\#2139](https://github.com/hippware/wocky/issues/2139)

**Merged pull requests:**

- Add missing Twilio config to next [\#2182](https://github.com/hippware/wocky/pull/2182) ([bernardd](https://github.com/bernardd))
- Bump prometheus\_ex from 3.0.3 to 3.0.5 [\#2180](https://github.com/hippware/wocky/pull/2180) ([dependabot-preview[bot]](https://github.com/apps/dependabot-preview))
- Fix bluk user crash [\#2179](https://github.com/hippware/wocky/pull/2179) ([bernardd](https://github.com/bernardd))
- Add twilio config to testing [\#2178](https://github.com/hippware/wocky/pull/2178) ([bernardd](https://github.com/bernardd))

## [2019.1.22+r07e6454](https://github.com/hippware/wocky/tree/2019.1.22+r07e6454) (2019-01-22)

[Full Changelog](https://github.com/hippware/wocky/compare/2019.1.16+r9a91d02...2019.1.22+r07e6454)

**Closed issues:**

- Intermittent excessive image processing time [\#2170](https://github.com/hippware/wocky/issues/2170)
- \[Wocky/next\] ArgumentError: cannot load `"invitation\_response"` as type Wocky.User.Notification.NotificationType for field `type` in schema Wocky.User.Notification [\#2166](https://github.com/hippware/wocky/issues/2166)
- \[Wocky/next\] Protocol.UndefinedError: protocol String.Chars not implemented for %FunctionClauseError{args: nil, arity: 2, clauses: nil, function: :time\_within\_drift?, kind: nil, module: Guardian.Token.Verify}. This protocol is implemented for: Atom, BitString, Date, DateTime, Decimal, Float, Geo.GeometryCollection, Geo.LineString, Geo.MultiLineString, Geo.MultiPoint, Geo.MultiPolygon, Geo.Point, Geo.PointM, Geo.PointZ, Geo.PointZM, Geo.Polygon, Integer, List, NaiveDateTime, Postgrex.Copy, Postgrex.Query,... [\#2161](https://github.com/hippware/wocky/issues/2161)
- Implement flag to remember if user created a bot/location [\#2153](https://github.com/hippware/wocky/issues/2153)
- Change `Block` type to include a sub-type of user [\#2152](https://github.com/hippware/wocky/issues/2152)

**Merged pull requests:**

- Bump redix from 0.9.0 to 0.9.1 [\#2177](https://github.com/hippware/wocky/pull/2177) ([dependabot-preview[bot]](https://github.com/apps/dependabot-preview))
- Fix process aliveness check for presence [\#2176](https://github.com/hippware/wocky/pull/2176) ([bernardd](https://github.com/bernardd))
- Revert "Use secure redis cluster" [\#2175](https://github.com/hippware/wocky/pull/2175) ([toland](https://github.com/toland))
- Bump timex from 3.4.2 to 3.5.0 [\#2174](https://github.com/hippware/wocky/pull/2174) ([dependabot-preview[bot]](https://github.com/apps/dependabot-preview))
- Increase watcher client test timeouts slightly [\#2173](https://github.com/hippware/wocky/pull/2173) ([bernardd](https://github.com/bernardd))
- Fix mock use [\#2172](https://github.com/hippware/wocky/pull/2172) ([bernardd](https://github.com/bernardd))
- Use secure redis cluster [\#2169](https://github.com/hippware/wocky/pull/2169) ([bernardd](https://github.com/bernardd))
- Fix auth error formatting [\#2168](https://github.com/hippware/wocky/pull/2168) ([toland](https://github.com/toland))
- Reupdate Guardian [\#2167](https://github.com/hippware/wocky/pull/2167) ([toland](https://github.com/toland))
- Bump guardian from 1.1.1 to 1.2.0 [\#2164](https://github.com/hippware/wocky/pull/2164) ([dependabot-preview[bot]](https://github.com/apps/dependabot-preview))
- 1986 bot clustering search [\#2163](https://github.com/hippware/wocky/pull/2163) ([bernardd](https://github.com/bernardd))
- Add bulk user lookup and invitation operations [\#2157](https://github.com/hippware/wocky/pull/2157) ([bernardd](https://github.com/bernardd))

## [2019.1.16+r9a91d02](https://github.com/hippware/wocky/tree/2019.1.16+r9a91d02) (2019-01-16)

[Full Changelog](https://github.com/hippware/wocky/compare/2019.1.9+r47ead10...2019.1.16+r9a91d02)

**Security fixes:**

- The auth mechanism for location uploads needs to be long lived [\#1695](https://github.com/hippware/wocky/issues/1695)

**Closed issues:**

- Remove all public-scope graphql [\#2156](https://github.com/hippware/wocky/issues/2156)
- \[Wocky/us1\] UndefinedFunctionError: function nil.id/0 is undefined [\#2155](https://github.com/hippware/wocky/issues/2155)
- \[Wocky/testing\] FunctionClauseError: no function clause matches [\#2149](https://github.com/hippware/wocky/issues/2149)
- UAString with 4-part Version not entered into client\_versions correctly [\#2130](https://github.com/hippware/wocky/issues/2130)
- Remove the "initial contacts" code [\#2114](https://github.com/hippware/wocky/issues/2114)
- Make next the mainline development branch [\#2108](https://github.com/hippware/wocky/issues/2108)
- \[Wocky/testing\] UndefinedFunctionError: undefined function [\#1287](https://github.com/hippware/wocky/issues/1287)

**Merged pull requests:**

- Add bot\_created flag to user [\#2160](https://github.com/hippware/wocky/pull/2160) ([bernardd](https://github.com/bernardd))
- Alter blocked user data to be under a user object [\#2159](https://github.com/hippware/wocky/pull/2159) ([bernardd](https://github.com/bernardd))
- Remove public scope operations [\#2158](https://github.com/hippware/wocky/pull/2158) ([bernardd](https://github.com/bernardd))

## [2019.1.9+r47ead10](https://github.com/hippware/wocky/tree/2019.1.9+r47ead10) (2019-01-09)

[Full Changelog](https://github.com/hippware/wocky/compare/2018.12.20+r9697983...2019.1.9+r47ead10)

**Closed issues:**

- \[Wocky/next\] ErlangError: :with\_clause [\#1953](https://github.com/hippware/wocky/issues/1953)

**Merged pull requests:**

- Add handler for invalid pid construction [\#2151](https://github.com/hippware/wocky/pull/2151) ([bernardd](https://github.com/bernardd))
- Fix handling for contacts permission error [\#2150](https://github.com/hippware/wocky/pull/2150) ([bernardd](https://github.com/bernardd))
- Bump meck from 0.8.12 to 0.8.13 [\#2148](https://github.com/hippware/wocky/pull/2148) ([dependabot-preview[bot]](https://github.com/apps/dependabot-preview))
- Bump wocky\_db\_watcher from `a7eadfe` to `ada707d` [\#2147](https://github.com/hippware/wocky/pull/2147) ([dependabot-preview[bot]](https://github.com/apps/dependabot-preview))
- Add mediaurls query [\#2145](https://github.com/hippware/wocky/pull/2145) ([bernardd](https://github.com/bernardd))
- Bump confex from `8c1c252` to `903632d` [\#2144](https://github.com/hippware/wocky/pull/2144) ([dependabot-preview[bot]](https://github.com/apps/dependabot-preview))
- Bump excoveralls from 0.10.3 to 0.10.4 [\#2143](https://github.com/hippware/wocky/pull/2143) ([dependabot-preview[bot]](https://github.com/apps/dependabot-preview))
- Add id field to message object [\#2142](https://github.com/hippware/wocky/pull/2142) ([bernardd](https://github.com/bernardd))
- Redesign contact management API [\#2141](https://github.com/hippware/wocky/pull/2141) ([bernardd](https://github.com/bernardd))
- Bump phoenix\_pubsub\_redis back to official release [\#2135](https://github.com/hippware/wocky/pull/2135) ([bernardd](https://github.com/bernardd))
- Bump ecto\_sql from 3.0.3 to 3.0.4 [\#2134](https://github.com/hippware/wocky/pull/2134) ([dependabot-preview[bot]](https://github.com/apps/dependabot-preview))
- Bump geocalc from 0.7.1 to 0.7.2 [\#2133](https://github.com/hippware/wocky/pull/2133) ([dependabot-preview[bot]](https://github.com/apps/dependabot-preview))
- Bump absinthe\_metrics from 0.9.0 to 1.0.0 [\#2132](https://github.com/hippware/wocky/pull/2132) ([dependabot-preview[bot]](https://github.com/apps/dependabot-preview))
- Allow client versions with more than 3 digit groups [\#2131](https://github.com/hippware/wocky/pull/2131) ([toland](https://github.com/toland))

## [2018.12.20+r9697983](https://github.com/hippware/wocky/tree/2018.12.20+r9697983) (2018-12-20)

[Full Changelog](https://github.com/hippware/wocky/compare/2018.12.13+rb32e32f...2018.12.20+r9697983)

**Security fixes:**

- Discussion: User Privacy [\#2002](https://github.com/hippware/wocky/issues/2002)
- Address issues in TrustedAdvisor and Cloudsploit [\#1517](https://github.com/hippware/wocky/issues/1517)

**Closed issues:**

- Log push notification errors instead of sending Honeybadgers [\#2126](https://github.com/hippware/wocky/issues/2126)
- Improve test coverage [\#2118](https://github.com/hippware/wocky/issues/2118)
- \[Wocky/testing\] FunctionClauseError: no function clause matches [\#2116](https://github.com/hippware/wocky/issues/2116)
- Dependabot couldn't find the branch next [\#2112](https://github.com/hippware/wocky/issues/2112)
- \[Wocky/next\] FunctionClauseError: no function clause matching in WockyAPI.Resolvers.Utils.maybe\_post\_process/2 [\#2106](https://github.com/hippware/wocky/issues/2106)
- Audit for dead code post-XMPP purge [\#2103](https://github.com/hippware/wocky/issues/2103)
- \[Wocky/next\] ErlangError: Erlang error: {{%Phoenix.Router.NoRouteError{conn: %Plug.Conn{adapter: {Plug.Cowboy.Conn, :... [\#2072](https://github.com/hippware/wocky/issues/2072)
- New API to upload a list of contacts and send invites to them [\#1975](https://github.com/hippware/wocky/issues/1975)
- Research and/or implement SMS integration [\#1974](https://github.com/hippware/wocky/issues/1974)
- Investigate slow database queries [\#1547](https://github.com/hippware/wocky/issues/1547)
- Continuous deployment workflow [\#1142](https://github.com/hippware/wocky/issues/1142)

**Merged pull requests:**

- Improve errors on message sending [\#2129](https://github.com/hippware/wocky/pull/2129) ([bernardd](https://github.com/bernardd))
- Fix crash on invalid bot item publication changeset [\#2128](https://github.com/hippware/wocky/pull/2128) ([bernardd](https://github.com/bernardd))
- Don't send Honeybadgers for PN errors [\#2127](https://github.com/hippware/wocky/pull/2127) ([toland](https://github.com/toland))
- Fix rendering of HTTP errors [\#2125](https://github.com/hippware/wocky/pull/2125) ([toland](https://github.com/toland))
- Bump absinthe\_relay from `316686c` to `c3c85ca` [\#2124](https://github.com/hippware/wocky/pull/2124) ([dependabot-preview[bot]](https://github.com/apps/dependabot-preview))
- Refactor roster et al to use full user structs rather than IDs [\#2123](https://github.com/hippware/wocky/pull/2123) ([bernardd](https://github.com/bernardd))
- Improve test coverage [\#2120](https://github.com/hippware/wocky/pull/2120) ([bernardd](https://github.com/bernardd))
- 2116 waiter msg crash [\#2119](https://github.com/hippware/wocky/pull/2119) ([bernardd](https://github.com/bernardd))
- Twilio integration [\#2117](https://github.com/hippware/wocky/pull/2117) ([toland](https://github.com/toland))
- Remove the initial contacts feature [\#2115](https://github.com/hippware/wocky/pull/2115) ([toland](https://github.com/toland))
- Bump plug\_cowboy from 2.0.0 to 2.0.1 [\#2113](https://github.com/hippware/wocky/pull/2113) ([dependabot-preview[bot]](https://github.com/apps/dependabot-preview))
- Fix a crash when there is a certain GQL error [\#2109](https://github.com/hippware/wocky/pull/2109) ([toland](https://github.com/toland))
- Post-XMPP audit and code cleanup [\#2107](https://github.com/hippware/wocky/pull/2107) ([toland](https://github.com/toland))

## [2018.12.13+rb32e32f](https://github.com/hippware/wocky/tree/2018.12.13+rb32e32f) (2018-12-13)

[Full Changelog](https://github.com/hippware/wocky/compare/2018.11.28+r024235c...2018.12.13+rb32e32f)

**Fixed bugs:**

- Upload requests returning error regarding null headers [\#2093](https://github.com/hippware/wocky/issues/2093)
- JWT signing keys on next are wrong [\#2069](https://github.com/hippware/wocky/issues/2069)

**Security fixes:**

- Track user agent details in the database [\#1923](https://github.com/hippware/wocky/issues/1923)

**Closed issues:**

- \[Wocky/next\] FunctionClauseError: no function clause matches [\#2105](https://github.com/hippware/wocky/issues/2105)
- Location upload help please [\#2104](https://github.com/hippware/wocky/issues/2104)
- Current/Last Known City of profile owner \#3148 [\#2100](https://github.com/hippware/wocky/issues/2100)
- Make the naming of attached images consistent across objects [\#2098](https://github.com/hippware/wocky/issues/2098)
- Remove remaining uses of JIDs [\#2090](https://github.com/hippware/wocky/issues/2090)
- \[Wocky/next\] ArgumentError: argument error [\#2089](https://github.com/hippware/wocky/issues/2089)
- \[Wocky/next\] ArgumentError: argument error [\#2088](https://github.com/hippware/wocky/issues/2088)
- \[Wocky/next\] Postgrex.Error: ERROR 40P01 \(deadlock\_detected\) [\#2083](https://github.com/hippware/wocky/issues/2083)
- \[Wocky/next\] CaseClauseError: no case clause matching: :none [\#2082](https://github.com/hippware/wocky/issues/2082)
- Remove XML from bot item API [\#2081](https://github.com/hippware/wocky/issues/2081)
- \[Wocky/next\] FunctionClauseError: no function clause matching in WockyAPI.Middleware.RefreshCurrentUser.call/2 [\#2079](https://github.com/hippware/wocky/issues/2079)
- \[Wocky/next\] FunctionClauseError: no function clause matches [\#2076](https://github.com/hippware/wocky/issues/2076)
- Please invalidate these push tokens on Prod/us1 [\#2074](https://github.com/hippware/wocky/issues/2074)
- Honeybadger errors from 'next' show up as being from 'prod' [\#2065](https://github.com/hippware/wocky/issues/2065)
- \[Wocky/prod\] ErlangError: Erlang error: {{%Phoenix.Router.NoRouteError{conn: %Plug.Conn{adapter: {Plug.Cowboy.Conn, :...}, assigns: %{}, before\_send: \[\#Function\<0.15943940/1 in WockyAPI.PipelineInstrumenter.call/2\>, \#Function\<1.112466771/1 in Plug.Logger.call/2\>\], body\_params: %{}, cookies: %Plug.Conn.Unfetched{aspect: :cookies}, halted: false, host: "", method: "GET", owner: \#PID\<0.4175.0\>, params: %{}, path\_info: \[\], path\_params: %{}, port: 80, private: %{WockyAPI.Router =\> {\[\], %{Absinthe.Plug =\> \[\]}}... [\#2064](https://github.com/hippware/wocky/issues/2064)
- The Ecto pool size is not set correctly on deploy [\#2060](https://github.com/hippware/wocky/issues/2060)
- \[Wocky/us1\] Ecto.InvalidChangesetError: could not perform insert because changeset is invalid.

Applied changes

    %{
      message\_id: "5D32274A-4DB6-24EB-C573-F6EACBA1EC67",
      resource: "4200C9E4-C63E-4E1F-A77A-6DA9F60C8200",
      response: "success",
      token: "7ab8f4a33d0208f3816903c4ec9ed9ebba848cbd70e012e2cc565f7db2334bb9",
      user\_id: "9816c25e-55e2-11e7-8209-0e78520e044a"
    }

Params

    %{
      "details" =\> "",
      "message\_id" =\> "5D32274A-4DB6-24EB-C573-F6EACBA1EC67",
      ... [\#2057](https://github.com/hippware/wocky/issues/2057)
- Replace the XML message envelope [\#2024](https://github.com/hippware/wocky/issues/2024)
- Update to Phoenix 1.4 and Ecto 3.0 [\#2003](https://github.com/hippware/wocky/issues/2003)
- Don't save user location history on `us1` [\#1994](https://github.com/hippware/wocky/issues/1994)
- Don't store traffic logs on `us1` [\#1993](https://github.com/hippware/wocky/issues/1993)
- Remove XMPP code [\#1984](https://github.com/hippware/wocky/issues/1984)
- Record async graphql traffic in traffic\_logs [\#1970](https://github.com/hippware/wocky/issues/1970)
- Discussion: Drop the XML envelope for direct messages [\#1969](https://github.com/hippware/wocky/issues/1969)
- Configure APNS certificate for 'next' server [\#1955](https://github.com/hippware/wocky/issues/1955)
- Set up 'Next' server environment [\#1948](https://github.com/hippware/wocky/issues/1948)
- Checkpoint the database migrations [\#1915](https://github.com/hippware/wocky/issues/1915)
- Decommission Algolia indices [\#1862](https://github.com/hippware/wocky/issues/1862)
- Expunge XMPP [\#1676](https://github.com/hippware/wocky/issues/1676)

**Merged pull requests:**

- Make next mainline [\#2110](https://github.com/hippware/wocky/pull/2110) ([toland](https://github.com/toland))
- Bump recon from 2.3.6 to 2.4.0 [\#2102](https://github.com/hippware/wocky/pull/2102) ([dependabot-preview[bot]](https://github.com/apps/dependabot-preview))
- Bump confex from `78e38a6` to `8c1c252` [\#2101](https://github.com/hippware/wocky/pull/2101) ([dependabot-preview[bot]](https://github.com/apps/dependabot-preview))
- Clean up old code related to JIDs [\#2099](https://github.com/hippware/wocky/pull/2099) ([toland](https://github.com/toland))
- Consistent naming for attached images [\#2097](https://github.com/hippware/wocky/pull/2097) ([toland](https://github.com/toland))
- Remove the XML envelope from messages [\#2096](https://github.com/hippware/wocky/pull/2096) ([toland](https://github.com/toland))
- Fix the generation of file upload headers [\#2094](https://github.com/hippware/wocky/pull/2094) ([toland](https://github.com/toland))
- Simplify the bot item API by removing the XML [\#2092](https://github.com/hippware/wocky/pull/2092) ([toland](https://github.com/toland))
- Fix GQL file upload parameters [\#2091](https://github.com/hippware/wocky/pull/2091) ([toland](https://github.com/toland))
- Use staging APNs config for next [\#2087](https://github.com/hippware/wocky/pull/2087) ([toland](https://github.com/toland))
- Only call set\_user on actual websocket connections [\#2086](https://github.com/hippware/wocky/pull/2086) ([bernardd](https://github.com/bernardd))
- Authentication clean up and features [\#2085](https://github.com/hippware/wocky/pull/2085) ([toland](https://github.com/toland))
- Return error when contact relationship is none [\#2084](https://github.com/hippware/wocky/pull/2084) ([toland](https://github.com/toland))
- Bump geo\_postgis from 2.1.0 to 3.0.0 [\#2080](https://github.com/hippware/wocky/pull/2080) ([dependabot-preview[bot]](https://github.com/apps/dependabot-preview))
- Bump ecto\_sql from 3.0.2 to 3.0.3 [\#2078](https://github.com/hippware/wocky/pull/2078) ([dependabot-preview[bot]](https://github.com/apps/dependabot-preview))
- Add websocket-level logging to graphQL [\#2077](https://github.com/hippware/wocky/pull/2077) ([bernardd](https://github.com/bernardd))
- Bump absinthe from `23a990a` to `2b95b68` [\#2075](https://github.com/hippware/wocky/pull/2075) ([dependabot-preview[bot]](https://github.com/apps/dependabot-preview))
- Fix the Honeybadger environment [\#2071](https://github.com/hippware/wocky/pull/2071) ([toland](https://github.com/toland))
- Add JWT signing keys to next [\#2070](https://github.com/hippware/wocky/pull/2070) ([toland](https://github.com/toland))
- Bump confex from `6fe1d68` to `78e38a6` [\#2068](https://github.com/hippware/wocky/pull/2068) ([dependabot-preview[bot]](https://github.com/apps/dependabot-preview))
- Remove the push payload validation \[next\] [\#2067](https://github.com/hippware/wocky/pull/2067) ([toland](https://github.com/toland))
- Fix the migration pool size. Again. [\#2063](https://github.com/hippware/wocky/pull/2063) ([toland](https://github.com/toland))
-  Rewrite migration task for Ecto 3 [\#2062](https://github.com/hippware/wocky/pull/2062) ([toland](https://github.com/toland))
- A smorgasbord of fixes for \[next\] [\#2059](https://github.com/hippware/wocky/pull/2059) ([toland](https://github.com/toland))
- Bump bypass from 0.9.0 to 1.0.0 [\#2055](https://github.com/hippware/wocky/pull/2055) ([dependabot-preview[bot]](https://github.com/apps/dependabot-preview))
- Revert GraphQL traffic logging change [\#2054](https://github.com/hippware/wocky/pull/2054) ([toland](https://github.com/toland))
- Move GraphQL traffic logging to websocket level [\#2050](https://github.com/hippware/wocky/pull/2050) ([bernardd](https://github.com/bernardd))
- Dialyzer fixes [\#2049](https://github.com/hippware/wocky/pull/2049) ([bernardd](https://github.com/bernardd))
- Remove wocky\_xmpp from applications [\#2048](https://github.com/hippware/wocky/pull/2048) ([bernardd](https://github.com/bernardd))
- Bump redix from 0.8.2 to 0.9.0 [\#2047](https://github.com/hippware/wocky/pull/2047) ([dependabot-preview[bot]](https://github.com/apps/dependabot-preview))
- Add deletion of firebase users to user deletion [\#2046](https://github.com/hippware/wocky/pull/2046) ([bernardd](https://github.com/bernardd))
- Bump faker from 0.11.1 to 0.11.2 [\#2045](https://github.com/hippware/wocky/pull/2045) ([dependabot-preview[bot]](https://github.com/apps/dependabot-preview))
- Upgrade to Phoenix 1.4 and Ecto 3.0 [\#2044](https://github.com/hippware/wocky/pull/2044) ([toland](https://github.com/toland))
- Bump exrun from 0.1.6 to 0.1.7 [\#2043](https://github.com/hippware/wocky/pull/2043) ([dependabot-preview[bot]](https://github.com/apps/dependabot-preview))
- Fix a couple of TROS store renamings I missed [\#2041](https://github.com/hippware/wocky/pull/2041) ([bernardd](https://github.com/bernardd))
- Add missing description [\#2040](https://github.com/hippware/wocky/pull/2040) ([bernardd](https://github.com/bernardd))
- Delete TROS files when a user is deleted [\#2038](https://github.com/hippware/wocky/pull/2038) ([bernardd](https://github.com/bernardd))
- Restrict logging push notification payload on us1 \[next\] [\#2037](https://github.com/hippware/wocky/pull/2037) ([toland](https://github.com/toland))
- Bump excoveralls from 0.10.2 to 0.10.3 [\#2034](https://github.com/hippware/wocky/pull/2034) ([dependabot-preview[bot]](https://github.com/apps/dependabot-preview))
- Bump credo from 0.10.2 to 1.0.0 [\#2033](https://github.com/hippware/wocky/pull/2033) ([dependabot-preview[bot]](https://github.com/apps/dependabot-preview))
- Update redlock dependency [\#2032](https://github.com/hippware/wocky/pull/2032) ([bernardd](https://github.com/bernardd))
- Bump xml\_builder from 2.1.0 to 2.1.1 [\#2031](https://github.com/hippware/wocky/pull/2031) ([dependabot-preview[bot]](https://github.com/apps/dependabot-preview))
- Allow using a server-generated JWT for location updates \[next\] [\#2028](https://github.com/hippware/wocky/pull/2028) ([toland](https://github.com/toland))
- Bump ranch from 1.6.2 to 1.7.0 [\#2026](https://github.com/hippware/wocky/pull/2026) ([dependabot-preview[bot]](https://github.com/apps/dependabot-preview))
- Fix the Hippware check when email is nil \[next\] [\#2021](https://github.com/hippware/wocky/pull/2021) ([toland](https://github.com/toland))
- Rework localBots query to report if the query area is too large [\#2018](https://github.com/hippware/wocky/pull/2018) ([bernardd](https://github.com/bernardd))
- Graphql tweaks \[next\] [\#2013](https://github.com/hippware/wocky/pull/2013) ([bernardd](https://github.com/bernardd))
- Don't save user locations on us1 [\#2011](https://github.com/hippware/wocky/pull/2011) ([toland](https://github.com/toland))
- Fix followee/following bug; add created\_at to contacts \[next\] [\#2009](https://github.com/hippware/wocky/pull/2009) ([bernardd](https://github.com/bernardd))
- Pull all bot events at once during geofence calculation \(next\) [\#2000](https://github.com/hippware/wocky/pull/2000) ([toland](https://github.com/toland))
- Disable traffic log on us1 \[next\] [\#1997](https://github.com/hippware/wocky/pull/1997) ([bernardd](https://github.com/bernardd))
- Add limits to localBots query [\#1996](https://github.com/hippware/wocky/pull/1996) ([bernardd](https://github.com/bernardd))
- Replace presence subscription with followee subscription [\#1995](https://github.com/hippware/wocky/pull/1995) ([bernardd](https://github.com/bernardd))
- Bump cors\_plug from 1.5.2 to 2.0.0 [\#1990](https://github.com/hippware/wocky/pull/1990) ([dependabot-preview[bot]](https://github.com/apps/dependabot-preview))
- Bump distillery from 2.0.11 to 2.0.12 [\#1989](https://github.com/hippware/wocky/pull/1989) ([dependabot-preview[bot]](https://github.com/apps/dependabot-preview))
- GraphQL API for push notifications [\#1987](https://github.com/hippware/wocky/pull/1987) ([toland](https://github.com/toland))
- Death to xmpp [\#1985](https://github.com/hippware/wocky/pull/1985) ([bernardd](https://github.com/bernardd))
- Bump timex from 3.4.1 to 3.4.2 [\#1983](https://github.com/hippware/wocky/pull/1983) ([dependabot-preview[bot]](https://github.com/apps/dependabot-preview))
- Bump distillery from 2.0.10 to 2.0.11 [\#1982](https://github.com/hippware/wocky/pull/1982) ([dependabot-preview[bot]](https://github.com/apps/dependabot-preview))
- Bump ex\_machina from 2.2.0 to 2.2.2 [\#1981](https://github.com/hippware/wocky/pull/1981) ([dependabot-preview[bot]](https://github.com/apps/dependabot-preview))
- Rename resource to device [\#1979](https://github.com/hippware/wocky/pull/1979) ([toland](https://github.com/toland))
- Bump phoenix\_ecto to 3.6.0 [\#1978](https://github.com/hippware/wocky/pull/1978) ([bernardd](https://github.com/bernardd))
- Add GraphQL blocking interface [\#1976](https://github.com/hippware/wocky/pull/1976) ([bernardd](https://github.com/bernardd))
- Double geofence processing fix for next [\#1973](https://github.com/hippware/wocky/pull/1973) ([toland](https://github.com/toland))
- Start a changelog for Next branch [\#1971](https://github.com/hippware/wocky/pull/1971) ([bengtan](https://github.com/bengtan))
- Bump faker from 0.11.0 to 0.11.1 [\#1968](https://github.com/hippware/wocky/pull/1968) ([dependabot-preview[bot]](https://github.com/apps/dependabot-preview))
- Bump excoveralls from 0.10.1 to 0.10.2 [\#1967](https://github.com/hippware/wocky/pull/1967) ([dependabot-preview[bot]](https://github.com/apps/dependabot-preview))
- GraphQL messaging [\#1966](https://github.com/hippware/wocky/pull/1966) ([bernardd](https://github.com/bernardd))
- Make some parts of the users tests synchronous [\#1965](https://github.com/hippware/wocky/pull/1965) ([bernardd](https://github.com/bernardd))
- Add checkpoint migration and remove bot\_shares [\#1964](https://github.com/hippware/wocky/pull/1964) ([toland](https://github.com/toland))
- Bump bimap from 0.1.1 to 1.0.0 [\#1963](https://github.com/hippware/wocky/pull/1963) ([dependabot-preview[bot]](https://github.com/apps/dependabot-preview))
- Bump jsx from 2.8.3 to 2.9.0 [\#1962](https://github.com/hippware/wocky/pull/1962) ([dependabot-preview[bot]](https://github.com/apps/dependabot-preview))
- Convert Espec tests to ExUnit [\#1958](https://github.com/hippware/wocky/pull/1958) ([toland](https://github.com/toland))

## [2018.11.28+r024235c](https://github.com/hippware/wocky/tree/2018.11.28+r024235c) (2018-11-28)

[Full Changelog](https://github.com/hippware/wocky/compare/2018.11.27+re9365be...2018.11.28+r024235c)

**Security fixes:**

- Restrict push notification logs on us1 [\#2016](https://github.com/hippware/wocky/issues/2016)

**Closed issues:**

- \[Wocky/staging\] KeyError: key :followee not found in: %{follower: %Absinthe.Type.Enum.Value{\_\_reference\_\_: nil, deprecation: nil, description: "The child user is following the parent user", name: "FOLLOWER", value: :follower}, following: %Absinthe.Type.Enum.Value{\_\_reference\_\_: nil, deprecation: nil, description: "The parent user is following the child user", name: "FOLLOWING", value: :following}, friend: %Absinthe.Type.Enum.Value{\_\_reference\_\_: nil, deprecation: nil, description: "The two users are foll... [\#2007](https://github.com/hippware/wocky/issues/2007)
- Geofence anomalies for embedded location points [\#1959](https://github.com/hippware/wocky/issues/1959)
- Geofence not triggering on location embedded within botInvitationRespond [\#1939](https://github.com/hippware/wocky/issues/1939)
- GraphQL roster management [\#1832](https://github.com/hippware/wocky/issues/1832)

**Merged pull requests:**

- Remove the push payload validation [\#2066](https://github.com/hippware/wocky/pull/2066) ([toland](https://github.com/toland))

## [2018.11.27+re9365be](https://github.com/hippware/wocky/tree/2018.11.27+re9365be) (2018-11-27)

[Full Changelog](https://github.com/hippware/wocky/compare/2018.11.19+r4cf6cf2...2018.11.27+re9365be)

**Closed issues:**

- Auth: `iss` JWT field to add os version, device hardware, codepush [\#2053](https://github.com/hippware/wocky/issues/2053)
- Investigate replacing ejson with KMS for secret storage [\#2036](https://github.com/hippware/wocky/issues/2036)
- Server side graphql 'metadata tracing' plugin [\#2022](https://github.com/hippware/wocky/issues/2022)

**Merged pull requests:**

- Make push payload nullable at schema level [\#2061](https://github.com/hippware/wocky/pull/2061) ([toland](https://github.com/toland))
- Make the payload column of push\_logs nullable [\#2058](https://github.com/hippware/wocky/pull/2058) ([toland](https://github.com/toland))
- Change the migration timestamp to naive\_datetime [\#2056](https://github.com/hippware/wocky/pull/2056) ([toland](https://github.com/toland))

## [2018.11.19+r4cf6cf2](https://github.com/hippware/wocky/tree/2018.11.19+r4cf6cf2) (2018-11-19)

[Full Changelog](https://github.com/hippware/wocky/compare/2018.11.9+re16de00...2018.11.19+r4cf6cf2)

**Closed issues:**

- \[Wocky/testing\] FunctionClauseError: no function clause matches [\#2019](https://github.com/hippware/wocky/issues/2019)
- Fallback 30 second debounce rule needs more data points [\#1946](https://github.com/hippware/wocky/issues/1946)
- Reduce geofence events spam [\#1826](https://github.com/hippware/wocky/issues/1826)

**Merged pull requests:**

- Restrict logging push notification payload on us1 [\#2035](https://github.com/hippware/wocky/pull/2035) ([toland](https://github.com/toland))

## [2018.11.9+re16de00](https://github.com/hippware/wocky/tree/2018.11.9+re16de00) (2018-11-09)

[Full Changelog](https://github.com/hippware/wocky/compare/2018.11.8+r9cae413...2018.11.9+re16de00)

**Closed issues:**

- 1993 [\#2014](https://github.com/hippware/wocky/issues/2014)
- Update to ecto 3.0 [\#2001](https://github.com/hippware/wocky/issues/2001)

**Merged pull requests:**

- Fix the Hippware check when email is nil [\#2020](https://github.com/hippware/wocky/pull/2020) ([toland](https://github.com/toland))
- Increase allowed complexity; disable tracing on staging [\#2012](https://github.com/hippware/wocky/pull/2012) ([bernardd](https://github.com/bernardd))
- Don't save user locations on us1 [\#2010](https://github.com/hippware/wocky/pull/2010) ([toland](https://github.com/toland))
- Disable traffic log on us1 [\#1998](https://github.com/hippware/wocky/pull/1998) ([bernardd](https://github.com/bernardd))

## [2018.11.8+r9cae413](https://github.com/hippware/wocky/tree/2018.11.8+r9cae413) (2018-11-08)

[Full Changelog](https://github.com/hippware/wocky/compare/2018.10.17+r06b8c08...2018.11.8+r9cae413)

**Closed issues:**

- Location processing optimizations [\#1988](https://github.com/hippware/wocky/issues/1988)
- \[Wocky/next\] CaseClauseError: no case clause matching: {:error, {:http\_error, 403, %{code: "SignatureDoesNotMatch", detail: "", message: "The request signature we calculated does not match the signature you provided. Check your AWS Secret Access Key and signing method. Consult the service documentation for details.\n\nThe Canonical String for this request should have been\n'POST\n/wocky-db-watcher-next.fifo\n\ncontent-type:application/x-www-form-urlencoded\nhost:sqs.us-west-2.amazonaws.com\nx-amz-date:20... [\#1954](https://github.com/hippware/wocky/issues/1954)
- Remove or disable auto-follow on Prod [\#1952](https://github.com/hippware/wocky/issues/1952)
- \[Wocky/us1\] DBConnection.ConnectionError: tcp recv: closed [\#1951](https://github.com/hippware/wocky/issues/1951)
- Multiple @null accounts are following tinyrobot [\#1947](https://github.com/hippware/wocky/issues/1947)
- Lots of errors in push\_logs table. [\#1945](https://github.com/hippware/wocky/issues/1945)
- Traffic Logs to record external IP address [\#1935](https://github.com/hippware/wocky/issues/1935)
- When they did the server deploy I got random push notifications ... [\#1926](https://github.com/hippware/wocky/issues/1926)
- Accept a location update as part of invitation acceptance [\#1921](https://github.com/hippware/wocky/issues/1921)
- APNS certificates for 'releasing as a new app' \(Prod only\) [\#1918](https://github.com/hippware/wocky/issues/1918)
- Tidy up expired user invitation codes [\#1901](https://github.com/hippware/wocky/issues/1901)
- User invite and redeem functionality [\#1889](https://github.com/hippware/wocky/issues/1889)
- Migrate all unit tests to ExUnit [\#1885](https://github.com/hippware/wocky/issues/1885)
- Review blocking functionality as applied to invitations and other notifications [\#1880](https://github.com/hippware/wocky/issues/1880)
- Server side bot migrations [\#1870](https://github.com/hippware/wocky/issues/1870)
- Investigate adding a test which takes recent testing and/or staging data and runs migrations against that [\#1755](https://github.com/hippware/wocky/issues/1755)

**Merged pull requests:**

- Fix followee/following bug; add created\_at to contacts [\#2008](https://github.com/hippware/wocky/pull/2008) ([bernardd](https://github.com/bernardd))
- Pull all bot events at once during geofence calculation [\#1999](https://github.com/hippware/wocky/pull/1999) ([toland](https://github.com/toland))
- Bump phoenix\_ecto to 3.6.0 [\#1977](https://github.com/hippware/wocky/pull/1977) ([bernardd](https://github.com/bernardd))
- Double geofence processing fix [\#1972](https://github.com/hippware/wocky/pull/1972) ([toland](https://github.com/toland))
- Bump ex\_machina from 2.2.0 to 2.2.1 [\#1956](https://github.com/hippware/wocky/pull/1956) ([dependabot-preview[bot]](https://github.com/apps/dependabot-preview))
- Bump geocalc from 0.7.0 to 0.7.1 [\#1950](https://github.com/hippware/wocky/pull/1950) ([dependabot-preview[bot]](https://github.com/apps/dependabot-preview))
- Bump espec from 1.6.2 to 1.6.3 [\#1949](https://github.com/hippware/wocky/pull/1949) ([dependabot-preview[bot]](https://github.com/apps/dependabot-preview))
- Bump phoenix\_pubsub from 1.1.0 to 1.1.1 [\#1944](https://github.com/hippware/wocky/pull/1944) ([dependabot-preview[bot]](https://github.com/apps/dependabot-preview))
- Add schema docs for contacts [\#1943](https://github.com/hippware/wocky/pull/1943) ([bernardd](https://github.com/bernardd))
- Exit bot on unsubscribe [\#1942](https://github.com/hippware/wocky/pull/1942) ([toland](https://github.com/toland))
- 1832 graphql roster [\#1941](https://github.com/hippware/wocky/pull/1941) ([bernardd](https://github.com/bernardd))

## [2018.10.17+r06b8c08](https://github.com/hippware/wocky/tree/2018.10.17+r06b8c08) (2018-10-17)

[Full Changelog](https://github.com/hippware/wocky/compare/2018.10.11+raebd3f3...2018.10.17+r06b8c08)

**Closed issues:**

- Send bot visitor messages after create/invite from 2 users at same location [\#1927](https://github.com/hippware/wocky/issues/1927)

**Merged pull requests:**

- Bump pigeon from 1.2.3 to 1.2.4 [\#1938](https://github.com/hippware/wocky/pull/1938) ([dependabot-preview[bot]](https://github.com/apps/dependabot-preview))
- Bump phoenix\_ecto from 3.4.0 to 3.5.0 [\#1937](https://github.com/hippware/wocky/pull/1937) ([dependabot-preview[bot]](https://github.com/apps/dependabot-preview))
- Bump geocalc from 0.6.1 to 0.7.0 [\#1936](https://github.com/hippware/wocky/pull/1936) ([dependabot-preview[bot]](https://github.com/apps/dependabot-preview))
- Bump lager from 3.6.6 to 3.6.7 [\#1933](https://github.com/hippware/wocky/pull/1933) ([dependabot-preview[bot]](https://github.com/apps/dependabot-preview))
- Bump kadabra from 0.4.3 to 0.4.4 [\#1932](https://github.com/hippware/wocky/pull/1932) ([dependabot-preview[bot]](https://github.com/apps/dependabot-preview))
- Bump redix from 0.8.1 to 0.8.2 [\#1931](https://github.com/hippware/wocky/pull/1931) ([dependabot-preview[bot]](https://github.com/apps/dependabot-preview))
- Bump espec from 1.6.1 to 1.6.2 [\#1930](https://github.com/hippware/wocky/pull/1930) ([dependabot-preview[bot]](https://github.com/apps/dependabot-preview))
- Update the bundle ID for push notifications [\#1928](https://github.com/hippware/wocky/pull/1928) ([toland](https://github.com/toland))

## [2018.10.11+raebd3f3](https://github.com/hippware/wocky/tree/2018.10.11+raebd3f3) (2018-10-11)

[Full Changelog](https://github.com/hippware/wocky/compare/2018.10.10+r7a88abd...2018.10.11+raebd3f3)

**Closed issues:**

- \[Wocky/us1\] Postgrex.Error: ERROR 42703 \(undefined\_column\): column b0.public does not exist [\#1924](https://github.com/hippware/wocky/issues/1924)
- v2, Geofence entry notification, owner inside at t=0 [\#1461](https://github.com/hippware/wocky/issues/1461)

**Merged pull requests:**

- Update push certs [\#1925](https://github.com/hippware/wocky/pull/1925) ([bernardd](https://github.com/bernardd))

## [2018.10.10+r7a88abd](https://github.com/hippware/wocky/tree/2018.10.10+r7a88abd) (2018-10-10)

[Full Changelog](https://github.com/hippware/wocky/compare/2018.10.9+r3399de5...2018.10.10+r7a88abd)

**Closed issues:**

- RFC: Add a VPN service to the server side infrastructure [\#1907](https://github.com/hippware/wocky/issues/1907)
- Remove home stream [\#1879](https://github.com/hippware/wocky/issues/1879)
- Remove Algolia [\#1861](https://github.com/hippware/wocky/issues/1861)
- Upgrade databases to Amazon Aurora [\#1858](https://github.com/hippware/wocky/issues/1858)
- Migrate us1 to Aurora [\#1857](https://github.com/hippware/wocky/issues/1857)
- Migrate staging to Aurora [\#1856](https://github.com/hippware/wocky/issues/1856)

**Merged pull requests:**

- Support invitation response with user location [\#1922](https://github.com/hippware/wocky/pull/1922) ([toland](https://github.com/toland))
- Enable connection draining for all environments [\#1916](https://github.com/hippware/wocky/pull/1916) ([bernardd](https://github.com/bernardd))

## [2018.10.9+r3399de5](https://github.com/hippware/wocky/tree/2018.10.9+r3399de5) (2018-10-09)

[Full Changelog](https://github.com/hippware/wocky/compare/2018.10.3+ra0dc575...2018.10.9+r3399de5)

**Closed issues:**

- \[Wocky/staging\] Postgrex.Error: ERROR 42703 \(undefined\_column\): column b0.public does not exist [\#1912](https://github.com/hippware/wocky/issues/1912)
- GraphQL loadBot query returns null for newly created and invited bot [\#1906](https://github.com/hippware/wocky/issues/1906)
- \[Wocky/us1\] ErlangError: Erlang error: :timeout [\#1899](https://github.com/hippware/wocky/issues/1899)
- \[Wocky/us1\] RuntimeError: The device token is inactive for the specified topic. [\#1898](https://github.com/hippware/wocky/issues/1898)
- Schedule `staging` deployments [\#1852](https://github.com/hippware/wocky/issues/1852)

**Merged pull requests:**

- Migrate shares to invitations [\#1914](https://github.com/hippware/wocky/pull/1914) ([toland](https://github.com/toland))
- Fix blocking tests [\#1911](https://github.com/hippware/wocky/pull/1911) ([bernardd](https://github.com/bernardd))
- Bump gen\_stage from 0.14.0 to 0.14.1 [\#1910](https://github.com/hippware/wocky/pull/1910) ([dependabot-preview[bot]](https://github.com/apps/dependabot-preview))
- Bump ex\_guard from 1.3.2 to 1.3.3 [\#1909](https://github.com/hippware/wocky/pull/1909) ([dependabot-preview[bot]](https://github.com/apps/dependabot-preview))
- Fix schema typo [\#1908](https://github.com/hippware/wocky/pull/1908) ([bernardd](https://github.com/bernardd))
- Full support for blocking on notifications and invitations [\#1905](https://github.com/hippware/wocky/pull/1905) ([bernardd](https://github.com/bernardd))
- Add db-dump cronjob and db migration test step [\#1904](https://github.com/hippware/wocky/pull/1904) ([bernardd](https://github.com/bernardd))
- Cleanup expired invitation codes [\#1903](https://github.com/hippware/wocky/pull/1903) ([toland](https://github.com/toland))
- Bump ecto from 2.2.10 to 2.2.11 [\#1902](https://github.com/hippware/wocky/pull/1902) ([dependabot-preview[bot]](https://github.com/apps/dependabot-preview))
- Minimal changes to hard-wire public and geofence fields on bots [\#1881](https://github.com/hippware/wocky/pull/1881) ([bernardd](https://github.com/bernardd))

## [2018.10.3+ra0dc575](https://github.com/hippware/wocky/tree/2018.10.3+ra0dc575) (2018-10-03)

[Full Changelog](https://github.com/hippware/wocky/compare/2018.9.25+r50db3a0...2018.10.3+ra0dc575)

**Fixed bugs:**

- Set location captured\_at to now if not provided by client [\#1795](https://github.com/hippware/wocky/issues/1795)
- Cannot create 'empty' bot via GraphQL [\#1682](https://github.com/hippware/wocky/issues/1682)
- Crash in the new icon code [\#1611](https://github.com/hippware/wocky/issues/1611)
- badkey error when running ejabberd hooks [\#1330](https://github.com/hippware/wocky/issues/1330)

**Security fixes:**

- Extend auth cookie expiry to 60 days [\#1680](https://github.com/hippware/wocky/issues/1680)
- Consolidate AWS user credentials in Wocky [\#1631](https://github.com/hippware/wocky/issues/1631)
- Encrypt data at rest for staging and us1 [\#1568](https://github.com/hippware/wocky/issues/1568)
- Blocking rework [\#1501](https://github.com/hippware/wocky/issues/1501)
- GraphQL proposal: return User or CurrentUser [\#1482](https://github.com/hippware/wocky/issues/1482)
- Review and refactor GraphQL middleware/security implementation [\#1405](https://github.com/hippware/wocky/issues/1405)
- Bake permissions and blocking into standard wocky interface [\#1391](https://github.com/hippware/wocky/issues/1391)
- Handle deletion of blocked items with DB callbacks [\#1307](https://github.com/hippware/wocky/issues/1307)

**Closed issues:**

- Discussion: Dynamic Links flow [\#1891](https://github.com/hippware/wocky/issues/1891)
- \[Wocky/staging\] ErlangError: Erlang error: :error [\#1887](https://github.com/hippware/wocky/issues/1887)
- Test our code against Absinthe 1.5 alpha [\#1886](https://github.com/hippware/wocky/issues/1886)
- Use a PGSQL container with HEALTHCHECK for tests [\#1884](https://github.com/hippware/wocky/issues/1884)
- \[Wocky/us1\] RuntimeError: The device token is inactive for the specified topic. [\#1874](https://github.com/hippware/wocky/issues/1874)
- integrate GraphQL notification queries + subscriptions [\#1871](https://github.com/hippware/wocky/issues/1871)
- Migrate testing to Aurora [\#1855](https://github.com/hippware/wocky/issues/1855)
- Update Terraform Wocky module to allow for Aurora databases [\#1854](https://github.com/hippware/wocky/issues/1854)
- New server side push notifications [\#1847](https://github.com/hippware/wocky/issues/1847)
- Update push notification certificates [\#1843](https://github.com/hippware/wocky/issues/1843)
- \[Wocky/testing\] FunctionClauseError: no function clause matches [\#1833](https://github.com/hippware/wocky/issues/1833)
- Attempting to load bot items \(posts\) on an invited + accepted bot causes 403 auth error [\#1830](https://github.com/hippware/wocky/issues/1830)
- Add deletion of notification to notification subscription [\#1828](https://github.com/hippware/wocky/issues/1828)
- Add GraphQL `deleteUser` mutation [\#1824](https://github.com/hippware/wocky/issues/1824)
- \[Wocky/us1\] Bamboo.ApiError: There was a problem sending the email through the Mandrill API.

Here is the response:

"{\"status\":\"error\",\"code\":-1,\"name\":\"Invalid\_Key\",\"message\":\"Invalid API key\"}"

Here are the params we sent:

%{"key" =\> "\[FILTERED\]", "message" =\> %{"attachments" =\> \[\], "from\_email" =\> "support@tinyrobot.com", "from\_name" =\> "tinyrobot support", "global\_merge\_vars" =\> \[%{"content" =\> "xkozn", "name" =\> "user\_handle"}\], "headers" =\> %{}, "html" =\> nil, "subject" =\> "Welcome... [\#1811](https://github.com/hippware/wocky/issues/1811)
- change `botInvite` mutation to accept an  array of user ids [\#1808](https://github.com/hippware/wocky/issues/1808)
- Remove Collections code [\#1804](https://github.com/hippware/wocky/issues/1804)
- Configure Production to use the same accuracy threshold as Staging [\#1799](https://github.com/hippware/wocky/issues/1799)
- \[Wocky/us1\] ErlangError: Erlang error: :noproc [\#1787](https://github.com/hippware/wocky/issues/1787)
- Multiple push tokens for a single device [\#1714](https://github.com/hippware/wocky/issues/1714)
- \[New feature\] Notifications list [\#1711](https://github.com/hippware/wocky/issues/1711)
- \[Wocky/testing\] Postgrex.Error: ERROR 23502 \(not\_null\_violation\): null value in column "description" violates not-null constraint

    table: bots
    column: description

Failing row contains \(2680ea04-8b27-11e8-aaf3-0a580a02001b, f, Test bot, null, 22cb31f8-8b27-11e8-b076-0a580a02046b, null, , , 100, f, {}, 2018-07-19 07:41:30.09769+00, 2018-07-19 07:41:30.313587+00, null, 0101000020E6100000CDCCCCCCCCCC00409A9999999999F13F, {"city":"Koper","country":"Slovenia"}, f, Â©ï¸Â©\). [\#1691](https://github.com/hippware/wocky/issues/1691)
- \[Wocky/testing\] Protocol.UndefinedError: protocol String.Chars not implemented for {:system, :string, "WOCKY\_ENV"}. This protocol is implemented for: Atom, BitString, Date, DateTime, Decimal, Ecto.Date, Ecto.DateTime, Ecto.Time, Float, Geo.GeometryCollection, Geo.LineString, Geo.MultiLineString, Geo.MultiPoint, Geo.MultiPolygon, Geo.Point, Geo.PointM, Geo.PointZ, Geo.PointZM, Geo.Polygon, Integer, List, NaiveDateTime, Postgrex.Copy, Postgrex.Query, Postgrex.Stream, Time, URI, Version, Version.Requirement [\#1687](https://github.com/hippware/wocky/issues/1687)
- GraphQL message archive [\#1673](https://github.com/hippware/wocky/issues/1673)
- Move metrics to wocky or separate application [\#1659](https://github.com/hippware/wocky/issues/1659)
- hideUser mutation doesn't change profile hidden value [\#1654](https://github.com/hippware/wocky/issues/1654)
- Implement 'discover mode' list of bots [\#1651](https://github.com/hippware/wocky/issues/1651)
- Capture all fields from location updates [\#1634](https://github.com/hippware/wocky/issues/1634)
- Remove bot subscribers hash [\#1628](https://github.com/hippware/wocky/issues/1628)
- Upgrade to Erlang 21/Elixir 1.6.6 [\#1619](https://github.com/hippware/wocky/issues/1619)
- Add createdAt to Bot fields returned via GraphQL [\#1617](https://github.com/hippware/wocky/issues/1617)
- \[Wocky/testing\] Absinthe.ExecutionError: Invalid value returned from resolver.

Resolving field:

    server

Defined at:

    /opt/app/apps/wocky\_api/lib/wocky\_api/schema/bot\_types.ex:54

Resolving on:

    %Wocky.Bot{\_\_meta\_\_: \#Ecto.Schema.Metadata\<:loaded, "bots"\>, address: "", address\_data: "{\"city\":\"Koper\",\"country\":\"Slovenia\",\"state\":\"\",\"county\":\"\"}", created\_at: \#DateTime\<2018-06-19 22:12:47.408222Z\>, description: "New description", geofence: false, guests\_count: 0, guests\_hash: "d... [\#1613](https://github.com/hippware/wocky/issues/1613)
- Add `localBots` query [\#1609](https://github.com/hippware/wocky/issues/1609)
- Disable weekly bot reports [\#1599](https://github.com/hippware/wocky/issues/1599)
- New user field: 'geo-invisible' [\#1596](https://github.com/hippware/wocky/issues/1596)
- New icon field for bots [\#1590](https://github.com/hippware/wocky/issues/1590)
- \[Wocky/testing\] Ecto.Query.CastError: apps/wocky/lib/wocky/tros/metadata.ex:119: value `"tros:85d05f82-640b-11e8-855c-0a580a0201ac@testing.dev.tinyrobot.com/file/87351214-640b-11e8-a9c8-0a580a0201ac"` cannot be dumped to type :binary\_id in query:

from m in Wocky.TROS.Metadata,
  where: m.id == ^"tros:85d05f82-640b-11e8-855c-0a580a0201ac@testing.dev.tinyrobot.com/file/87351214-640b-11e8-a9c8-0a580a0201ac",
  select: m [\#1581](https://github.com/hippware/wocky/issues/1581)
- Move `thathasUsedGeofence` to currentUser level [\#1577](https://github.com/hippware/wocky/issues/1577)
- Add user location to bot creation, update and subscription with debounce skipping [\#1576](https://github.com/hippware/wocky/issues/1576)
- Clean up/remove `server` field from data [\#1573](https://github.com/hippware/wocky/issues/1573)
- Add GraphQL operation to allow user to delete uploaded image [\#1570](https://github.com/hippware/wocky/issues/1570)
- Newly created private geofence bot is not part of activeBots query \(production\) [\#1553](https://github.com/hippware/wocky/issues/1553)
- Return empty S3 URLs until images are marked as ready. [\#1538](https://github.com/hippware/wocky/issues/1538)
- Fix intermittent CT failure [\#1534](https://github.com/hippware/wocky/issues/1534)
- \[Wocky/staging\] RuntimeError: IQ handler crash: jabber:iq:roster [\#1527](https://github.com/hippware/wocky/issues/1527)
- Create new bot relationship to get all subscribed but not owned bots [\#1522](https://github.com/hippware/wocky/issues/1522)
- \[Wocky/testing\] ArgumentError: argument error [\#1515](https://github.com/hippware/wocky/issues/1515)
- "Internal server error" on bot subscribers [\#1512](https://github.com/hippware/wocky/issues/1512)
- User update mutation should return a useful error message [\#1498](https://github.com/hippware/wocky/issues/1498)
- Validate access rule in TROS metadata [\#1492](https://github.com/hippware/wocky/issues/1492)
- Hook up wocky metrics to Tectonic's Prometheus [\#1487](https://github.com/hippware/wocky/issues/1487)
- \[Wocky/testing\] RuntimeError: DB Watcher callback crash [\#1486](https://github.com/hippware/wocky/issues/1486)
- Consolidate N+1 db queries in GraphQL [\#1481](https://github.com/hippware/wocky/issues/1481)
- Expose user location events in the GraphQL API [\#1480](https://github.com/hippware/wocky/issues/1480)
- Add active bots connection to current user [\#1474](https://github.com/hippware/wocky/issues/1474)
- \[Wocky/testing\] MatchError: no match of right hand side value: {:error, {:http\_error, 400, %{code: "InvalidParameterValue", detail: "", message: "Value 1800 for parameter DelaySeconds is invalid. Reason: DelaySeconds must be \>= 0 and \<= 900.", request\_id: "b84a4de0-3cc3-5e0d-9dc5-1ebcedce758d", type: "Sender"}}} [\#1471](https://github.com/hippware/wocky/issues/1471)
- Extend geofence timeout to 30mins and disable PN on timeout [\#1466](https://github.com/hippware/wocky/issues/1466)
- \[Wocky/staging\] RuntimeError: DB Watcher callback crash [\#1464](https://github.com/hippware/wocky/issues/1464)
- Sometimes subscriptions are not fired [\#1459](https://github.com/hippware/wocky/issues/1459)
- `You must supply a count \(total number of records\)` error on GraphQL queries [\#1456](https://github.com/hippware/wocky/issues/1456)
- Add Apollo tracing metadata to GraphQL [\#1447](https://github.com/hippware/wocky/issues/1447)
- Log GraphQL calls in traffic\_log table [\#1445](https://github.com/hippware/wocky/issues/1445)
- \[Wocky/staging\] FunctionClauseError: no function clause matches [\#1440](https://github.com/hippware/wocky/issues/1440)
- \[Wocky/staging\] RuntimeError: DB Watcher callback crash [\#1431](https://github.com/hippware/wocky/issues/1431)
- Exit all geofences upon 5 minute timeout [\#1430](https://github.com/hippware/wocky/issues/1430)
- Retrieval of location data points [\#1429](https://github.com/hippware/wocky/issues/1429)
- Implement query cost restrictions [\#1427](https://github.com/hippware/wocky/issues/1427)
- Make bot items publicly viewable [\#1420](https://github.com/hippware/wocky/issues/1420)
- Make GraphQL schema introspection available to unauthenticated connections [\#1419](https://github.com/hippware/wocky/issues/1419)
- Add Image/Avatar direct download URLs to GraphQL [\#1417](https://github.com/hippware/wocky/issues/1417)
- Collections: Sharing and notifications [\#1414](https://github.com/hippware/wocky/issues/1414)
- Collections: Baseline [\#1413](https://github.com/hippware/wocky/issues/1413)
- Rename GraphQL user search query to just `users` [\#1408](https://github.com/hippware/wocky/issues/1408)
- Rework GraphQL mutations to use standard macros and naming [\#1407](https://github.com/hippware/wocky/issues/1407)
- Update GraphQL to JWT authentication system [\#1406](https://github.com/hippware/wocky/issues/1406)
- Add GraphQL schema documentation [\#1404](https://github.com/hippware/wocky/issues/1404)
- Finish adding GraphQL tests for existing functionality. [\#1403](https://github.com/hippware/wocky/issues/1403)
- \[Wocky/testing\] ArithmeticError: bad argument in arithmetic expression [\#1386](https://github.com/hippware/wocky/issues/1386)
- \[Wocky/testing\] CaseClauseError: no case clause matching: nil [\#1385](https://github.com/hippware/wocky/issues/1385)
- \[Wocky/testing\] FunctionClauseError: no function clause matching in WockyAPI.UtilResolver.add\_edge\_parent/2 [\#1384](https://github.com/hippware/wocky/issues/1384)
- Configure geofence debouncing to 0 for Testing [\#1383](https://github.com/hippware/wocky/issues/1383)
- \[Wocky/testing\] RuntimeError: DB Watcher callback crash [\#1380](https://github.com/hippware/wocky/issues/1380)
- \[Wocky/testing\] RuntimeError: DB Watcher callback crash [\#1378](https://github.com/hippware/wocky/issues/1378)
- Geofence related push notifications should not prefix bot with '@' [\#1373](https://github.com/hippware/wocky/issues/1373)
- Geofence bot share should impart view access  [\#1368](https://github.com/hippware/wocky/issues/1368)
- Notify HS if a referenced bot's geofence field changes [\#1367](https://github.com/hippware/wocky/issues/1367)
- Rework deeplink in geofence entry/exit push notifications [\#1363](https://github.com/hippware/wocky/issues/1363)
- Expose public bot data via unauthenticated graphql [\#1356](https://github.com/hippware/wocky/issues/1356)
- \[Wocky/us1\] RuntimeError: The SSL connection timed out. [\#1337](https://github.com/hippware/wocky/issues/1337)
- Implement full bots functionality in GraphQL [\#1335](https://github.com/hippware/wocky/issues/1335)
- Add runtime debugging tools to Wocky [\#1322](https://github.com/hippware/wocky/issues/1322)
- Decommission the old web server [\#1293](https://github.com/hippware/wocky/issues/1293)
- Clean invalid tros ids [\#1251](https://github.com/hippware/wocky/issues/1251)
- Application metrics instrumentation [\#1000](https://github.com/hippware/wocky/issues/1000)
- Restore the ability to run commands in the pods [\#998](https://github.com/hippware/wocky/issues/998)

**Merged pull requests:**

- Invite codes [\#1900](https://github.com/hippware/wocky/pull/1900) ([toland](https://github.com/toland))
- Bump prometheus\_ecto from 1.0.3 to 1.3.0 [\#1897](https://github.com/hippware/wocky/pull/1897) ([dependabot-preview[bot]](https://github.com/apps/dependabot-preview))
- Bump bypass from 0.8.1 to 0.9.0 [\#1896](https://github.com/hippware/wocky/pull/1896) ([dependabot-preview[bot]](https://github.com/apps/dependabot-preview))
- Bump hackney from 1.14.2 to 1.14.3 [\#1895](https://github.com/hippware/wocky/pull/1895) ([dependabot-preview[bot]](https://github.com/apps/dependabot-preview))
- Bump hackney from 1.14.0 to 1.14.2 [\#1894](https://github.com/hippware/wocky/pull/1894) ([dependabot-preview[bot]](https://github.com/apps/dependabot-preview))
- Reduce logging [\#1893](https://github.com/hippware/wocky/pull/1893) ([toland](https://github.com/toland))
- Use a version of PostgreSQL with Healthcheck for tests [\#1892](https://github.com/hippware/wocky/pull/1892) ([toland](https://github.com/toland))
- Bump faker from 0.10.0 to 0.11.0 [\#1890](https://github.com/hippware/wocky/pull/1890) ([dependabot-preview[bot]](https://github.com/apps/dependabot-preview))

## [2018.9.25+r50db3a0](https://github.com/hippware/wocky/tree/2018.9.25+r50db3a0) (2018-09-25)

[Full Changelog](https://github.com/hippware/wocky/compare/2018.9.13+r90cb411...2018.9.25+r50db3a0)

**Fixed bugs:**

- Missing or lost location data points in database [\#1774](https://github.com/hippware/wocky/issues/1774)

**Closed issues:**

- \[Wocky/testing\] ErlangError: Erlang error: :error [\#1863](https://github.com/hippware/wocky/issues/1863)
- \[Wocky/testing\] DBConnection.ConnectionError: tcp recv: closed [\#1860](https://github.com/hippware/wocky/issues/1860)
- \[Wocky/testing\] ErlangError: Erlang error: {:EXIT, \#PID\<0.4314.0\>, {:shutdown, {:error, :fatal, "57P01", :admin\_shutdown, "terminating connection due to administrator command", \[file: "postgres.c", line: "2873", routine: "ProcessInterrupts", severity: "FATAL"\]}}} [\#1859](https://github.com/hippware/wocky/issues/1859)
- Update server side push certificates [\#1845](https://github.com/hippware/wocky/issues/1845)
- Algolia index has incorrect user avatar value [\#1839](https://github.com/hippware/wocky/issues/1839)
- \[Wocky/staging\] RuntimeError: The device token is inactive for the specified topic. [\#1834](https://github.com/hippware/wocky/issues/1834)
- The AWS/EKS issue [\#1817](https://github.com/hippware/wocky/issues/1817)
- Your Loggly account has exceeded its Daily Volume Limit [\#1809](https://github.com/hippware/wocky/issues/1809)
- Migrate from Tectonic to EKS [\#1710](https://github.com/hippware/wocky/issues/1710)
- Decommission Tectonic cluster assets [\#1709](https://github.com/hippware/wocky/issues/1709)
- Deploy Wocky to new EKS cluster [\#1705](https://github.com/hippware/wocky/issues/1705)

**Merged pull requests:**

- Bump excoveralls from 0.10.0 to 0.10.1 [\#1883](https://github.com/hippware/wocky/pull/1883) ([dependabot-preview[bot]](https://github.com/apps/dependabot-preview))
- Bump credo from 0.10.1 to 0.10.2 [\#1882](https://github.com/hippware/wocky/pull/1882) ([dependabot-preview[bot]](https://github.com/apps/dependabot-preview))
- Add beforeID to match afterID on notification query [\#1877](https://github.com/hippware/wocky/pull/1877) ([bernardd](https://github.com/bernardd))
- Bump lager from 3.6.5 to 3.6.6 [\#1875](https://github.com/hippware/wocky/pull/1875) ([dependabot-preview[bot]](https://github.com/apps/dependabot-preview))
- Bump absinthe\_relay from 1.4.3 to 1.4.4 [\#1873](https://github.com/hippware/wocky/pull/1873) ([dependabot-preview[bot]](https://github.com/apps/dependabot-preview))
- Add afterId arg to notification query [\#1872](https://github.com/hippware/wocky/pull/1872) ([bernardd](https://github.com/bernardd))
- Bump timex from 3.3.0 to 3.4.1 [\#1869](https://github.com/hippware/wocky/pull/1869) ([dependabot-preview[bot]](https://github.com/apps/dependabot-preview))
- Bump honeybadger from 0.10.2 to 0.10.3 [\#1868](https://github.com/hippware/wocky/pull/1868) ([dependabot-preview[bot]](https://github.com/apps/dependabot-preview))
- Bump distillery from 2.0.9 to 2.0.10 [\#1867](https://github.com/hippware/wocky/pull/1867) ([dependabot-preview[bot]](https://github.com/apps/dependabot-preview))
- Bump redix from 0.8.0 to 0.8.1 [\#1866](https://github.com/hippware/wocky/pull/1866) ([dependabot-preview[bot]](https://github.com/apps/dependabot-preview))
- Fix up all the dialyzer warnings [\#1865](https://github.com/hippware/wocky/pull/1865) ([bernardd](https://github.com/bernardd))
- Schedule staging deploy [\#1864](https://github.com/hippware/wocky/pull/1864) ([toland](https://github.com/toland))
- Update push notifications [\#1853](https://github.com/hippware/wocky/pull/1853) ([bernardd](https://github.com/bernardd))
- Bump redix from 0.7.1 to 0.8.0 [\#1851](https://github.com/hippware/wocky/pull/1851) ([dependabot-preview[bot]](https://github.com/apps/dependabot-preview))
- Bump pigeon from 1.2.2 to 1.2.3 [\#1849](https://github.com/hippware/wocky/pull/1849) ([dependabot-preview[bot]](https://github.com/apps/dependabot-preview))
- Formatting pass [\#1848](https://github.com/hippware/wocky/pull/1848) ([bernardd](https://github.com/bernardd))
- Bump credo from 0.10.0 to 0.10.1 [\#1846](https://github.com/hippware/wocky/pull/1846) ([dependabot-preview[bot]](https://github.com/apps/dependabot-preview))
- Update push notification certs [\#1844](https://github.com/hippware/wocky/pull/1844) ([toland](https://github.com/toland))
- Fix crash with further requests after user deletion [\#1842](https://github.com/hippware/wocky/pull/1842) ([bernardd](https://github.com/bernardd))

## [2018.9.13+r90cb411](https://github.com/hippware/wocky/tree/2018.9.13+r90cb411) (2018-09-13)

[Full Changelog](https://github.com/hippware/wocky/compare/2018.9.12+r0531a1e...2018.9.13+r90cb411)

**Merged pull requests:**

- Make bots visible whenever a user is subscribed to them [\#1841](https://github.com/hippware/wocky/pull/1841) ([bernardd](https://github.com/bernardd))

## [2018.9.12+r0531a1e](https://github.com/hippware/wocky/tree/2018.9.12+r0531a1e) (2018-09-12)

[Full Changelog](https://github.com/hippware/wocky/compare/2018.9.5+r832450f...2018.9.12+r0531a1e)

**Closed issues:**

- Missing Slack deployment notifications [\#1836](https://github.com/hippware/wocky/issues/1836)
- Scope and discuss mechanisms to notify of bot changes and deletes [\#1820](https://github.com/hippware/wocky/issues/1820)
- \[Wocky/us1\] ErlangError: Erlang error: :sock\_closed [\#1810](https://github.com/hippware/wocky/issues/1810)
- Blocking: Messages [\#970](https://github.com/hippware/wocky/issues/970)

**Merged pull requests:**

- Bump hackney from 1.13.0 to 1.14.0 [\#1840](https://github.com/hippware/wocky/pull/1840) ([dependabot-preview[bot]](https://github.com/apps/dependabot-preview))
- Nudge test timing around a bit to allow DB callbacks more time to complete [\#1838](https://github.com/hippware/wocky/pull/1838) ([bernardd](https://github.com/bernardd))
- Get rid of that annoying Elixometer warning [\#1837](https://github.com/hippware/wocky/pull/1837) ([toland](https://github.com/toland))
- Bump phoenix\_ecto from 3.3.0 to 3.4.0 [\#1835](https://github.com/hippware/wocky/pull/1835) ([dependabot-preview[bot]](https://github.com/apps/dependabot-preview))
- Fix access to subscribed bot from XMPP [\#1831](https://github.com/hippware/wocky/pull/1831) ([bernardd](https://github.com/bernardd))
- Add subscription pushes for notification deletions [\#1829](https://github.com/hippware/wocky/pull/1829) ([bernardd](https://github.com/bernardd))
- Add userDelete mutation [\#1827](https://github.com/hippware/wocky/pull/1827) ([bernardd](https://github.com/bernardd))
- Add message archive interface to GraphQL [\#1825](https://github.com/hippware/wocky/pull/1825) ([bernardd](https://github.com/bernardd))

## [2018.9.5+r832450f](https://github.com/hippware/wocky/tree/2018.9.5+r832450f) (2018-09-05)

[Full Changelog](https://github.com/hippware/wocky/compare/2018.8.30+r5c75ca6...2018.9.5+r832450f)

**Closed issues:**

- Remove version from start of deployment notification [\#1822](https://github.com/hippware/wocky/issues/1822)
- Create persistent store for prometheus data [\#1780](https://github.com/hippware/wocky/issues/1780)
- Add logging to new cluster [\#1706](https://github.com/hippware/wocky/issues/1706)
- Research: Migrate fully away from xmpp [\#1675](https://github.com/hippware/wocky/issues/1675)
- \[Wocky/staging\] Bamboo.ApiError: There was a problem sending the email through the Mandrill API. [\#1616](https://github.com/hippware/wocky/issues/1616)
- Discussion: new architecture for better image upload? [\#1571](https://github.com/hippware/wocky/issues/1571)
- Push Notification Requests  [\#1533](https://github.com/hippware/wocky/issues/1533)

**Merged pull requests:**

- Deployment improvements [\#1823](https://github.com/hippware/wocky/pull/1823) ([toland](https://github.com/toland))
- Bump exml from 3.0.1 to 3.0.2 [\#1821](https://github.com/hippware/wocky/pull/1821) ([dependabot-preview[bot]](https://github.com/apps/dependabot-preview))
- Add config option to disable welcome emails [\#1819](https://github.com/hippware/wocky/pull/1819) ([bernardd](https://github.com/bernardd))
- Bump lager from 3.6.4 to 3.6.5 [\#1818](https://github.com/hippware/wocky/pull/1818) ([dependabot-preview[bot]](https://github.com/apps/dependabot-preview))
- Bump prometheus\_ex from 3.0.2 to 3.0.3 [\#1816](https://github.com/hippware/wocky/pull/1816) ([dependabot-preview[bot]](https://github.com/apps/dependabot-preview))
- Add migration to recreate hs functions [\#1815](https://github.com/hippware/wocky/pull/1815) ([bernardd](https://github.com/bernardd))
- Add retry system to push notifications [\#1814](https://github.com/hippware/wocky/pull/1814) ([bernardd](https://github.com/bernardd))
- Formatting [\#1813](https://github.com/hippware/wocky/pull/1813) ([bernardd](https://github.com/bernardd))
- Modify invite mutation to allow multiple users [\#1812](https://github.com/hippware/wocky/pull/1812) ([bernardd](https://github.com/bernardd))
- Remove collections code [\#1807](https://github.com/hippware/wocky/pull/1807) ([toland](https://github.com/toland))

## [2018.8.30+r5c75ca6](https://github.com/hippware/wocky/tree/2018.8.30+r5c75ca6) (2018-08-30)

[Full Changelog](https://github.com/hippware/wocky/compare/2018.8.30+r5280dc0...2018.8.30+r5c75ca6)

**Closed issues:**

- Validate Wocky builds by running the client tests during CI/CD [\#1778](https://github.com/hippware/wocky/issues/1778)
- Automatically deploy wocky to testing when tests pass [\#1764](https://github.com/hippware/wocky/issues/1764)

**Merged pull requests:**

- Set the accuracy threshold to 90m across the board [\#1806](https://github.com/hippware/wocky/pull/1806) ([toland](https://github.com/toland))

## [2018.8.30+r5280dc0](https://github.com/hippware/wocky/tree/2018.8.30+r5280dc0) (2018-08-30)

[Full Changelog](https://github.com/hippware/wocky/compare/2018.8.24+r43aa7c9...2018.8.30+r5280dc0)

**Fixed bugs:**

- Geofence algorithm: Dog Park vs PDC [\#1775](https://github.com/hippware/wocky/issues/1775)

**Closed issues:**

- \[Wocky/staging\] RuntimeError: IQ handler crash: hippware.com/hxep/publishing [\#1785](https://github.com/hippware/wocky/issues/1785)
- \[Wocky/us1\] ArgumentError: The salt  must be 29 bytes long [\#1765](https://github.com/hippware/wocky/issues/1765)
- Add metrics and monitoring to new cluster [\#1763](https://github.com/hippware/wocky/issues/1763)
- Collections: Reordering mutation [\#1439](https://github.com/hippware/wocky/issues/1439)
- Metrics dashboard [\#1002](https://github.com/hippware/wocky/issues/1002)

**Merged pull requests:**

- Bump idna from 5.1.2 to 6.0.0 [\#1805](https://github.com/hippware/wocky/pull/1805) ([dependabot-preview[bot]](https://github.com/apps/dependabot-preview))
- Deploy to testing on successful build [\#1803](https://github.com/hippware/wocky/pull/1803) ([toland](https://github.com/toland))
- Bump bcrypt\_elixir from 1.1.0 to 1.1.1 [\#1802](https://github.com/hippware/wocky/pull/1802) ([dependabot-preview[bot]](https://github.com/apps/dependabot-preview))
- Bump distillery from 2.0.8 to 2.0.9 [\#1801](https://github.com/hippware/wocky/pull/1801) ([dependabot-preview[bot]](https://github.com/apps/dependabot-preview))
- Bump geo\_postgis from 2.0.0 to 2.1.0 [\#1800](https://github.com/hippware/wocky/pull/1800) ([dependabot-preview[bot]](https://github.com/apps/dependabot-preview))
- Change GraphQL metrics buckets to better reflect actual values [\#1798](https://github.com/hippware/wocky/pull/1798) ([bernardd](https://github.com/bernardd))
- Subscribe user upon invitation acceptance [\#1797](https://github.com/hippware/wocky/pull/1797) ([bernardd](https://github.com/bernardd))
- Ensure captured\_at exists when storing location data [\#1796](https://github.com/hippware/wocky/pull/1796) ([toland](https://github.com/toland))
- Bump excoveralls from 0.9.2 to 0.10.0 [\#1794](https://github.com/hippware/wocky/pull/1794) ([dependabot-preview[bot]](https://github.com/apps/dependabot-preview))
- Bump bcrypt\_elixir from 1.0.9 to 1.1.0 [\#1793](https://github.com/hippware/wocky/pull/1793) ([dependabot-preview[bot]](https://github.com/apps/dependabot-preview))
- Bump distillery from 2.0.5 to 2.0.8 [\#1792](https://github.com/hippware/wocky/pull/1792) ([dependabot-preview[bot]](https://github.com/apps/dependabot-preview))
- Bump distillery from 2.0.4 to 2.0.5 [\#1791](https://github.com/hippware/wocky/pull/1791) ([dependabot-preview[bot]](https://github.com/apps/dependabot-preview))

## [2018.8.24+r43aa7c9](https://github.com/hippware/wocky/tree/2018.8.24+r43aa7c9) (2018-08-24)

[Full Changelog](https://github.com/hippware/wocky/compare/2018.8.23+r04159a0...2018.8.24+r43aa7c9)

**Merged pull requests:**

- Move prometheus role management to infrastructure [\#1789](https://github.com/hippware/wocky/pull/1789) ([toland](https://github.com/toland))
- Notification tweaks [\#1788](https://github.com/hippware/wocky/pull/1788) ([bernardd](https://github.com/bernardd))

## [2018.8.23+r04159a0](https://github.com/hippware/wocky/tree/2018.8.23+r04159a0) (2018-08-23)

[Full Changelog](https://github.com/hippware/wocky/compare/2018.8.20+r5001d7d...2018.8.23+r04159a0)

**Closed issues:**

- \[Wocky/staging\] Postgrex.Error: ERROR 0A000 \(feature\_not\_supported\): cached plan must not change result type [\#1784](https://github.com/hippware/wocky/issues/1784)
- \[Wocky/testing\] RuntimeError: IQ handler crash: hippware.com/hxep/bot [\#1770](https://github.com/hippware/wocky/issues/1770)
- \[Wocky/us1\] CaseClauseError: no case clause matching: {:error, {:http\_error, 400, %{code: "AWS.SimpleQueueService.NonExistentQueue", detail: "", message: "The specified queue does not exist for this wsdl version.", request\_id: "8b5ae47a-50c8-5303-af93-b78eadbe1962", type: "Sender"}}} [\#1769](https://github.com/hippware/wocky/issues/1769)
- Geofence exit event was triggered but no push notification was sent [\#1716](https://github.com/hippware/wocky/issues/1716)

**Merged pull requests:**

- Bump the accuracy threshold on staging to 90 [\#1786](https://github.com/hippware/wocky/pull/1786) ([toland](https://github.com/toland))
- Bump geoloc accuracy threshold on staging [\#1783](https://github.com/hippware/wocky/pull/1783) ([toland](https://github.com/toland))
- Revert automatic deployment of Wocky [\#1782](https://github.com/hippware/wocky/pull/1782) ([toland](https://github.com/toland))
- Bump guardian from 1.1.0 to 1.1.1 [\#1781](https://github.com/hippware/wocky/pull/1781) ([dependabot-preview[bot]](https://github.com/apps/dependabot-preview))
- Split deploy task for running from CI [\#1779](https://github.com/hippware/wocky/pull/1779) ([toland](https://github.com/toland))
- Use the makefile to deploy instead of the script [\#1777](https://github.com/hippware/wocky/pull/1777) ([toland](https://github.com/toland))
- Update logging location for service LBs [\#1776](https://github.com/hippware/wocky/pull/1776) ([toland](https://github.com/toland))
- Add names for ports; remove non-required service [\#1773](https://github.com/hippware/wocky/pull/1773) ([bernardd](https://github.com/bernardd))
- Deploy Wocky to testing when tests on master pass [\#1772](https://github.com/hippware/wocky/pull/1772) ([toland](https://github.com/toland))
- Bump distillery from 2.0.3 to 2.0.4 [\#1771](https://github.com/hippware/wocky/pull/1771) ([dependabot-preview[bot]](https://github.com/apps/dependabot-preview))

## [2018.8.20+r5001d7d](https://github.com/hippware/wocky/tree/2018.8.20+r5001d7d) (2018-08-20)

[Full Changelog](https://github.com/hippware/wocky/compare/2018.8.14+r3c0b954...2018.8.20+r5001d7d)

**Security fixes:**

- User access cleanup [\#1564](https://github.com/hippware/wocky/issues/1564)

**Closed issues:**

- \[Wocky/testing\] ArgumentError: argument error [\#1748](https://github.com/hippware/wocky/issues/1748)
- \[Wocky/testing\] FunctionClauseError: no function clause matches [\#1746](https://github.com/hippware/wocky/issues/1746)
- \[Wocky/us1\] FunctionClauseError: no function clause matching in Honeybadger.Backtrace.from\_stacktrace/1 [\#1745](https://github.com/hippware/wocky/issues/1745)
- \[Wocky/staging\] FunctionClauseError: no function clause matches [\#1744](https://github.com/hippware/wocky/issues/1744)
- \[Wocky/staging\] ArgumentError: argument error [\#1722](https://github.com/hippware/wocky/issues/1722)
- \[Wocky/staging\] ErlangError: Erlang error: :noproc [\#1718](https://github.com/hippware/wocky/issues/1718)
- Deploy website to new cluster [\#1708](https://github.com/hippware/wocky/issues/1708)
- Deploy HTML-bots to new cluster [\#1707](https://github.com/hippware/wocky/issues/1707)

**Merged pull requests:**

- Bump distillery from 2.0.2 to 2.0.3 [\#1768](https://github.com/hippware/wocky/pull/1768) ([dependabot-preview[bot]](https://github.com/apps/dependabot-preview))
- Bump ranch from 1.6.0 to 1.6.1 [\#1767](https://github.com/hippware/wocky/pull/1767) ([dependabot-preview[bot]](https://github.com/apps/dependabot-preview))
- Add role bindings [\#1766](https://github.com/hippware/wocky/pull/1766) ([bernardd](https://github.com/bernardd))
- Bump distillery from 2.0.0 to 2.0.2 [\#1762](https://github.com/hippware/wocky/pull/1762) ([dependabot-preview[bot]](https://github.com/apps/dependabot-preview))
- Bump bamboo from 1.0.0 to 1.1.0 [\#1761](https://github.com/hippware/wocky/pull/1761) ([dependabot-preview[bot]](https://github.com/apps/dependabot-preview))
- Re-enable cross zone load balancing [\#1760](https://github.com/hippware/wocky/pull/1760) ([bernardd](https://github.com/bernardd))
- Sprinkle magic kube pixie dust on external services [\#1759](https://github.com/hippware/wocky/pull/1759) ([toland](https://github.com/toland))
- Bump distillery from 2.0.0-rc.12 to 2.0.0 [\#1758](https://github.com/hippware/wocky/pull/1758) ([dependabot-preview[bot]](https://github.com/apps/dependabot-preview))
- Add invitations and notification support [\#1757](https://github.com/hippware/wocky/pull/1757) ([bernardd](https://github.com/bernardd))
- Reinstate new bot item IDs [\#1756](https://github.com/hippware/wocky/pull/1756) ([bernardd](https://github.com/bernardd))
- EKS deployment changes [\#1738](https://github.com/hippware/wocky/pull/1738) ([toland](https://github.com/toland))

## [2018.8.14+r3c0b954](https://github.com/hippware/wocky/tree/2018.8.14+r3c0b954) (2018-08-14)

[Full Changelog](https://github.com/hippware/wocky/compare/2018.8.3+r7321aad...2018.8.14+r3c0b954)

**Closed issues:**

- \[Wocky/staging\] CaseClauseError: no case clause matching: {:error, {:http\_error, 403, %{code: "AccessDenied", detail: "", message: "Access to the resource https://sqs.us-west-2.amazonaws.com/wocky-staging-db-watcher.fifo is denied.", request\_id: "0f8fac2c-d77f-5d1b-9510-ffce6c056945", type: "Sender"}}} [\#1730](https://github.com/hippware/wocky/issues/1730)
- \[Wocky/staging\] ErlangError: Erlang error: {:timeout, {:gen\_server, :call, \[\#PID\<0.3675.0\>, {:checkout, \#Reference\<0.604922162.3615752193.1455\>, true, 15000}, 5000\]}} [\#1724](https://github.com/hippware/wocky/issues/1724)
- Location data points with large accuracy values need to be ignored [\#1715](https://github.com/hippware/wocky/issues/1715)
- \[Wocky/staging\] ErlangError: Erlang error: {:EXIT, \#PID\<0.4138.0\>, :sock\_closed} [\#1699](https://github.com/hippware/wocky/issues/1699)
- \[Wocky/staging\] DBConnection.ConnectionError: tcp recv: closed [\#1678](https://github.com/hippware/wocky/issues/1678)
- Upgrade cluster nodes [\#1161](https://github.com/hippware/wocky/issues/1161)

**Merged pull requests:**

- Fix the bot event timestamp migration [\#1754](https://github.com/hippware/wocky/pull/1754) ([toland](https://github.com/toland))
- Revert bot item [\#1753](https://github.com/hippware/wocky/pull/1753) ([bernardd](https://github.com/bernardd))
- Fix the add\_bot\_item\_id migration [\#1752](https://github.com/hippware/wocky/pull/1752) ([toland](https://github.com/toland))
- Fix the predeploy commands [\#1751](https://github.com/hippware/wocky/pull/1751) ([toland](https://github.com/toland))
- Bump guardian\_firebase from 0.1.0 to 0.2.1 [\#1750](https://github.com/hippware/wocky/pull/1750) ([dependabot-preview[bot]](https://github.com/apps/dependabot-preview))
- Bump distillery from 2.0.0-rc.11 to 2.0.0-rc.12 [\#1749](https://github.com/hippware/wocky/pull/1749) ([dependabot-preview[bot]](https://github.com/apps/dependabot-preview))
- Formatting pass [\#1747](https://github.com/hippware/wocky/pull/1747) ([bernardd](https://github.com/bernardd))
- Bump phoenix\_pubsub from 1.0.2 to 1.1.0 [\#1743](https://github.com/hippware/wocky/pull/1743) ([dependabot-preview[bot]](https://github.com/apps/dependabot-preview))
- Bump distillery from 2.0.0-rc.8 to 2.0.0-rc.11 [\#1742](https://github.com/hippware/wocky/pull/1742) ([dependabot-preview[bot]](https://github.com/apps/dependabot-preview))
- Bump espec from 1.6.0 to 1.6.1 [\#1741](https://github.com/hippware/wocky/pull/1741) ([dependabot-preview[bot]](https://github.com/apps/dependabot-preview))
- Bump excoveralls from 0.9.1 to 0.9.2 [\#1740](https://github.com/hippware/wocky/pull/1740) ([dependabot-preview[bot]](https://github.com/apps/dependabot-preview))
- Clean up and refactor DB callback handlers [\#1739](https://github.com/hippware/wocky/pull/1739) ([bernardd](https://github.com/bernardd))
- Bump exometer\_prometheus from `9eb0481` to `5c37df5` [\#1737](https://github.com/hippware/wocky/pull/1737) ([dependabot-preview[bot]](https://github.com/apps/dependabot-preview))
- Disable old push notification tokens [\#1736](https://github.com/hippware/wocky/pull/1736) ([toland](https://github.com/toland))
- Add unique bot item key [\#1734](https://github.com/hippware/wocky/pull/1734) ([bernardd](https://github.com/bernardd))
- Update app deps to match umbrella app [\#1733](https://github.com/hippware/wocky/pull/1733) ([bernardd](https://github.com/bernardd))
- Bump phoenix from 1.3.3 to 1.3.4 [\#1732](https://github.com/hippware/wocky/pull/1732) ([dependabot-preview[bot]](https://github.com/apps/dependabot-preview))
- Build fixes for Elixir 1.7 [\#1731](https://github.com/hippware/wocky/pull/1731) ([bernardd](https://github.com/bernardd))
- Bump bcrypt\_elixir from 1.0.8 to 1.0.9 [\#1729](https://github.com/hippware/wocky/pull/1729) ([dependabot-preview[bot]](https://github.com/apps/dependabot-preview))
- Update to Elixir 1.7.1 [\#1727](https://github.com/hippware/wocky/pull/1727) ([toland](https://github.com/toland))
- Debounce algorithm tweaks [\#1726](https://github.com/hippware/wocky/pull/1726) ([toland](https://github.com/toland))

## [2018.8.3+r7321aad](https://github.com/hippware/wocky/tree/2018.8.3+r7321aad) (2018-08-03)

[Full Changelog](https://github.com/hippware/wocky/compare/2018.8.1+rea1193b...2018.8.3+r7321aad)

**Closed issues:**

- \[Wocky/testing\] RuntimeError: IQ handler crash: hippware.com/hxep/bot [\#1688](https://github.com/hippware/wocky/issues/1688)

**Merged pull requests:**

- Bump ranch from 1.5.0 to 1.6.0 [\#1725](https://github.com/hippware/wocky/pull/1725) ([dependabot-preview[bot]](https://github.com/apps/dependabot-preview))
- Add logging for failed push requests [\#1723](https://github.com/hippware/wocky/pull/1723) ([bernardd](https://github.com/bernardd))

## [2018.8.1+rea1193b](https://github.com/hippware/wocky/tree/2018.8.1+rea1193b) (2018-08-01)

[Full Changelog](https://github.com/hippware/wocky/compare/2018.7.19+r0da9d8d...2018.8.1+rea1193b)

**Fixed bugs:**

- loadBot returns `null` for bot created with graphql createBot [\#1694](https://github.com/hippware/wocky/issues/1694)
- HS update is not received after a bot is created via 'empty' botCreate and then botUpdate graphql operation [\#1692](https://github.com/hippware/wocky/issues/1692)

**Closed issues:**

- 503 service error for conversation list retrieval \(XMPP\) [\#1712](https://github.com/hippware/wocky/issues/1712)
- Launch new EKS cluster in existing network [\#1704](https://github.com/hippware/wocky/issues/1704)
- Create new automation for existing network [\#1703](https://github.com/hippware/wocky/issues/1703)
- \[Wocky/staging\] FunctionClauseError: no function clause matches [\#1698](https://github.com/hippware/wocky/issues/1698)
- Research and prepare for migration to Amazon Kubernetes service [\#1679](https://github.com/hippware/wocky/issues/1679)
- Discussion: Simplify implementation of 'new' auth system [\#1666](https://github.com/hippware/wocky/issues/1666)
- Clarification of bot visibility and subscriber logic [\#862](https://github.com/hippware/wocky/issues/862)

**Merged pull requests:**

- Bump kadabra from 0.4.2 to 0.4.3 [\#1721](https://github.com/hippware/wocky/pull/1721) ([dependabot-preview[bot]](https://github.com/apps/dependabot-preview))
- Bump credo from 0.9.3 to 0.10.0 [\#1720](https://github.com/hippware/wocky/pull/1720) ([dependabot-preview[bot]](https://github.com/apps/dependabot-preview))
- Replace Task.async with Task.start\_link since we never await its end [\#1719](https://github.com/hippware/wocky/pull/1719) ([bernardd](https://github.com/bernardd))
- Bump algolia from 0.6.5 to 0.7.0 [\#1717](https://github.com/hippware/wocky/pull/1717) ([dependabot-preview[bot]](https://github.com/apps/dependabot-preview))
- Bump espec from 1.5.1 to 1.6.0 [\#1702](https://github.com/hippware/wocky/pull/1702) ([dependabot-preview[bot]](https://github.com/apps/dependabot-preview))
- 1691 crash on nil description [\#1701](https://github.com/hippware/wocky/pull/1701) ([bernardd](https://github.com/bernardd))
- Mark server fields as deprecated [\#1700](https://github.com/hippware/wocky/pull/1700) ([bernardd](https://github.com/bernardd))
- 1694 bot query tweaks [\#1696](https://github.com/hippware/wocky/pull/1696) ([bernardd](https://github.com/bernardd))
- Bump absinthe from 1.4.12 to 1.4.13 [\#1693](https://github.com/hippware/wocky/pull/1693) ([dependabot-preview[bot]](https://github.com/apps/dependabot-preview))
- Extend token expiry to 60 days [\#1685](https://github.com/hippware/wocky/pull/1685) ([toland](https://github.com/toland))

## [2018.7.19+r0da9d8d](https://github.com/hippware/wocky/tree/2018.7.19+r0da9d8d) (2018-07-19)

[Full Changelog](https://github.com/hippware/wocky/compare/2018.7.19+r273a9c7...2018.7.19+r0da9d8d)

**Merged pull requests:**

- Fix update of pending bots; add more tests [\#1690](https://github.com/hippware/wocky/pull/1690) ([bernardd](https://github.com/bernardd))

## [2018.7.19+r273a9c7](https://github.com/hippware/wocky/tree/2018.7.19+r273a9c7) (2018-07-19)

[Full Changelog](https://github.com/hippware/wocky/compare/2018.7.19+r87c6f60...2018.7.19+r273a9c7)

**Merged pull requests:**

- Fix elixometer config [\#1689](https://github.com/hippware/wocky/pull/1689) ([bernardd](https://github.com/bernardd))

## [2018.7.19+r87c6f60](https://github.com/hippware/wocky/tree/2018.7.19+r87c6f60) (2018-07-19)

[Full Changelog](https://github.com/hippware/wocky/compare/2018.7.9+r7386f6f...2018.7.19+r87c6f60)

**Closed issues:**

- \[Wocky/staging\] RuntimeError: The SSL connection timed out. [\#1677](https://github.com/hippware/wocky/issues/1677)
- GraphQL user registration [\#1674](https://github.com/hippware/wocky/issues/1674)
- \[Wocky/us1\] DBConnection.ConnectionError: tcp recv: closed [\#1662](https://github.com/hippware/wocky/issues/1662)
- \[Wocky/us1\] DBConnection.ConnectionError: tcp recv: closed [\#1661](https://github.com/hippware/wocky/issues/1661)
- \[Wocky/staging\] FunctionClauseError: no function clause matches [\#1640](https://github.com/hippware/wocky/issues/1640)
- \[Wocky/us1\] ErlangError: Erlang error: {:timeout, {:gen\_server, :call, \[\#PID\<0.3557.0\>, {:checkout, \#Reference\<0.3939624234.1293156354.225175\>, true, 15000}, 5000\]}} [\#1639](https://github.com/hippware/wocky/issues/1639)
- Setup valid SSL for Tectonic [\#1518](https://github.com/hippware/wocky/issues/1518)

**Merged pull requests:**

- Add mutation support for bot preallocation [\#1686](https://github.com/hippware/wocky/pull/1686) ([bernardd](https://github.com/bernardd))
- Fix dependency hell [\#1684](https://github.com/hippware/wocky/pull/1684) ([toland](https://github.com/toland))
- Update absinthe\_phoenix [\#1683](https://github.com/hippware/wocky/pull/1683) ([toland](https://github.com/toland))
- Add some metrics [\#1670](https://github.com/hippware/wocky/pull/1670) ([bernardd](https://github.com/bernardd))
- Bump lager from 3.6.3 to 3.6.4 [\#1668](https://github.com/hippware/wocky/pull/1668) ([dependabot-preview[bot]](https://github.com/apps/dependabot-preview))
- Bump bcrypt\_elixir from 1.0.7 to 1.0.8 [\#1667](https://github.com/hippware/wocky/pull/1667) ([dependabot-preview[bot]](https://github.com/apps/dependabot-preview))
- 1659 metrics rework [\#1665](https://github.com/hippware/wocky/pull/1665) ([bernardd](https://github.com/bernardd))
- Fix staging services deploy file [\#1664](https://github.com/hippware/wocky/pull/1664) ([bernardd](https://github.com/bernardd))
- Move APNS call to async/on\_response mode [\#1663](https://github.com/hippware/wocky/pull/1663) ([bernardd](https://github.com/bernardd))
- Bump ex\_guard from 1.3.0 to 1.3.2 [\#1660](https://github.com/hippware/wocky/pull/1660) ([dependabot-preview[bot]](https://github.com/apps/dependabot-preview))
- Add test for botGuestVisitors [\#1658](https://github.com/hippware/wocky/pull/1658) ([bernardd](https://github.com/bernardd))

## [2018.7.9+r7386f6f](https://github.com/hippware/wocky/tree/2018.7.9+r7386f6f) (2018-07-09)

[Full Changelog](https://github.com/hippware/wocky/compare/2018.6.19+r7c97339...2018.7.9+r7386f6f)

**Fixed bugs:**

- MAM \<archived/\> element deprecated [\#1269](https://github.com/hippware/wocky/issues/1269)

**Security fixes:**

- Security group cleanup [\#1566](https://github.com/hippware/wocky/issues/1566)

**Closed issues:**

- \[Wocky/staging\] DBConnection.ConnectionError: connection not available because of disconnection [\#1647](https://github.com/hippware/wocky/issues/1647)
- \[Wocky/testing\] ErlangError: Erlang error: :noproc [\#1645](https://github.com/hippware/wocky/issues/1645)
- \[Wocky/us1\] DBConnection.ConnectionError: connection not available because of disconnection [\#1643](https://github.com/hippware/wocky/issues/1643)
- \[Wocky/us1\] DBConnection.ConnectionError: connection not available because of disconnection [\#1642](https://github.com/hippware/wocky/issues/1642)
- \[Wocky/us1\] DBConnection.ConnectionError: connection not available because of disconnection [\#1641](https://github.com/hippware/wocky/issues/1641)
- Update credentials used to push wocky images to ECR [\#1623](https://github.com/hippware/wocky/issues/1623)
- \[Wocky/staging\] Postgrex.Error: ERROR 42703 \(undefined\_column\): column u0.server does not exist [\#1615](https://github.com/hippware/wocky/issues/1615)
- Remove Becky's accounts from auto-follow/friends and HS prepopulation \(Prod\) [\#1598](https://github.com/hippware/wocky/issues/1598)
- Proposal: location update timestamps [\#1504](https://github.com/hippware/wocky/issues/1504)
- Make espec tests more robust to leftover data in db [\#1249](https://github.com/hippware/wocky/issues/1249)

**Merged pull requests:**

- Fix debounce override [\#1657](https://github.com/hippware/wocky/pull/1657) ([toland](https://github.com/toland))
- Bump pigeon from 1.2.0 to 1.2.2 [\#1656](https://github.com/hippware/wocky/pull/1656) ([dependabot-preview[bot]](https://github.com/apps/dependabot-preview))
- 1654 reload user after hide [\#1655](https://github.com/hippware/wocky/pull/1655) ([bernardd](https://github.com/bernardd))
- Bump peerage from 1.0.2 to 1.0.3 [\#1653](https://github.com/hippware/wocky/pull/1653) ([dependabot-preview[bot]](https://github.com/apps/dependabot-preview))
- 1651 discover bots [\#1652](https://github.com/hippware/wocky/pull/1652) ([bernardd](https://github.com/bernardd))
- Do a little code cleanup [\#1650](https://github.com/hippware/wocky/pull/1650) ([toland](https://github.com/toland))
- Add new location fields [\#1649](https://github.com/hippware/wocky/pull/1649) ([toland](https://github.com/toland))
- Bump honeybadger from 0.10.1 to 0.10.2 [\#1648](https://github.com/hippware/wocky/pull/1648) ([dependabot-preview[bot]](https://github.com/apps/dependabot-preview))
- 1487 hook up metrics [\#1646](https://github.com/hippware/wocky/pull/1646) ([bernardd](https://github.com/bernardd))
- Bump recon from 2.3.5 to 2.3.6 [\#1644](https://github.com/hippware/wocky/pull/1644) ([dependabot-preview[bot]](https://github.com/apps/dependabot-preview))
- Bump wocky\_db\_watcher from `009462e` to `553462c` [\#1638](https://github.com/hippware/wocky/pull/1638) ([dependabot-preview[bot]](https://github.com/apps/dependabot-preview))
- Remove auto-gen sub count; remove hashes entirely [\#1637](https://github.com/hippware/wocky/pull/1637) ([bernardd](https://github.com/bernardd))
- Update distillery for Erlang 21 [\#1636](https://github.com/hippware/wocky/pull/1636) ([bernardd](https://github.com/bernardd))
- Bump honeybadger from 0.10.0 to 0.10.1 [\#1635](https://github.com/hippware/wocky/pull/1635) ([dependabot-preview[bot]](https://github.com/apps/dependabot-preview))
- Bump wocky\_db\_watcher from `9d178c2` to `009462e` [\#1633](https://github.com/hippware/wocky/pull/1633) ([dependabot-preview[bot]](https://github.com/apps/dependabot-preview))
- Consolidate AWS user accounts [\#1632](https://github.com/hippware/wocky/pull/1632) ([toland](https://github.com/toland))
- Update to Erlang 21/Elixir 1.6.6 [\#1630](https://github.com/hippware/wocky/pull/1630) ([toland](https://github.com/toland))
- Add isFetch field to location updates [\#1627](https://github.com/hippware/wocky/pull/1627) ([bernardd](https://github.com/bernardd))
- Various little tweaks to improve test stability and reduce error output [\#1626](https://github.com/hippware/wocky/pull/1626) ([bernardd](https://github.com/bernardd))
- Config cleanup [\#1625](https://github.com/hippware/wocky/pull/1625) ([toland](https://github.com/toland))
- Update the ECR credentials used by Codeship [\#1624](https://github.com/hippware/wocky/pull/1624) ([toland](https://github.com/toland))
- Another attempt to fix bot/sub locking [\#1622](https://github.com/hippware/wocky/pull/1622) ([bernardd](https://github.com/bernardd))
- Bump ex\_aws\_s3 from 2.0.0 to 2.0.1 [\#1621](https://github.com/hippware/wocky/pull/1621) ([dependabot-preview[bot]](https://github.com/apps/dependabot-preview))
- Add bot timestamps to graphQL [\#1618](https://github.com/hippware/wocky/pull/1618) ([bernardd](https://github.com/bernardd))

## [2018.6.19+r7c97339](https://github.com/hippware/wocky/tree/2018.6.19+r7c97339) (2018-06-19)

[Full Changelog](https://github.com/hippware/wocky/compare/2018.5.29+r0ba814c...2018.6.19+r7c97339)

**Fixed bugs:**

- "no previous session" warnings in log files [\#1150](https://github.com/hippware/wocky/issues/1150)

**Security fixes:**

- Database management and security [\#1565](https://github.com/hippware/wocky/issues/1565)
- CloudTrail and auditing setup and security [\#1563](https://github.com/hippware/wocky/issues/1563)

**Closed issues:**

- Impact of Changes to WHOIS on AWS Certificate Manager \(ACM\) Email Validation [\#1594](https://github.com/hippware/wocky/issues/1594)
- \[Wocky/us1\] Bamboo.MandrillAdapter.ApiError: There was a problem sending the email through the Mandrill API.

Here is the response:

"{\"status\":\"error\",\"code\":-1,\"name\":\"Invalid\_Key\",\"message\":\"Invalid API key\"}"

Here are the params we sent:

%{"key" =\> "\[FILTERED\]", "message" =\> %{"from\_email" =\> "support@tinyrobot.com", "from\_name" =\> "tinyrobot support", "global\_merge\_vars" =\> \[%{"content" =\> "nixon3lliot", "name" =\> "user\_handle"}\], "headers" =\> %{}, "html" =\> nil, "subject" =\> "Welcom... [\#1588](https://github.com/hippware/wocky/issues/1588)
- \[Wocky/staging\] Bamboo.MandrillAdapter.ApiError: There was a problem sending the email through the Mandrill API.

Here is the response:

"{\"status\":\"error\",\"code\":-1,\"name\":\"Invalid\_Key\",\"message\":\"Invalid API key\"}"

Here are the params we sent:

%{"key" =\> "\[FILTERED\]", "message" =\> %{"from\_email" =\> "support@tinyrobot.com", "from\_name" =\> "tinyrobot support", "global\_merge\_vars" =\> \[%{"content" =\> "tacoloco", "name" =\> "user\_handle"}\], "headers" =\> %{}, "html" =\> nil, "subject" =\> "Welco... [\#1587](https://github.com/hippware/wocky/issues/1587)
- \[Wocky/staging\] FunctionClauseError: no function clause matches [\#1586](https://github.com/hippware/wocky/issues/1586)
- \[Wocky/staging\] Bamboo.MandrillAdapter.ApiError: :timeout [\#1572](https://github.com/hippware/wocky/issues/1572)
- Upgrade etcd nodes to version 3.3 [\#1321](https://github.com/hippware/wocky/issues/1321)
- Remove support for typo-ed conversations API [\#1155](https://github.com/hippware/wocky/issues/1155)
- Automate current AWS infrastructure [\#1141](https://github.com/hippware/wocky/issues/1141)
- Remove followers functionality from bot protocol [\#330](https://github.com/hippware/wocky/issues/330)

**Merged pull requests:**

- Fix GQL resolution for the server field [\#1614](https://github.com/hippware/wocky/pull/1614) ([toland](https://github.com/toland))
- Add default value for bot icon field [\#1612](https://github.com/hippware/wocky/pull/1612) ([toland](https://github.com/toland))
- Add localBots query [\#1610](https://github.com/hippware/wocky/pull/1610) ([bernardd](https://github.com/bernardd))
- Bump distillery from `951a21e` to `8c169c7` [\#1608](https://github.com/hippware/wocky/pull/1608) ([dependabot-preview[bot]](https://github.com/apps/dependabot-preview))
- Bump excoveralls from 0.9.0 to 0.9.1 [\#1607](https://github.com/hippware/wocky/pull/1607) ([dependabot-preview[bot]](https://github.com/apps/dependabot-preview))
- Dialyzer fix [\#1605](https://github.com/hippware/wocky/pull/1605) ([bernardd](https://github.com/bernardd))
- 1596 add hidden feature [\#1604](https://github.com/hippware/wocky/pull/1604) ([bernardd](https://github.com/bernardd))
- Remove imagePullSecrets from K8s manifests [\#1602](https://github.com/hippware/wocky/pull/1602) ([toland](https://github.com/toland))
- Remove weekly bot report [\#1601](https://github.com/hippware/wocky/pull/1601) ([toland](https://github.com/toland))
- Bump bamboo from 0.8.0 to 1.0.0 [\#1600](https://github.com/hippware/wocky/pull/1600) ([dependabot-preview[bot]](https://github.com/apps/dependabot-preview))
- Add icon field to bots [\#1597](https://github.com/hippware/wocky/pull/1597) ([bernardd](https://github.com/bernardd))
- 1573 remove server field [\#1595](https://github.com/hippware/wocky/pull/1595) ([bernardd](https://github.com/bernardd))
- Bump guardian from 1.0.1 to 1.1.0 [\#1593](https://github.com/hippware/wocky/pull/1593) ([dependabot-preview[bot]](https://github.com/apps/dependabot-preview))
- Bump excoveralls from 0.8.2 to 0.9.0 [\#1592](https://github.com/hippware/wocky/pull/1592) ([dependabot-preview[bot]](https://github.com/apps/dependabot-preview))
- Bump idna from 5.1.1 to 5.1.2 [\#1591](https://github.com/hippware/wocky/pull/1591) ([dependabot-preview[bot]](https://github.com/apps/dependabot-preview))
- Bump lager from 3.6.2 to 3.6.3 [\#1589](https://github.com/hippware/wocky/pull/1589) ([dependabot-preview[bot]](https://github.com/apps/dependabot-preview))
- Update absinthe version [\#1585](https://github.com/hippware/wocky/pull/1585) ([bernardd](https://github.com/bernardd))
- Bump credo from 0.9.2 to 0.9.3 [\#1584](https://github.com/hippware/wocky/pull/1584) ([dependabot-preview[bot]](https://github.com/apps/dependabot-preview))
- 1576 bot update with location [\#1583](https://github.com/hippware/wocky/pull/1583) ([bernardd](https://github.com/bernardd))
- Fix media delete mutation [\#1582](https://github.com/hippware/wocky/pull/1582) ([toland](https://github.com/toland))
- Bump honeybadger from 0.9.0 to 0.10.0 [\#1580](https://github.com/hippware/wocky/pull/1580) ([dependabot-preview[bot]](https://github.com/apps/dependabot-preview))

## [2018.5.29+r0ba814c](https://github.com/hippware/wocky/tree/2018.5.29+r0ba814c) (2018-05-29)

[Full Changelog](https://github.com/hippware/wocky/compare/2018.5.24+r48e4c8d...2018.5.29+r0ba814c)

**Closed issues:**

- Blocking: Searching for users [\#930](https://github.com/hippware/wocky/issues/930)

**Merged pull requests:**

- Move hasUsedGeofence field to currentUser object [\#1579](https://github.com/hippware/wocky/pull/1579) ([bernardd](https://github.com/bernardd))
- Bump pigeon from 1.1.6 to 1.2.0 [\#1578](https://github.com/hippware/wocky/pull/1578) ([dependabot-preview[bot]](https://github.com/apps/dependabot-preview))
- Enable dead link cleaning [\#1575](https://github.com/hippware/wocky/pull/1575) ([bernardd](https://github.com/bernardd))
- 1570 add media delete query [\#1574](https://github.com/hippware/wocky/pull/1574) ([bernardd](https://github.com/bernardd))

## [2018.5.24+r48e4c8d](https://github.com/hippware/wocky/tree/2018.5.24+r48e4c8d) (2018-05-24)

[Full Changelog](https://github.com/hippware/wocky/compare/2018.5.15+ra3dbb55...2018.5.24+r48e4c8d)

**Closed issues:**

- Image files in Production and Staging DB with ready=false [\#1552](https://github.com/hippware/wocky/issues/1552)
- Image-only messages do not generate a push notification on prod, but do on staging  [\#1532](https://github.com/hippware/wocky/issues/1532)
- Set up Prod server for 'html bot link' [\#1524](https://github.com/hippware/wocky/issues/1524)
- Setup Dependabot for Wocky [\#1521](https://github.com/hippware/wocky/issues/1521)
- Update ops commands to use kdeploy [\#1520](https://github.com/hippware/wocky/issues/1520)
- Alert on slow database queries [\#1519](https://github.com/hippware/wocky/issues/1519)
- \[Wocky/us1\] Bamboo.MandrillAdapter.ApiError: :timeout [\#1513](https://github.com/hippware/wocky/issues/1513)
- \[Wocky/staging\] ArithmeticError: bad argument in arithmetic expression [\#1511](https://github.com/hippware/wocky/issues/1511)
- Add linting of Kubernetes resources to CI builds [\#1320](https://github.com/hippware/wocky/issues/1320)
- Add Dockerlint to the CI build [\#1247](https://github.com/hippware/wocky/issues/1247)
- Deploy the application into minikube for testing [\#1234](https://github.com/hippware/wocky/issues/1234)

**Merged pull requests:**

- Add GraphQL bot item management [\#1569](https://github.com/hippware/wocky/pull/1569) ([bernardd](https://github.com/bernardd))
- Add geofence intro query [\#1567](https://github.com/hippware/wocky/pull/1567) ([bernardd](https://github.com/bernardd))
- Pin exml to a release tag [\#1562](https://github.com/hippware/wocky/pull/1562) ([toland](https://github.com/toland))
- Bump absinthe\_phoenix from `8e3c310` to `c554772` [\#1559](https://github.com/hippware/wocky/pull/1559) ([dependabot-preview[bot]](https://github.com/apps/dependabot-preview))
- Add bot delete [\#1558](https://github.com/hippware/wocky/pull/1558) ([bernardd](https://github.com/bernardd))
- Bump watcher version [\#1557](https://github.com/hippware/wocky/pull/1557) ([bernardd](https://github.com/bernardd))
- Add media upload GraphQL query [\#1556](https://github.com/hippware/wocky/pull/1556) ([bernardd](https://github.com/bernardd))
- Ensure correct fields are/are not set during subscription updates [\#1555](https://github.com/hippware/wocky/pull/1555) ([bernardd](https://github.com/bernardd))
- Bump bcrypt\_elixir from 1.0.6 to 1.0.7 [\#1554](https://github.com/hippware/wocky/pull/1554) ([dependabot-preview[bot]](https://github.com/apps/dependabot-preview))
- Relax test timeout slightly [\#1551](https://github.com/hippware/wocky/pull/1551) ([bernardd](https://github.com/bernardd))
- Bump ranch from 1.3.2 to 1.5.0 [\#1550](https://github.com/hippware/wocky/pull/1550) ([dependabot-preview[bot]](https://github.com/apps/dependabot-preview))
- Bump exml from `662072b` to `db591e8` [\#1548](https://github.com/hippware/wocky/pull/1548) ([dependabot-preview[bot]](https://github.com/apps/dependabot-preview))
- Home stream GraphQL subscription [\#1546](https://github.com/hippware/wocky/pull/1546) ([bernardd](https://github.com/bernardd))
- 1538 s3 url ready [\#1545](https://github.com/hippware/wocky/pull/1545) ([bernardd](https://github.com/bernardd))
- Update dependencies [\#1544](https://github.com/hippware/wocky/pull/1544) ([toland](https://github.com/toland))
- Bump excoveralls from 0.8.1 to 0.8.2 [\#1542](https://github.com/hippware/wocky/pull/1542) ([dependabot-preview[bot]](https://github.com/apps/dependabot-preview))
- Bump lager from 3.6.1 to 3.6.2 [\#1541](https://github.com/hippware/wocky/pull/1541) ([dependabot-preview[bot]](https://github.com/apps/dependabot-preview))
- Bump fast\_tls from 1.0.21 to 1.0.22 [\#1540](https://github.com/hippware/wocky/pull/1540) ([dependabot-preview[bot]](https://github.com/apps/dependabot-preview))
- Bump prometheus\_ecto from 1.0.2 to 1.0.3 [\#1539](https://github.com/hippware/wocky/pull/1539) ([dependabot-preview[bot]](https://github.com/apps/dependabot-preview))
- 1534 fix test failures [\#1537](https://github.com/hippware/wocky/pull/1537) ([bernardd](https://github.com/bernardd))
- Fix crash on unblock race [\#1536](https://github.com/hippware/wocky/pull/1536) ([bernardd](https://github.com/bernardd))
- Fix crash when non-string field is passed to authentication [\#1535](https://github.com/hippware/wocky/pull/1535) ([bernardd](https://github.com/bernardd))
- Add Rexbug and recon for runtime debugging [\#1531](https://github.com/hippware/wocky/pull/1531) ([toland](https://github.com/toland))
- Add a SUBSCRIBED\_NOT\_OWNED relationship for bots [\#1530](https://github.com/hippware/wocky/pull/1530) ([toland](https://github.com/toland))
- Remove old slack token [\#1529](https://github.com/hippware/wocky/pull/1529) ([bernardd](https://github.com/bernardd))
- Some more fixes for desktop mode [\#1528](https://github.com/hippware/wocky/pull/1528) ([bernardd](https://github.com/bernardd))
- Remove mod\_wocky\_cli [\#1526](https://github.com/hippware/wocky/pull/1526) ([toland](https://github.com/toland))

## [2018.5.15+ra3dbb55](https://github.com/hippware/wocky/tree/2018.5.15+ra3dbb55) (2018-05-15)

[Full Changelog](https://github.com/hippware/wocky/compare/2018.5.11+r280f940...2018.5.15+ra3dbb55)

**Closed issues:**

- Create Docker setup for Front End devs to run Wocky locally [\#1336](https://github.com/hippware/wocky/issues/1336)

**Merged pull requests:**

- Fix image uploads for pending bots [\#1525](https://github.com/hippware/wocky/pull/1525) ([toland](https://github.com/toland))
- New distillery version [\#1523](https://github.com/hippware/wocky/pull/1523) ([bernardd](https://github.com/bernardd))
- Dockerlint and Kubeval [\#1516](https://github.com/hippware/wocky/pull/1516) ([toland](https://github.com/toland))
- Update absinthe\_relay version [\#1514](https://github.com/hippware/wocky/pull/1514) ([bernardd](https://github.com/bernardd))

## [2018.5.11+r280f940](https://github.com/hippware/wocky/tree/2018.5.11+r280f940) (2018-05-11)

[Full Changelog](https://github.com/hippware/wocky/compare/2018.5.4+r4bdd0ed...2018.5.11+r280f940)

**Security fixes:**

- Use GQL Bot interface to protect owner-only fields [\#1485](https://github.com/hippware/wocky/issues/1485)
- Discuss password complexity policy \(for staff\) [\#1231](https://github.com/hippware/wocky/issues/1231)

**Closed issues:**

- \[Wocky/testing\] RuntimeError: IQ handler crash: hippware.com/hxep/bot [\#1483](https://github.com/hippware/wocky/issues/1483)
- Create Cloudwatch alarms for SQS FIFO queue throughput [\#1454](https://github.com/hippware/wocky/issues/1454)
- Reduce frequency of bot description updates \(to HS\) [\#1057](https://github.com/hippware/wocky/issues/1057)
- Temporary subscriptions for 'everything', to enable 'live updates' \(discussion\) [\#1056](https://github.com/hippware/wocky/issues/1056)

**Merged pull requests:**

- Ensure wocky\_db\_watcher is started in desktop mode [\#1510](https://github.com/hippware/wocky/pull/1510) ([bernardd](https://github.com/bernardd))
- Visitor sorting take 2 [\#1509](https://github.com/hippware/wocky/pull/1509) ([toland](https://github.com/toland))
- Add sorting criteria to the other visitors query [\#1508](https://github.com/hippware/wocky/pull/1508) ([toland](https://github.com/toland))
- 1336 frontend docker env [\#1507](https://github.com/hippware/wocky/pull/1507) ([bernardd](https://github.com/bernardd))
- 1447 add apollo tracing [\#1506](https://github.com/hippware/wocky/pull/1506) ([bernardd](https://github.com/bernardd))
- Do visibility checking in the business logic [\#1505](https://github.com/hippware/wocky/pull/1505) ([toland](https://github.com/toland))
- Update MIM to fix badkey error [\#1503](https://github.com/hippware/wocky/pull/1503) ([bernardd](https://github.com/bernardd))
- 1501 blocking rework [\#1502](https://github.com/hippware/wocky/pull/1502) ([bernardd](https://github.com/bernardd))
- Reduce N+1 queries for one-to-one relationships [\#1500](https://github.com/hippware/wocky/pull/1500) ([toland](https://github.com/toland))
- Return a reasonable error from the user mutation [\#1499](https://github.com/hippware/wocky/pull/1499) ([toland](https://github.com/toland))
- Fix dialyzer warning [\#1497](https://github.com/hippware/wocky/pull/1497) ([bernardd](https://github.com/bernardd))
- Add validation to access strings on file upload [\#1496](https://github.com/hippware/wocky/pull/1496) ([bernardd](https://github.com/bernardd))
- Make graphql complexity configurable [\#1495](https://github.com/hippware/wocky/pull/1495) ([bernardd](https://github.com/bernardd))
- Fix crash on DB callback [\#1491](https://github.com/hippware/wocky/pull/1491) ([bernardd](https://github.com/bernardd))

## [2018.5.4+r4bdd0ed](https://github.com/hippware/wocky/tree/2018.5.4+r4bdd0ed) (2018-05-04)

[Full Changelog](https://github.com/hippware/wocky/compare/2018.5.3+reaf3ea8...2018.5.4+r4bdd0ed)

**Fixed bugs:**

- \[Wocky/staging\] RuntimeError: IQ handler crash: hippware.com/hxep/http-file [\#1310](https://github.com/hippware/wocky/issues/1310)

**Merged pull requests:**

- Fix test [\#1494](https://github.com/hippware/wocky/pull/1494) ([bernardd](https://github.com/bernardd))
- Increase complexity limit to 2000 [\#1493](https://github.com/hippware/wocky/pull/1493) ([bernardd](https://github.com/bernardd))
- GraphQL bot events connection [\#1490](https://github.com/hippware/wocky/pull/1490) ([toland](https://github.com/toland))

## [2018.5.3+reaf3ea8](https://github.com/hippware/wocky/tree/2018.5.3+reaf3ea8) (2018-05-03)

[Full Changelog](https://github.com/hippware/wocky/compare/2018.5.2+r6abd519...2018.5.3+reaf3ea8)

**Closed issues:**

- Register tinyrobot.app domain [\#1488](https://github.com/hippware/wocky/issues/1488)

**Merged pull requests:**

- 1427 query cost [\#1489](https://github.com/hippware/wocky/pull/1489) ([bernardd](https://github.com/bernardd))
- GraphQL interface for `User` [\#1484](https://github.com/hippware/wocky/pull/1484) ([toland](https://github.com/toland))

## [2018.5.2+r6abd519](https://github.com/hippware/wocky/tree/2018.5.2+r6abd519) (2018-05-02)

[Full Changelog](https://github.com/hippware/wocky/compare/2018.4.27+reb3df56...2018.5.2+r6abd519)

**Closed issues:**

- \(hijacked\) Geofence entry notification when owner is already inside, before t=0 [\#1393](https://github.com/hippware/wocky/issues/1393)

**Merged pull requests:**

- 1405 graphql middleware [\#1479](https://github.com/hippware/wocky/pull/1479) ([bernardd](https://github.com/bernardd))
- Active bots connection [\#1478](https://github.com/hippware/wocky/pull/1478) ([toland](https://github.com/toland))
- 1404 schema doc [\#1477](https://github.com/hippware/wocky/pull/1477) ([bernardd](https://github.com/bernardd))
- 1445 log graphql traffic [\#1476](https://github.com/hippware/wocky/pull/1476) ([bernardd](https://github.com/bernardd))
- Update Dawdle; reinstate 30 minutes presence timeout [\#1475](https://github.com/hippware/wocky/pull/1475) ([bernardd](https://github.com/bernardd))
- Revert "Re-enable geofence timeout" [\#1473](https://github.com/hippware/wocky/pull/1473) ([toland](https://github.com/toland))

## [2018.4.27+reb3df56](https://github.com/hippware/wocky/tree/2018.4.27+reb3df56) (2018-04-27)

[Full Changelog](https://github.com/hippware/wocky/compare/2018.4.23+r771bcf1...2018.4.27+reb3df56)

**Closed issues:**

- \[Wocky/testing\] Protocol.UndefinedError: protocol Enumerable not implemented for {:test\_field, "test\_doc"}. This protocol is implemented for: DBConnection.PrepareStream, DBConnection.Stream, Date.Range, Ecto.Adapters.SQL.Stream, File.Stream, Function, GenEvent.Stream, HashDict, HashSet, IO.Stream, List, Map, MapSet, Postgrex.Stream, Range, Stream, Timex.Interval [\#1468](https://github.com/hippware/wocky/issues/1468)
- Re-enable geofence timeout but with larger timeout value [\#1462](https://github.com/hippware/wocky/issues/1462)
- Set up Staging server for 'html bot link' [\#1438](https://github.com/hippware/wocky/issues/1438)

**Merged pull requests:**

- Temporarally change timeout back to 900 seconds due to Dawdle limitation [\#1472](https://github.com/hippware/wocky/pull/1472) ([bernardd](https://github.com/bernardd))
- Fix ref bot crash fix [\#1470](https://github.com/hippware/wocky/pull/1470) ([bernardd](https://github.com/bernardd))
- Update absinthe to fix subscription distribution error [\#1469](https://github.com/hippware/wocky/pull/1469) ([bernardd](https://github.com/bernardd))
- Geofence timeout changes [\#1467](https://github.com/hippware/wocky/pull/1467) ([toland](https://github.com/toland))
- Fix ref bot deletion race crash [\#1465](https://github.com/hippware/wocky/pull/1465) ([bernardd](https://github.com/bernardd))
- Undisable the location API in prod [\#1463](https://github.com/hippware/wocky/pull/1463) ([toland](https://github.com/toland))
- Housekeeping [\#1460](https://github.com/hippware/wocky/pull/1460) ([toland](https://github.com/toland))

## [2018.4.23+r771bcf1](https://github.com/hippware/wocky/tree/2018.4.23+r771bcf1) (2018-04-23)

[Full Changelog](https://github.com/hippware/wocky/compare/2018.4.23+r3a1a692...2018.4.23+r771bcf1)

**Closed issues:**

- Investigate/deactivate recurring DaemonSetsMissScheduled alarm [\#1435](https://github.com/hippware/wocky/issues/1435)

**Merged pull requests:**

- Add types to Dawdle config values [\#1458](https://github.com/hippware/wocky/pull/1458) ([toland](https://github.com/toland))

## [2018.4.23+r3a1a692](https://github.com/hippware/wocky/tree/2018.4.23+r3a1a692) (2018-04-23)

[Full Changelog](https://github.com/hippware/wocky/compare/2018.4.23+r3993d0a...2018.4.23+r3a1a692)

**Closed issues:**

- Collections functionality [\#1412](https://github.com/hippware/wocky/issues/1412)

**Merged pull requests:**

- Fix handling for `last` GraphQL parameter [\#1457](https://github.com/hippware/wocky/pull/1457) ([bernardd](https://github.com/bernardd))

## [2018.4.23+r3993d0a](https://github.com/hippware/wocky/tree/2018.4.23+r3993d0a) (2018-04-23)

[Full Changelog](https://github.com/hippware/wocky/compare/2018.4.18+r06cb8d3...2018.4.23+r3993d0a)

**Closed issues:**

- \[Wocky/staging\] Ecto.StaleEntryError: attempted to delete a stale struct:

%Wocky.User.BotEvent{\_\_meta\_\_: \#Ecto.Schema.Metadata\<:loaded, "user\_bot\_events"\>, bot: \#Ecto.Association.NotLoaded\<association :bot is not loaded\>, bot\_id: "eeb2d9e2-38fc-11e8-bf74-0a580a0205fe", created\_at: \#DateTime\<2018-04-19 14:28:09.880356Z\>, event: :transition\_out, id: "4a4769eb-afdc-4063-9d95-43b13b1b4ca7", updated\_at: \#DateTime\<2018-04-19 14:28:09.880366Z\>, user: \#Ecto.Association.NotLoaded\<association :user is not loaded\>... [\#1446](https://github.com/hippware/wocky/issues/1446)
- \[Wocky/testing\] FunctionClauseError: no function clause matches [\#1442](https://github.com/hippware/wocky/issues/1442)
- \[Wocky/testing\] Ecto.ConstraintError: constraint error when attempting to insert struct:

    \* foreign\_key: user\_locations\_user\_id\_fkey

If you would like to convert this constraint into an error, please
call foreign\_key\_constraint/3 in your changeset and define the proper
constraint name. The changeset has not defined any constraint. [\#1441](https://github.com/hippware/wocky/issues/1441)
- \[Wocky/staging\] FunctionClauseError: no function clause matches [\#1433](https://github.com/hippware/wocky/issues/1433)
- \[Wocky/testing\] RuntimeError: DB Watcher callback crash [\#1426](https://github.com/hippware/wocky/issues/1426)

**Merged pull requests:**

- Add a flag to disable the bot visit timeout [\#1455](https://github.com/hippware/wocky/pull/1455) ([toland](https://github.com/toland))
- Relax some test timeouts [\#1453](https://github.com/hippware/wocky/pull/1453) ([bernardd](https://github.com/bernardd))
- Fix location test intermittent failure [\#1452](https://github.com/hippware/wocky/pull/1452) ([bernardd](https://github.com/bernardd))
- Add missing function clause [\#1451](https://github.com/hippware/wocky/pull/1451) ([bernardd](https://github.com/bernardd))
- Fix crash on unauthenticated subscription [\#1450](https://github.com/hippware/wocky/pull/1450) ([bernardd](https://github.com/bernardd))
- Update absinthe\_relay and some other deps [\#1449](https://github.com/hippware/wocky/pull/1449) ([bernardd](https://github.com/bernardd))
- GraphQL locations API [\#1448](https://github.com/hippware/wocky/pull/1448) ([toland](https://github.com/toland))
- 1430 geofence auto exit [\#1444](https://github.com/hippware/wocky/pull/1444) ([bernardd](https://github.com/bernardd))
- Improved GraphQL test coverage [\#1443](https://github.com/hippware/wocky/pull/1443) ([toland](https://github.com/toland))

## [2018.4.18+r06cb8d3](https://github.com/hippware/wocky/tree/2018.4.18+r06cb8d3) (2018-04-18)

[Full Changelog](https://github.com/hippware/wocky/compare/2018.4.11+re9f3db0...2018.4.18+r06cb8d3)

**Closed issues:**

- \[Wocky/staging\] ArithmeticError: bad argument in arithmetic expression [\#1432](https://github.com/hippware/wocky/issues/1432)
- Collections: misc discussion [\#1428](https://github.com/hippware/wocky/issues/1428)
- \[Wocky/staging\] RuntimeError: The SSL connection timed out. [\#1361](https://github.com/hippware/wocky/issues/1361)
- Unify HS and bot publishing protocols [\#1027](https://github.com/hippware/wocky/issues/1027)

**Merged pull requests:**

- Public image fields [\#1437](https://github.com/hippware/wocky/pull/1437) ([bernardd](https://github.com/bernardd))
- 1414 collections sharing [\#1436](https://github.com/hippware/wocky/pull/1436) ([bernardd](https://github.com/bernardd))
- Collections baseline [\#1434](https://github.com/hippware/wocky/pull/1434) ([toland](https://github.com/toland))
- Rework bot visitor subscription [\#1425](https://github.com/hippware/wocky/pull/1425) ([bernardd](https://github.com/bernardd))
- Make schema public [\#1424](https://github.com/hippware/wocky/pull/1424) ([bernardd](https://github.com/bernardd))
- Make bot items public; add owner field [\#1423](https://github.com/hippware/wocky/pull/1423) ([bernardd](https://github.com/bernardd))
- Provide direct download URLs for images in GraphQL [\#1422](https://github.com/hippware/wocky/pull/1422) ([bernardd](https://github.com/bernardd))
- New JWT authentication for the APIs [\#1421](https://github.com/hippware/wocky/pull/1421) ([toland](https://github.com/toland))

## [2018.4.11+re9f3db0](https://github.com/hippware/wocky/tree/2018.4.11+re9f3db0) (2018-04-11)

[Full Changelog](https://github.com/hippware/wocky/compare/2018.4.6+r494667c...2018.4.11+re9f3db0)

**Closed issues:**

- Compact representation of uuid / 128 bits [\#1409](https://github.com/hippware/wocky/issues/1409)
- GraphQL discussion [\#1402](https://github.com/hippware/wocky/issues/1402)
- ACTION REQUIRED - Loggly Certificate Update [\#1399](https://github.com/hippware/wocky/issues/1399)
- \[Wocky/testing\] FunctionClauseError: no function clause matching in WockyAPI.UserResolver.get\_current\_user/3 [\#1396](https://github.com/hippware/wocky/issues/1396)
- Expose or log interesting location- or geofence- related events [\#1376](https://github.com/hippware/wocky/issues/1376)
- GraphQL subscriptions for bot visitors [\#1362](https://github.com/hippware/wocky/issues/1362)
- GraphQL discussion [\#1359](https://github.com/hippware/wocky/issues/1359)
- Consider adding firstname,lastname,avatar to Get Contacts request [\#1243](https://github.com/hippware/wocky/issues/1243)

**Merged pull requests:**

- Add CORS support [\#1418](https://github.com/hippware/wocky/pull/1418) ([bernardd](https://github.com/bernardd))
- 1407 mutation rework 2 [\#1416](https://github.com/hippware/wocky/pull/1416) ([bernardd](https://github.com/bernardd))
- 1407 redo mutations [\#1415](https://github.com/hippware/wocky/pull/1415) ([bernardd](https://github.com/bernardd))
- Rename user search query [\#1411](https://github.com/hippware/wocky/pull/1411) ([bernardd](https://github.com/bernardd))
- Add bot to user relationships [\#1410](https://github.com/hippware/wocky/pull/1410) ([bernardd](https://github.com/bernardd))
- Further graphql [\#1401](https://github.com/hippware/wocky/pull/1401) ([bernardd](https://github.com/bernardd))
- GraphQL user search [\#1400](https://github.com/hippware/wocky/pull/1400) ([bernardd](https://github.com/bernardd))

## [2018.4.6+r494667c](https://github.com/hippware/wocky/tree/2018.4.6+r494667c) (2018-04-06)

[Full Changelog](https://github.com/hippware/wocky/compare/2018.4.4+r9d2357b...2018.4.6+r494667c)

**Closed issues:**

- Investigate why visitors are appearing in one bot instead of multiple  [\#1370](https://github.com/hippware/wocky/issues/1370)

**Merged pull requests:**

- Graphql sub login [\#1397](https://github.com/hippware/wocky/pull/1397) ([bernardd](https://github.com/bernardd))
- whoops [\#1395](https://github.com/hippware/wocky/pull/1395) ([bernardd](https://github.com/bernardd))
- Minor bugfixes [\#1394](https://github.com/hippware/wocky/pull/1394) ([bernardd](https://github.com/bernardd))

## [2018.4.4+r9d2357b](https://github.com/hippware/wocky/tree/2018.4.4+r9d2357b) (2018-04-04)

[Full Changelog](https://github.com/hippware/wocky/compare/2018.3.29+r5cb3244...2018.4.4+r9d2357b)

**Closed issues:**

- AWS: transitioning resource IDs to a longer format [\#1388](https://github.com/hippware/wocky/issues/1388)
- Firebase Auth: Update your email delivery DNS records by 4/30/2018 [\#1387](https://github.com/hippware/wocky/issues/1387)
- Investigate calculation time for geofence mechanics [\#1364](https://github.com/hippware/wocky/issues/1364)

**Merged pull requests:**

- Further graphql [\#1392](https://github.com/hippware/wocky/pull/1392) ([bernardd](https://github.com/bernardd))
- Make enter/exit debounce configurable and set to 0 on testing [\#1390](https://github.com/hippware/wocky/pull/1390) ([bernardd](https://github.com/bernardd))
- 1384 graphql crashes [\#1389](https://github.com/hippware/wocky/pull/1389) ([bernardd](https://github.com/bernardd))

## [2018.3.29+r5cb3244](https://github.com/hippware/wocky/tree/2018.3.29+r5cb3244) (2018-03-29)

[Full Changelog](https://github.com/hippware/wocky/compare/2018.3.29+r6558ce9...2018.3.29+r5cb3244)

**Merged pull requests:**

- Formatting fix [\#1382](https://github.com/hippware/wocky/pull/1382) ([bernardd](https://github.com/bernardd))
- Fix callback more [\#1381](https://github.com/hippware/wocky/pull/1381) ([bernardd](https://github.com/bernardd))
- Fix field [\#1379](https://github.com/hippware/wocky/pull/1379) ([bernardd](https://github.com/bernardd))

## [2018.3.29+r6558ce9](https://github.com/hippware/wocky/tree/2018.3.29+r6558ce9) (2018-03-29)

[Full Changelog](https://github.com/hippware/wocky/compare/2018.3.23+r1de2b1c...2018.3.29+r6558ce9)

**Fixed bugs:**

- Test case in bot integration test suite is flapping [\#1343](https://github.com/hippware/wocky/issues/1343)

**Closed issues:**

- Update on Certificate Transparency with AWS Certificate Manager [\#1375](https://github.com/hippware/wocky/issues/1375)
- Subscription for bot updates [\#1369](https://github.com/hippware/wocky/issues/1369)
- GraphiQL docs discrepancy [\#1366](https://github.com/hippware/wocky/issues/1366)
- Verify that multicast addressing works for bot 'geofence' shares [\#1358](https://github.com/hippware/wocky/issues/1358)
- Unbreak location upload API [\#1354](https://github.com/hippware/wocky/issues/1354)
- Bot guest and visitor lists [\#1347](https://github.com/hippware/wocky/issues/1347)
- Remove the code supporting "follow me" functionality [\#1334](https://github.com/hippware/wocky/issues/1334)
- Geofence: Asynchronous updates \(discussion\) [\#1333](https://github.com/hippware/wocky/issues/1333)
- Geofence: request and response push notifications [\#1326](https://github.com/hippware/wocky/issues/1326)
- Geofence: geofence bot share [\#1325](https://github.com/hippware/wocky/issues/1325)
- Geofence: mechanics and entry/exit push notifications [\#1324](https://github.com/hippware/wocky/issues/1324)
- Geofence: Radius migration [\#1317](https://github.com/hippware/wocky/issues/1317)
- Geofence: Baseline [\#1312](https://github.com/hippware/wocky/issues/1312)
- Geofence epic \(server\) [\#1311](https://github.com/hippware/wocky/issues/1311)
- HS should not consume all xmpp notifications. [\#903](https://github.com/hippware/wocky/issues/903)
- Asynchronous notifications for bot publishing [\#895](https://github.com/hippware/wocky/issues/895)

**Merged pull requests:**

- 1335 graphql bots connection [\#1377](https://github.com/hippware/wocky/pull/1377) ([bernardd](https://github.com/bernardd))
- Remove @ from bot title in PNs [\#1374](https://github.com/hippware/wocky/pull/1374) ([bernardd](https://github.com/bernardd))
- Make geofence shares create a bot share object [\#1372](https://github.com/hippware/wocky/pull/1372) ([bernardd](https://github.com/bernardd))
- Add geofence to ref bot change trigger fields [\#1371](https://github.com/hippware/wocky/pull/1371) ([bernardd](https://github.com/bernardd))
- 1363 change perim event url [\#1365](https://github.com/hippware/wocky/pull/1365) ([bernardd](https://github.com/bernardd))

## [2018.3.23+r1de2b1c](https://github.com/hippware/wocky/tree/2018.3.23+r1de2b1c) (2018-03-23)

[Full Changelog](https://github.com/hippware/wocky/compare/2018.3.21+r9592c13...2018.3.23+r1de2b1c)

**Closed issues:**

- Discussion: HTML Bot Link [\#1318](https://github.com/hippware/wocky/issues/1318)

**Merged pull requests:**

- Redo geofence share push notification to match standard share [\#1360](https://github.com/hippware/wocky/pull/1360) ([bernardd](https://github.com/bernardd))
- Geofence subscription tweaks [\#1357](https://github.com/hippware/wocky/pull/1357) ([toland](https://github.com/toland))

## [2018.3.21+r9592c13](https://github.com/hippware/wocky/tree/2018.3.21+r9592c13) (2018-03-21)

[Full Changelog](https://github.com/hippware/wocky/compare/2018.3.20+r483b095...2018.3.21+r9592c13)

**Closed issues:**

- When bot is geofence enabled, bot owner should be a guest [\#1346](https://github.com/hippware/wocky/issues/1346)
- Review of DB notifications code [\#1332](https://github.com/hippware/wocky/issues/1332)
- Set up Dead Letter Queues for Lambda functions [\#1048](https://github.com/hippware/wocky/issues/1048)

**Merged pull requests:**

- Fix location api [\#1355](https://github.com/hippware/wocky/pull/1355) ([toland](https://github.com/toland))
- Fix race condition with user subscriptions [\#1353](https://github.com/hippware/wocky/pull/1353) ([bernardd](https://github.com/bernardd))
- Geofence mechanics [\#1352](https://github.com/hippware/wocky/pull/1352) ([toland](https://github.com/toland))
- 1326 geofence notifications [\#1351](https://github.com/hippware/wocky/pull/1351) ([bernardd](https://github.com/bernardd))
- Add HS capture and notification for geofence share operation [\#1350](https://github.com/hippware/wocky/pull/1350) ([bernardd](https://github.com/bernardd))

## [2018.3.20+r483b095](https://github.com/hippware/wocky/tree/2018.3.20+r483b095) (2018-03-20)

[Full Changelog](https://github.com/hippware/wocky/compare/2018.3.15+rb6cb8d3...2018.3.20+r483b095)

**Fixed bugs:**

- \[Wocky/testing\] Absinthe.ExecutionError: Invalid value returned from resolver.

Resolving field:

    users

Defined at:

    /opt/app/apps/wocky\_api/lib/wocky\_api/schema.ex:163

Resolving on:

    %{}

Got value:

    %Wocky.User{\_\_meta\_\_: \#Ecto.Schema.Metadata\<:loaded, "users"\>, avatar: "tros:localhost/file/e3d4d67e-1d77-11e8-aae9-0a580a0205af", bot\_events: \#Ecto.Association.NotLoaded\<association :bot\_events is not loaded\>, bots: \#Ecto.Association.NotLoaded\<association :bots is not loaded\>, conversatio... [\#1329](https://github.com/hippware/wocky/issues/1329)
- \[Wocky/testing\] Ecto.Query.CastError: deps/ecto/lib/ecto/repo/queryable.ex:348: value `"something"` cannot be dumped to type :binary\_id in query:

from u in Wocky.User,
  where: u.id == ^"something",
  select: u [\#1299](https://github.com/hippware/wocky/issues/1299)
- traffic\_log\_spec test flapping [\#1206](https://github.com/hippware/wocky/issues/1206)
- Duplicate handle error is rendered with a 500 error code [\#1199](https://github.com/hippware/wocky/issues/1199)
- \[Wocky/us1\] ErlangError: Erlang error: "IQ handler crash: jabber:iq:roster" [\#1183](https://github.com/hippware/wocky/issues/1183)
- Positive online presence not transmitted when accounts become friends [\#1165](https://github.com/hippware/wocky/issues/1165)
- Bot report and db maintenance failing due to mismatched db schema [\#1160](https://github.com/hippware/wocky/issues/1160)

**Security fixes:**

- Implement new user authentication protocol [\#1262](https://github.com/hippware/wocky/issues/1262)

**Closed issues:**

- Implement bot guest and visitor lists [\#1348](https://github.com/hippware/wocky/issues/1348)
- \[Wocky/staging\] Absinthe.ExecutionError: Invalid value returned from resolver.

Resolving field:

    users

Defined at:

    /opt/app/apps/wocky\_api/lib/wocky\_api/schema.ex:164

Resolving on:

    %{}

Got value:

    %Wocky.User{\_\_meta\_\_: \#Ecto.Schema.Metadata\<:loaded, "users"\>, avatar: "tros:5b28b19c-46fe-11e7-8211-0e2ac49618c7@staging.dev.tinyrobot.com/file/cfe0b69c-0bac-11e8-9856-0a580a0206c6", bot\_events: \#Ecto.Association.NotLoaded\<association :bot\_events is not loaded\>, bots: \#Ecto.Association.No... [\#1342](https://github.com/hippware/wocky/issues/1342)
- Fix 8k limit on DB notifications for watcher system [\#1327](https://github.com/hippware/wocky/issues/1327)
- \[Wocky/testing\] RuntimeError: IQ handler crash: hippware.com/hxep/user [\#1304](https://github.com/hippware/wocky/issues/1304)
- \[Wocky/staging\] RuntimeError: IQ handler crash: hippware.com/hxep/user [\#1300](https://github.com/hippware/wocky/issues/1300)
- Change format of conversation deep link [\#1281](https://github.com/hippware/wocky/issues/1281)
- Prototype a GraphQL API within Wocky using Absinthe [\#1278](https://github.com/hippware/wocky/issues/1278)
- Bot deletions not triggering live HS notifications for deleted items [\#1266](https://github.com/hippware/wocky/issues/1266)
- \[Wocky/testing\] ErlangError: Erlang error: "IQ handler crash: hippware.com/hxep/bot" [\#1264](https://github.com/hippware/wocky/issues/1264)
- \[Wocky/testing\] Ecto.ConstraintError: constraint error when attempting to insert struct:

    \* foreign\_key: tokens\_user\_id\_fkey

If you would like to convert this constraint into an error, please
call foreign\_key\_constraint/3 in your changeset and define the proper
constraint name. The changeset defined the following constraints:

    \* unique: PRIMARY [\#1263](https://github.com/hippware/wocky/issues/1263)
- Update MongooseIM to 2.1.1 [\#1248](https://github.com/hippware/wocky/issues/1248)
- Alert on push notification errors [\#1244](https://github.com/hippware/wocky/issues/1244)
- \[Wocky/testing\] ErlangError: Erlang error: "IQ handler crash: hippware.com/hxep/http-file" [\#1238](https://github.com/hippware/wocky/issues/1238)
- \[Wocky/testing\] ErlangError: Erlang error: "IQ handler crash: hippware.com/hxep/user" [\#1237](https://github.com/hippware/wocky/issues/1237)
- Investigate Postgres for FTS [\#1235](https://github.com/hippware/wocky/issues/1235)
- Change image readiness system to use DB callbacks [\#1230](https://github.com/hippware/wocky/issues/1230)
- When a bot post is deleted, referencing HS items should also be deleted [\#1227](https://github.com/hippware/wocky/issues/1227)
- Change bots to use DB callbacks [\#1225](https://github.com/hippware/wocky/issues/1225)
- \[Wocky/us1\] ErlangError: Erlang error: "IQ handler crash: hippware.com/hxep/publishing" [\#1222](https://github.com/hippware/wocky/issues/1222)
- When a bot is made private and unviewable, referencing HS items should be deleted [\#1208](https://github.com/hippware/wocky/issues/1208)
- Notify HS if a referenced bot's post count changes. [\#1182](https://github.com/hippware/wocky/issues/1182)
- Gracefully handle a missing user [\#1138](https://github.com/hippware/wocky/issues/1138)
- \[Wocky/testing\] ErlangError: Erlang error: "IQ handler crash: hippware.com/hxep/user" [\#1112](https://github.com/hippware/wocky/issues/1112)
- Implement DB modification callback system [\#1082](https://github.com/hippware/wocky/issues/1082)
- Pregenerate S3 urls for image and avatar tags [\#496](https://github.com/hippware/wocky/issues/496)

**Merged pull requests:**

- 1347 bot guest lists [\#1349](https://github.com/hippware/wocky/pull/1349) ([bernardd](https://github.com/bernardd))
- Stabilize flapping integration test, take two [\#1345](https://github.com/hippware/wocky/pull/1345) ([toland](https://github.com/toland))
- Try to stabilize a flapping integration test [\#1344](https://github.com/hippware/wocky/pull/1344) ([toland](https://github.com/toland))
- Validate user IDs in GraphQL query [\#1341](https://github.com/hippware/wocky/pull/1341) ([toland](https://github.com/toland))
- Fix missing home stream updates [\#1340](https://github.com/hippware/wocky/pull/1340) ([toland](https://github.com/toland))
- Set default bot radius to 100 [\#1339](https://github.com/hippware/wocky/pull/1339) ([toland](https://github.com/toland))
- Removed code supporting follow me [\#1338](https://github.com/hippware/wocky/pull/1338) ([toland](https://github.com/toland))

## [2018.3.15+rb6cb8d3](https://github.com/hippware/wocky/tree/2018.3.15+rb6cb8d3) (2018-03-15)

[Full Changelog](https://github.com/hippware/wocky/compare/2018.3.13+r56c7ba1...2018.3.15+rb6cb8d3)

**Closed issues:**

- \[Wocky/staging\] ErlangError: Erlang error: {:EXIT, \#PID\<0.3758.0\>, {:shutdown, {:error, :fatal, "57P01", :admin\_shutdown, "terminating connection due to administrator command", \[file: "postgres.c", line: "2875", routine: "ProcessInterrupts", severity: "FATAL"\]}}} [\#1313](https://github.com/hippware/wocky/issues/1313)
- \[Wocky/testing\] ErlangError: Erlang error: {:EXIT, \#PID\<0.3763.0\>, {:shutdown, {:error, :fatal, "57P01", :admin\_shutdown, "terminating connection due to administrator command", \[file: "postgres.c", line: "2875", routine: "ProcessInterrupts", severity: "FATAL"\]}}} [\#1308](https://github.com/hippware/wocky/issues/1308)

**Merged pull requests:**

- Geofence baseline [\#1331](https://github.com/hippware/wocky/pull/1331) ([toland](https://github.com/toland))

## [2018.3.13+r56c7ba1](https://github.com/hippware/wocky/tree/2018.3.13+r56c7ba1) (2018-03-13)

[Full Changelog](https://github.com/hippware/wocky/compare/2018.3.6+rcff91d2...2018.3.13+r56c7ba1)

**Security fixes:**

- Deleting a user should also delete the firebase record [\#1025](https://github.com/hippware/wocky/issues/1025)

**Closed issues:**

- Geofence: Edge triggered discussion [\#1319](https://github.com/hippware/wocky/issues/1319)
- Review: three HS delete events for every bot delete [\#1298](https://github.com/hippware/wocky/issues/1298)
- \[Wocky/testing\] MatchError: no match of right hand side value: \[%{attributes: \[\], body: "{\"table\":\"bots\",\"old\":null,\"new\":{\"user\_id\":\"41a483bc-183c-11e8-8f76-0a580a0206e8\",\"updated\_at\":\"2018-02-23T01:52:59.640378+00:00\",\"type\":\"\",\"title\":\"\",\"tags\":\[\],\"subscribers\_hash\":\"d41d8cd98f00b204e9800998ecf8427e\",\"subscribers\_count\":0,\"shortname\":null,\"server\":\"testing.dev.tinyrobot.com\",\"radius\":0,\"public\":false,\"pending\":true,\"location\":null,\"image\":null,\"id\":\"4... [\#1285](https://github.com/hippware/wocky/issues/1285)
- RFC: Server-client communications suggestions [\#1022](https://github.com/hippware/wocky/issues/1022)
- App badge to reflect number of unread messages [\#443](https://github.com/hippware/wocky/issues/443)
- Create a post-deployment smoke test [\#244](https://github.com/hippware/wocky/issues/244)

**Merged pull requests:**

- Rework watcher to use intermediate table [\#1328](https://github.com/hippware/wocky/pull/1328) ([bernardd](https://github.com/bernardd))
- Fix FTS tests to account for handle [\#1323](https://github.com/hippware/wocky/pull/1323) ([bernardd](https://github.com/bernardd))
- New authentication protocol [\#1316](https://github.com/hippware/wocky/pull/1316) ([toland](https://github.com/toland))
- Apply 'mix format' [\#1315](https://github.com/hippware/wocky/pull/1315) ([bernardd](https://github.com/bernardd))
- 1235 postgres user search [\#1314](https://github.com/hippware/wocky/pull/1314) ([bernardd](https://github.com/bernardd))

## [2018.3.6+rcff91d2](https://github.com/hippware/wocky/tree/2018.3.6+rcff91d2) (2018-03-06)

[Full Changelog](https://github.com/hippware/wocky/compare/2018.2.23+r433c862...2018.3.6+rcff91d2)

**Security fixes:**

- Place a load balancer and new ssl certificate in front of the website [\#1257](https://github.com/hippware/wocky/issues/1257)

**Closed issues:**

- \[Wocky/testing\] RuntimeError: IQ handler crash: hippware.com/hxep/user [\#1305](https://github.com/hippware/wocky/issues/1305)
- Please remove @miranda from HS prepopulation on Staging [\#1290](https://github.com/hippware/wocky/issues/1290)
- \[Wocky/staging\] ErlangError: Erlang error: {:timeout, {:gen\_server, :call, \[\#PID\<0.3467.0\>, {:squery, \["BEGIN;"\]}, 5000\]}} [\#1271](https://github.com/hippware/wocky/issues/1271)
- Evaluate best practices for wordpress scalability and deployment [\#1265](https://github.com/hippware/wocky/issues/1265)
- Website: favicon, metadata image [\#1259](https://github.com/hippware/wocky/issues/1259)
- Move the website server into the main IT infrastructure [\#1228](https://github.com/hippware/wocky/issues/1228)

**Merged pull requests:**

- Fix unique key issue with user disabling [\#1306](https://github.com/hippware/wocky/pull/1306) ([bernardd](https://github.com/bernardd))
- Fix a client authentication issue [\#1303](https://github.com/hippware/wocky/pull/1303) ([toland](https://github.com/toland))
- Prevent re-authentication of a user who has been deleted [\#1302](https://github.com/hippware/wocky/pull/1302) ([bernardd](https://github.com/bernardd))
- Explicitly add inets application [\#1301](https://github.com/hippware/wocky/pull/1301) ([bernardd](https://github.com/bernardd))
- Injecting a non-latest release 3ad256c into the changelog [\#1297](https://github.com/hippware/wocky/pull/1297) ([bengtan](https://github.com/bengtan))
- Fix regressions after auth refactor [\#1296](https://github.com/hippware/wocky/pull/1296) ([toland](https://github.com/toland))
- Rework image notification system to use DB watcher [\#1295](https://github.com/hippware/wocky/pull/1295) ([bernardd](https://github.com/bernardd))
- Add unfriend/2 function [\#1294](https://github.com/hippware/wocky/pull/1294) ([bernardd](https://github.com/bernardd))
- Add post-based HS item tracking/deletion [\#1292](https://github.com/hippware/wocky/pull/1292) ([bernardd](https://github.com/bernardd))
- Account refactoring [\#1291](https://github.com/hippware/wocky/pull/1291) ([toland](https://github.com/toland))
- Fix conversation deep link format [\#1289](https://github.com/hippware/wocky/pull/1289) ([toland](https://github.com/toland))
- Catch and report errors in watcher CB [\#1288](https://github.com/hippware/wocky/pull/1288) ([bernardd](https://github.com/bernardd))

## [2018.2.23+r433c862](https://github.com/hippware/wocky/tree/2018.2.23+r433c862) (2018-02-23)

[Full Changelog](https://github.com/hippware/wocky/compare/2018.1.17+r1173119...2018.2.23+r433c862)

**Fixed bugs:**

- Push notifications: The SSL connection timed out [\#1236](https://github.com/hippware/wocky/issues/1236)

**Security fixes:**

- Discussion of 'Authentication proposal' [\#1276](https://github.com/hippware/wocky/issues/1276)
- Design and document user authentication protocol [\#1261](https://github.com/hippware/wocky/issues/1261)
- Alarm or warning for ssl certificate expiry [\#1256](https://github.com/hippware/wocky/issues/1256)
- Use a security tool to audit our infrastructure [\#1143](https://github.com/hippware/wocky/issues/1143)
- Research token-based authentication systems [\#1055](https://github.com/hippware/wocky/issues/1055)
- Cryptographic verification of client [\#821](https://github.com/hippware/wocky/issues/821)
- Create client version tracking and restriction [\#487](https://github.com/hippware/wocky/issues/487)

**Closed issues:**

- Please remove @miranda from auto-follow on Staging [\#1280](https://github.com/hippware/wocky/issues/1280)
- \[Wocky/testing\] ErlangError: Erlang error: "IQ handler crash: hippware.com/hxep/bot" [\#1260](https://github.com/hippware/wocky/issues/1260)
- SSL certificate on Prod server has expired. [\#1255](https://github.com/hippware/wocky/issues/1255)
- Website ssl certificate to be renewed or replaced by March 2018 [\#1252](https://github.com/hippware/wocky/issues/1252)
- Discussion about pre-generated URLs [\#1250](https://github.com/hippware/wocky/issues/1250)
- Align with 'HS biz logic' [\#1175](https://github.com/hippware/wocky/issues/1175)

**Merged pull requests:**

- Update watcher version [\#1286](https://github.com/hippware/wocky/pull/1286) ([bernardd](https://github.com/bernardd))
- More watcher deploy fixes [\#1284](https://github.com/hippware/wocky/pull/1284) ([bernardd](https://github.com/bernardd))
- Launch fixes for watcher app [\#1283](https://github.com/hippware/wocky/pull/1283) ([bernardd](https://github.com/bernardd))
- Add deployment for wocky watcher [\#1282](https://github.com/hippware/wocky/pull/1282) ([bernardd](https://github.com/bernardd))
- Prototype GraphQL API [\#1279](https://github.com/hippware/wocky/pull/1279) ([toland](https://github.com/toland))
- Small fixes for dev mode [\#1277](https://github.com/hippware/wocky/pull/1277) ([toland](https://github.com/toland))
- Remove a pile of reundant comments from mod\_wocky\_mam [\#1275](https://github.com/hippware/wocky/pull/1275) ([bernardd](https://github.com/bernardd))
- Add extra tests for HS notifications [\#1274](https://github.com/hippware/wocky/pull/1274) ([bernardd](https://github.com/bernardd))
- Dialyzer fixes [\#1273](https://github.com/hippware/wocky/pull/1273) ([bernardd](https://github.com/bernardd))
- 1225 db callbacks [\#1272](https://github.com/hippware/wocky/pull/1272) ([bernardd](https://github.com/bernardd))
- Update prod SSL cert [\#1270](https://github.com/hippware/wocky/pull/1270) ([bernardd](https://github.com/bernardd))
- Update MongooseIM to 2.1.1 [\#1268](https://github.com/hippware/wocky/pull/1268) ([toland](https://github.com/toland))
- 1226 v2 db callbacks [\#1267](https://github.com/hippware/wocky/pull/1267) ([bernardd](https://github.com/bernardd))
- Better PN error logging [\#1258](https://github.com/hippware/wocky/pull/1258) ([toland](https://github.com/toland))
- Two minor Docker-related changes [\#1254](https://github.com/hippware/wocky/pull/1254) ([toland](https://github.com/toland))
- Code formatting and Credo [\#1253](https://github.com/hippware/wocky/pull/1253) ([toland](https://github.com/toland))
- Elixir 1.6 [\#1246](https://github.com/hippware/wocky/pull/1246) ([toland](https://github.com/toland))

## [2018.1.17+r1173119](https://github.com/hippware/wocky/tree/2018.1.17+r1173119) (2018-01-16)

[Full Changelog](https://github.com/hippware/wocky/compare/2018.1.15+r5e2d786...2018.1.17+r1173119)

**Closed issues:**

- Database maintenance tasks [\#788](https://github.com/hippware/wocky/issues/788)

**Merged pull requests:**

- Return an error for upload request for a missing user [\#1242](https://github.com/hippware/wocky/pull/1242) ([toland](https://github.com/toland))
- Return an error when the contacts RSM id isn't valid [\#1241](https://github.com/hippware/wocky/pull/1241) ([toland](https://github.com/toland))
- Return an error when updating a nonexistent user [\#1240](https://github.com/hippware/wocky/pull/1240) ([toland](https://github.com/toland))
- Fix a warning from Phoenix in the log files [\#1239](https://github.com/hippware/wocky/pull/1239) ([toland](https://github.com/toland))

## [2018.1.15+r5e2d786](https://github.com/hippware/wocky/tree/2018.1.15+r5e2d786) (2018-01-15)

[Full Changelog](https://github.com/hippware/wocky/compare/2017.12.19+r861dd8b...2018.1.15+r5e2d786)

**Fixed bugs:**

- Rewrite deployment functionality [\#1191](https://github.com/hippware/wocky/issues/1191)
- Push notification deep linking bugs [\#1185](https://github.com/hippware/wocky/issues/1185)
- Wocky crashes when querying with an improperly formed UUID [\#1181](https://github.com/hippware/wocky/issues/1181)
- Conversations appearing out of order [\#1179](https://github.com/hippware/wocky/issues/1179)
- Auto following does not indicate followers as new [\#1176](https://github.com/hippware/wocky/issues/1176)
- Fix up stream management \(session storage\) [\#1166](https://github.com/hippware/wocky/issues/1166)
- Large number of badarg errors in log files [\#1149](https://github.com/hippware/wocky/issues/1149)
- DB disconnections during integration tests [\#724](https://github.com/hippware/wocky/issues/724)

**Security fixes:**

- A Private bot should unsubscribe users who can no longer view it [\#1019](https://github.com/hippware/wocky/issues/1019)
- Security: Need to remove contents of bot title/description \(notes\) in order to avoid compromising privacy [\#950](https://github.com/hippware/wocky/issues/950)

**Closed issues:**

- \[Wocky/testing\] FunctionClauseError: no function clause matches [\#1220](https://github.com/hippware/wocky/issues/1220)
- \[Wocky/staging\] FunctionClauseError: no function clause matches [\#1219](https://github.com/hippware/wocky/issues/1219)
- \[Wocky/us1\] FunctionClauseError: no function clause matches [\#1218](https://github.com/hippware/wocky/issues/1218)
- \[Wocky/us1\] ErlangError: Erlang error: "IQ handler crash: hippware.com/hxep/publishing" [\#1217](https://github.com/hippware/wocky/issues/1217)
- \[Wocky/testing\] ErlangError: Erlang error: {:tcp\_close, {:gen\_server, :call, \[\#PID\<0.3492.0\>, {:squery, \["select password, pass\_details from users where username='", "ef5c2158-e570-11e7-9485-0a580a020526", "';"\]}, 5000\]}} [\#1213](https://github.com/hippware/wocky/issues/1213)
- Subscribed but invisible bots still present in DB [\#1211](https://github.com/hippware/wocky/issues/1211)
- Document HS catchup command [\#1200](https://github.com/hippware/wocky/issues/1200)
- \[Wocky/staging\] ErlangError: Erlang error: {:init, {:error, :timeout}} [\#1196](https://github.com/hippware/wocky/issues/1196)
- \[Wocky/staging\] ErlangError: Erlang error: :tcp\_close [\#1195](https://github.com/hippware/wocky/issues/1195)
- Add HS catchup command [\#1189](https://github.com/hippware/wocky/issues/1189)
- Add a push notification for new followers [\#1186](https://github.com/hippware/wocky/issues/1186)
- Reduce geosearch to simpler calculations [\#1184](https://github.com/hippware/wocky/issues/1184)
- \(HS\) Publishing: Flag 'too many updates' error [\#1177](https://github.com/hippware/wocky/issues/1177)
- Add infrastructure for metrics collection [\#1137](https://github.com/hippware/wocky/issues/1137)
- Remove deprecated push tables and config settings [\#1136](https://github.com/hippware/wocky/issues/1136)
- Change object fields to custom elements [\#1132](https://github.com/hippware/wocky/issues/1132)
- Add deep links to push notifications [\#1099](https://github.com/hippware/wocky/issues/1099)

**Merged pull requests:**

- Codeship updates [\#1233](https://github.com/hippware/wocky/pull/1233) ([toland](https://github.com/toland))
- Deployment updates [\#1232](https://github.com/hippware/wocky/pull/1232) ([toland](https://github.com/toland))
- Tros pregen urls [\#1229](https://github.com/hippware/wocky/pull/1229) ([bernardd](https://github.com/bernardd))
- Initial DB watcher/callback implementation [\#1226](https://github.com/hippware/wocky/pull/1226) ([bernardd](https://github.com/bernardd))
- Fix crash on invalid contact\_id [\#1224](https://github.com/hippware/wocky/pull/1224) ([bernardd](https://github.com/bernardd))
- Handle invalid publishing versions gracefully [\#1223](https://github.com/hippware/wocky/pull/1223) ([bernardd](https://github.com/bernardd))
- Quick fixes for the weekly job [\#1221](https://github.com/hippware/wocky/pull/1221) ([toland](https://github.com/toland))
- Defer deletion of user to allow for completion of operations [\#1216](https://github.com/hippware/wocky/pull/1216) ([bernardd](https://github.com/bernardd))
- Increase sandbox timeout to prevent errors during ct tests [\#1215](https://github.com/hippware/wocky/pull/1215) ([bernardd](https://github.com/bernardd))
- Change user conflict error code [\#1214](https://github.com/hippware/wocky/pull/1214) ([bernardd](https://github.com/bernardd))
- Update ejabberd and tests to support improved presence reporting [\#1212](https://github.com/hippware/wocky/pull/1212) ([bernardd](https://github.com/bernardd))
- Update reference bot when items are deleted [\#1210](https://github.com/hippware/wocky/pull/1210) ([bernardd](https://github.com/bernardd))
- Fix intermittant failure on traffic\_log test [\#1209](https://github.com/hippware/wocky/pull/1209) ([bernardd](https://github.com/bernardd))

## [2017.12.19+r861dd8b](https://github.com/hippware/wocky/tree/2017.12.19+r861dd8b) (2017-12-19)

[Full Changelog](https://github.com/hippware/wocky/compare/2017.12.18+r6eb2a57...2017.12.19+r861dd8b)

**Closed issues:**

- AWS infrastructure alerts [\#1003](https://github.com/hippware/wocky/issues/1003)

**Merged pull requests:**

- Rewrite deployment [\#1207](https://github.com/hippware/wocky/pull/1207) ([toland](https://github.com/toland))

## [2017.12.18+r6eb2a57](https://github.com/hippware/wocky/tree/2017.12.18+r6eb2a57) (2017-12-18)

[Full Changelog](https://github.com/hippware/wocky/compare/2017.12.15+r2eb3b42...2017.12.18+r6eb2a57)

**Closed issues:**

- Action required: Amazon RDS Maintenance \[AWS Account: redacted\] [\#1180](https://github.com/hippware/wocky/issues/1180)

**Merged pull requests:**

- 1177 publishing catchup limit [\#1205](https://github.com/hippware/wocky/pull/1205) ([bernardd](https://github.com/bernardd))
- Clean up module startup order and system [\#1204](https://github.com/hippware/wocky/pull/1204) ([bernardd](https://github.com/bernardd))
- Add \_\_new\_\_ group to initial contacts [\#1203](https://github.com/hippware/wocky/pull/1203) ([bernardd](https://github.com/bernardd))
- 1181 fix invalid id crash [\#1202](https://github.com/hippware/wocky/pull/1202) ([bernardd](https://github.com/bernardd))
- Simplify explore-nearby filter per business requirements [\#1201](https://github.com/hippware/wocky/pull/1201) ([bernardd](https://github.com/bernardd))
- Scrub sensitive information from the bot report [\#1198](https://github.com/hippware/wocky/pull/1198) ([toland](https://github.com/toland))
- 1132 change fields to custom [\#1197](https://github.com/hippware/wocky/pull/1197) ([bernardd](https://github.com/bernardd))

## [2017.12.15+r2eb3b42](https://github.com/hippware/wocky/tree/2017.12.15+r2eb3b42) (2017-12-15)

[Full Changelog](https://github.com/hippware/wocky/compare/2017.12.8+rff2d0b5...2017.12.15+r2eb3b42)

**Fixed bugs:**

- Intermittent connectivity issues with K8s API servers [\#1164](https://github.com/hippware/wocky/issues/1164)
- Kube scheduled all of the wocky pods on the same node [\#1158](https://github.com/hippware/wocky/issues/1158)
- Push notifications fail due to missing topic [\#1147](https://github.com/hippware/wocky/issues/1147)

**Security fixes:**

- What should happen to bots when a user is deleted? [\#1140](https://github.com/hippware/wocky/issues/1140)

**Closed issues:**

- \[Wocky/us1\] ErlangError: Erlang error: {:init, {:error, :timeout}} [\#1188](https://github.com/hippware/wocky/issues/1188)
- \[Wocky/us1\] ErlangError: Erlang error: :tcp\_close [\#1187](https://github.com/hippware/wocky/issues/1187)
- Register .bot domains [\#1157](https://github.com/hippware/wocky/issues/1157)
- Allow explore-nearby to take a rectangle instead of a radius [\#1135](https://github.com/hippware/wocky/issues/1135)
- Retreiving list of subscribed bots should omit owned bots [\#1131](https://github.com/hippware/wocky/issues/1131)
- Add RSM support to bot subscriber list retrieval [\#1125](https://github.com/hippware/wocky/issues/1125)
- Rework \(v2\) / Revert \(HS\) Publishing protocol [\#1123](https://github.com/hippware/wocky/issues/1123)
- Add roles to roster response [\#1118](https://github.com/hippware/wocky/issues/1118)
- Replace Mnesia as the MIM session store with Redis [\#1107](https://github.com/hippware/wocky/issues/1107)
- Specify timzeone for DB timestamp columns [\#1097](https://github.com/hippware/wocky/issues/1097)
- \[Wocky/testing\] ArgumentError: argument error [\#1088](https://github.com/hippware/wocky/issues/1088)
- More push notification diagnostics [\#1087](https://github.com/hippware/wocky/issues/1087)
- Implement new user validation rules \(server\) [\#1086](https://github.com/hippware/wocky/issues/1086)
- Avatars being wiped when other, non-avatar user changes are made [\#1084](https://github.com/hippware/wocky/issues/1084)
- Adjust prepopulation logic to four weeks, min 10 items [\#1081](https://github.com/hippware/wocky/issues/1081)
- \[Wocky/us1\] ErlangError: erlang error: "IQ handler crash: hippware.com/hxep/bot" [\#1076](https://github.com/hippware/wocky/issues/1076)
- Rework \(HS\) Publishing protocol [\#1043](https://github.com/hippware/wocky/issues/1043)
- Do something about subscriber+hash \(bot field\) [\#1038](https://github.com/hippware/wocky/issues/1038)
- If a bot changes, all referencing HS items should be updated [\#1026](https://github.com/hippware/wocky/issues/1026)
- A convenient way to update auto follow users and the system user together [\#992](https://github.com/hippware/wocky/issues/992)
- HS items to include bot object if relevant [\#962](https://github.com/hippware/wocky/issues/962)

**Merged pull requests:**

- Dialyzer fix [\#1194](https://github.com/hippware/wocky/pull/1194) ([bernardd](https://github.com/bernardd))
- Add a push notification for new followers [\#1193](https://github.com/hippware/wocky/pull/1193) ([toland](https://github.com/toland))
- Use bare JIDs when searching for conversation IDs [\#1192](https://github.com/hippware/wocky/pull/1192) ([toland](https://github.com/toland))
- Add catchup command for publishing interface [\#1190](https://github.com/hippware/wocky/pull/1190) ([bernardd](https://github.com/bernardd))
- Fix updated\_at on updated conversations [\#1178](https://github.com/hippware/wocky/pull/1178) ([bernardd](https://github.com/bernardd))
- Port MIM stream management storage to Redis [\#1174](https://github.com/hippware/wocky/pull/1174) ([toland](https://github.com/toland))

## [2017.12.8+rff2d0b5](https://github.com/hippware/wocky/tree/2017.12.8+rff2d0b5) (2017-12-08)

[Full Changelog](https://github.com/hippware/wocky/compare/2017.12.1+r3ea2504...2017.12.8+rff2d0b5)

**Fixed bugs:**

- fluentd pod crashlooping [\#1159](https://github.com/hippware/wocky/issues/1159)
- Writing push notification logs fails on staging [\#1148](https://github.com/hippware/wocky/issues/1148)

**Closed issues:**

- \[Wocky/us1\] ArgumentError: query %Postgrex.Query{columns: \["id", "username", "server", "provider", "external\_id", "handle", "avatar", "first\_name", "last\_name", "phone\_number", "email", "tagline", "password", "pass\_details", "roles", "welcome\_sent", "created\_at", "updated\_at"\], name: "ecto\_674", param\_formats: \[:binary, :binary\], param\_oids: \[25, 25\], param\_types: \[Postgrex.Extensions.Raw, Postgrex.Extensions.Raw\], ref: \#Reference\<0.1503905954.2656305153.25154\>, result\_formats: \[:binary, :binary, :binary... [\#1173](https://github.com/hippware/wocky/issues/1173)
- \[Wocky/us1\] ErlangError: Erlang error: "IQ handler crash: hippware.com/hxep/bot" [\#1172](https://github.com/hippware/wocky/issues/1172)
- \[Wocky/us1\] DBConnection.ConnectionError: tcp recv: closed [\#1171](https://github.com/hippware/wocky/issues/1171)
- Deploy 2017.12.1+r3ea2504 to us1 [\#1167](https://github.com/hippware/wocky/issues/1167)
- Kubernetes alerts [\#1162](https://github.com/hippware/wocky/issues/1162)
- Create a bot, any bot [\#1154](https://github.com/hippware/wocky/issues/1154)
- Allow client to control max number of async updates sent to it [\#1095](https://github.com/hippware/wocky/issues/1095)
- Add the website to the monitoring regime [\#1059](https://github.com/hippware/wocky/issues/1059)
- Remove \<exclude-deleted\> flag [\#1011](https://github.com/hippware/wocky/issues/1011)
- Tickets related to async xmpp notifications [\#1006](https://github.com/hippware/wocky/issues/1006)
- Improve integration tests to catch crashes [\#902](https://github.com/hippware/wocky/issues/902)
- Paging on non-existent item should return error \(RSM\).  [\#449](https://github.com/hippware/wocky/issues/449)

**Merged pull requests:**

- Add Prometheus metrics collection [\#1170](https://github.com/hippware/wocky/pull/1170) ([toland](https://github.com/toland))
- Add plumbing for PN deep links [\#1169](https://github.com/hippware/wocky/pull/1169) ([toland](https://github.com/toland))
- Clean up old push notification artifacts [\#1168](https://github.com/hippware/wocky/pull/1168) ([toland](https://github.com/toland))
- Don't colocate Wocky containers from the same env [\#1163](https://github.com/hippware/wocky/pull/1163) ([toland](https://github.com/toland))
- Add trigger for bots becoming private to remove subscribers [\#1156](https://github.com/hippware/wocky/pull/1156) ([bernardd](https://github.com/bernardd))
- Add tests to clarify RSM behaviour in certain cases [\#1153](https://github.com/hippware/wocky/pull/1153) ([bernardd](https://github.com/bernardd))
- 902 force test crash failure [\#1152](https://github.com/hippware/wocky/pull/1152) ([bernardd](https://github.com/bernardd))

## [2017.12.1+r3ea2504](https://github.com/hippware/wocky/tree/2017.12.1+r3ea2504) (2017-12-01)

[Full Changelog](https://github.com/hippware/wocky/compare/2017.11.3+r5c0a757...2017.12.1+r3ea2504)

**Fixed bugs:**

- Investigate dead image URLs [\#852](https://github.com/hippware/wocky/issues/852)
- PEP notifications should have a bare JID in the 'from' field [\#420](https://github.com/hippware/wocky/issues/420)
- Incorrect treatment of bot publishing delete notifications [\#320](https://github.com/hippware/wocky/issues/320)

**Closed issues:**

- Push Notifications [\#1139](https://github.com/hippware/wocky/issues/1139)
- Review bot publishing protocol. Possibly unify with HS. [\#1122](https://github.com/hippware/wocky/issues/1122)
- Add `new` attribute for new HS item async updates [\#1114](https://github.com/hippware/wocky/issues/1114)
- Traffic logs sometimes not recording push notification deregistration response [\#1109](https://github.com/hippware/wocky/issues/1109)
- \[Wocky/load\] ErlangError: Erlang error: {:error, :etimedout} [\#1105](https://github.com/hippware/wocky/issues/1105)
- \[Wocky/load\] ArgumentError: argument error [\#1104](https://github.com/hippware/wocky/issues/1104)
- \[Wocky/load\] ArgumentError: argument error [\#1103](https://github.com/hippware/wocky/issues/1103)
- \[Wocky/testing\] Ecto.ConstraintError: constraint error when attempting to insert struct:

    \* foreign\_key: tokens\_user\_id\_fkey

If you would like to convert this constraint into an error, please
call foreign\_key\_constraint/3 in your changeset and define the proper
constraint name. The changeset defined the following constraints:

    \* unique: PRIMARY [\#1102](https://github.com/hippware/wocky/issues/1102)
- \[Wocky/testing\] ErlangError: Erlang error: "IQ handler crash: hippware.com/hxep/http-file" [\#1101](https://github.com/hippware/wocky/issues/1101)
- Possible anomalies in Staging traffic\_logs re: presence [\#1098](https://github.com/hippware/wocky/issues/1098)
- \[Wocky/staging\] Bamboo.MandrillAdapter.ApiError: :timeout [\#1092](https://github.com/hippware/wocky/issues/1092)
- \[Wocky/staging\] ArgumentError: argument error [\#1091](https://github.com/hippware/wocky/issues/1091)
- \[Wocky/us1\] ArgumentError: argument error [\#1090](https://github.com/hippware/wocky/issues/1090)
- \[Wocky/load\] ArgumentError: argument error [\#1089](https://github.com/hippware/wocky/issues/1089)
- \[Wocky/staging\] ErlangError: Erlang error: "IQ handler crash: hippware.com/hxep/bot" [\#1083](https://github.com/hippware/wocky/issues/1083)
- \[Wocky/us1\] Postgrex.Error: ERROR 42703 \(undefined\_column\): column d0.invalid does not exist [\#1080](https://github.com/hippware/wocky/issues/1080)
- Unexpectedly long delays in async HS delete notifications upon deleting a bot [\#1063](https://github.com/hippware/wocky/issues/1063)
- HS prepopulation is not working on Staging [\#1062](https://github.com/hippware/wocky/issues/1062)
- HS prepopulation user to follow a couple more accounts. [\#1060](https://github.com/hippware/wocky/issues/1060)
- \[Wocky/testing\] ErlangError: Erlang error: :tcp\_close [\#1058](https://github.com/hippware/wocky/issues/1058)
- Validation of user handle should not allow spaces [\#1054](https://github.com/hippware/wocky/issues/1054)
- Clean up logs to make Loggly work better [\#1053](https://github.com/hippware/wocky/issues/1053)
- \[Wocky/us1\] ErlangError: erlang error: {:process\_limit, {:max\_queue, 2509}} [\#1045](https://github.com/hippware/wocky/issues/1045)
- Push notifications improvement and more logging [\#1044](https://github.com/hippware/wocky/issues/1044)
- Paged retrieval of user's contacts gives dubious results [\#1041](https://github.com/hippware/wocky/issues/1041)
- \[Wocky/staging\] ErlangError: erlang error: "IQ handler crash: hippware.com/hxep/user" [\#1037](https://github.com/hippware/wocky/issues/1037)
- Server and infrastructure monitoring [\#1033](https://github.com/hippware/wocky/issues/1033)
- HS prepopulation user is appearing in list of followers [\#1028](https://github.com/hippware/wocky/issues/1028)
- Add owner field to \(old\) geosearch api [\#1023](https://github.com/hippware/wocky/issues/1023)
- Restore Slack deployment notifications [\#1017](https://github.com/hippware/wocky/issues/1017)
- Setup the weekly bot reports to run [\#1013](https://github.com/hippware/wocky/issues/1013)
- Run ejabberd commands using a custom Distillery command [\#999](https://github.com/hippware/wocky/issues/999)
- Load test the Wocky server [\#997](https://github.com/hippware/wocky/issues/997)
- \[Wocky/testing\] ErlangError: erlang error: "IQ handler crash: jabber:iq:roster" [\#981](https://github.com/hippware/wocky/issues/981)
- Clarify bot subscription system [\#896](https://github.com/hippware/wocky/issues/896)
- Review and align validation of user email and name fields [\#846](https://github.com/hippware/wocky/issues/846)
- Bot temporary subscriptions should use the wocky\_publishing interface [\#777](https://github.com/hippware/wocky/issues/777)
- Many IQ errors in log files [\#735](https://github.com/hippware/wocky/issues/735)
- Review push notification registration handling [\#654](https://github.com/hippware/wocky/issues/654)
- Changes to bot object to be sent to subscribers and owners [\#644](https://github.com/hippware/wocky/issues/644)
- Push notifications x5 [\#605](https://github.com/hippware/wocky/issues/605)
- Make TROS comply with XEP-0363 [\#486](https://github.com/hippware/wocky/issues/486)
- Discussion: Replace our token implementation with the one in MIM 2.0 [\#469](https://github.com/hippware/wocky/issues/469)
- Add a timestamp to each message stanza [\#398](https://github.com/hippware/wocky/issues/398)
- Owner deletion on OPEN visibility bots not handled [\#329](https://github.com/hippware/wocky/issues/329)
- Tool to simulate or inject a user's location [\#251](https://github.com/hippware/wocky/issues/251)
- Use JWT tokens for token auth [\#172](https://github.com/hippware/wocky/issues/172)
- Run tests with shell open [\#161](https://github.com/hippware/wocky/issues/161)

**Merged pull requests:**

- Add topic to push notifications [\#1151](https://github.com/hippware/wocky/pull/1151) ([toland](https://github.com/toland))
- 1135 explore nearby rectangle [\#1146](https://github.com/hippware/wocky/pull/1146) ([bernardd](https://github.com/bernardd))
- Exclude owned bots from returned lists of subscribed bots \(unless they're also subscribed to\) [\#1144](https://github.com/hippware/wocky/pull/1144) ([bernardd](https://github.com/bernardd))
- Always use sphereoid for distance sorting [\#1134](https://github.com/hippware/wocky/pull/1134) ([bernardd](https://github.com/bernardd))
- Add Special user module [\#1133](https://github.com/hippware/wocky/pull/1133) ([bernardd](https://github.com/bernardd))
- Update mix\_ct and enable fail\_auto\_skip [\#1130](https://github.com/hippware/wocky/pull/1130) ([bernardd](https://github.com/bernardd))
- Fix config typo [\#1129](https://github.com/hippware/wocky/pull/1129) ([bernardd](https://github.com/bernardd))
- 1038/1125 - Bot subscribers hash and RSM [\#1128](https://github.com/hippware/wocky/pull/1128) ([bernardd](https://github.com/bernardd))
- Convert wocky\_api to Phoenix [\#1127](https://github.com/hippware/wocky/pull/1127) ([toland](https://github.com/toland))
- Fix regression in xmpp\_reg\_SUITE [\#1126](https://github.com/hippware/wocky/pull/1126) ([toland](https://github.com/toland))
- Hs rework 2 [\#1124](https://github.com/hippware/wocky/pull/1124) ([bernardd](https://github.com/bernardd))
- Quick fix for bot integration tests [\#1121](https://github.com/hippware/wocky/pull/1121) ([bernardd](https://github.com/bernardd))
- Push notification diagnostics [\#1120](https://github.com/hippware/wocky/pull/1120) ([toland](https://github.com/toland))
- Add role list to roster items [\#1119](https://github.com/hippware/wocky/pull/1119) ([bernardd](https://github.com/bernardd))
- Add migration to remove user FK constraint on traffic\_logs [\#1117](https://github.com/hippware/wocky/pull/1117) ([bernardd](https://github.com/bernardd))
- Various fixes to ensure tests run cleanly [\#1116](https://github.com/hippware/wocky/pull/1116) ([bernardd](https://github.com/bernardd))
- Add `new` attribute to HS async updates [\#1115](https://github.com/hippware/wocky/pull/1115) ([bernardd](https://github.com/bernardd))
- Block handles containing reserved words [\#1113](https://github.com/hippware/wocky/pull/1113) ([bernardd](https://github.com/bernardd))
- 1081 adjust prepop items [\#1111](https://github.com/hippware/wocky/pull/1111) ([bernardd](https://github.com/bernardd))
- Fix lat/lon swap in GeoUtils.point [\#1110](https://github.com/hippware/wocky/pull/1110) ([bernardd](https://github.com/bernardd))
- Add more validations for handles and names [\#1108](https://github.com/hippware/wocky/pull/1108) ([bernardd](https://github.com/bernardd))
- Redis [\#1106](https://github.com/hippware/wocky/pull/1106) ([bernardd](https://github.com/bernardd))
- UTC timestamps [\#1100](https://github.com/hippware/wocky/pull/1100) ([toland](https://github.com/toland))
- Add friend and follow ops [\#1096](https://github.com/hippware/wocky/pull/1096) ([bernardd](https://github.com/bernardd))
- 1026 bot hs updates [\#1094](https://github.com/hippware/wocky/pull/1094) ([bernardd](https://github.com/bernardd))
- Update tzdata version [\#1093](https://github.com/hippware/wocky/pull/1093) ([bernardd](https://github.com/bernardd))
- Fix incorrect deletion of avatar [\#1085](https://github.com/hippware/wocky/pull/1085) ([bernardd](https://github.com/bernardd))
- 962 Add bots as extra data to home stream stanzas [\#1079](https://github.com/hippware/wocky/pull/1079) ([bernardd](https://github.com/bernardd))
- 1043 publishing rework [\#1078](https://github.com/hippware/wocky/pull/1078) ([bernardd](https://github.com/bernardd))
- Set timeout of Algolia geosearch call to 30s [\#1077](https://github.com/hippware/wocky/pull/1077) ([toland](https://github.com/toland))
- Update the staging SSL certificate [\#1075](https://github.com/hippware/wocky/pull/1075) ([toland](https://github.com/toland))

## [2017.11.3+r5c0a757](https://github.com/hippware/wocky/tree/2017.11.3+r5c0a757) (2017-11-03)

[Full Changelog](https://github.com/hippware/wocky/compare/2017.10.24+ra8aefef...2017.11.3+r5c0a757)

**Closed issues:**

- \[Wocky/load\] ErlangError: Erlang error: {:bad\_return, {{:wocky\_xmpp\_app, :start, \[:normal, \[\]\]}, {:EXIT, {{:badmatch, {:error, {48, :erl\_parse, \['syntax error before: ', '\'\]\''\]}}}, \[{:wocky\_xmpp\_app, :load\_xmpp\_config, 0, \[file: 'src/wocky\_xmpp\_app.erl', line: 90\]}, {:wocky\_xmpp\_app, :start, 2, \[file: 'src/wocky\_xmpp\_app.erl', line: 67\]}, {:application\_master, :start\_it\_old, 4, \[file: 'application\_master.erl', line: 273\]}\]}}}} [\#1064](https://github.com/hippware/wocky/issues/1064)
- Geo-search rudimentary measurement [\#1039](https://github.com/hippware/wocky/issues/1039)

**Merged pull requests:**

- Update updated\_at when home stream items are marked as deleted [\#1074](https://github.com/hippware/wocky/pull/1074) ([bernardd](https://github.com/bernardd))
- 896 part 2 [\#1073](https://github.com/hippware/wocky/pull/1073) ([bernardd](https://github.com/bernardd))
- More type fixes [\#1072](https://github.com/hippware/wocky/pull/1072) ([bernardd](https://github.com/bernardd))
- 896 rework temp subscriptions [\#1071](https://github.com/hippware/wocky/pull/1071) ([bernardd](https://github.com/bernardd))
- Fix crashes in the wocky\_xmpp unit tests [\#1070](https://github.com/hippware/wocky/pull/1070) ([toland](https://github.com/toland))
- 1062 hs prepop regression [\#1069](https://github.com/hippware/wocky/pull/1069) ([bernardd](https://github.com/bernardd))
- Fix timestamp unit tests [\#1068](https://github.com/hippware/wocky/pull/1068) ([bernardd](https://github.com/bernardd))
- Type fixes [\#1067](https://github.com/hippware/wocky/pull/1067) ([bernardd](https://github.com/bernardd))
- Improve logging and fix db maintenance tasks [\#1066](https://github.com/hippware/wocky/pull/1066) ([toland](https://github.com/toland))
- Remove superfluous comma [\#1065](https://github.com/hippware/wocky/pull/1065) ([bernardd](https://github.com/bernardd))
- Overhaul logging [\#1061](https://github.com/hippware/wocky/pull/1061) ([toland](https://github.com/toland))

## [2017.10.24+ra8aefef](https://github.com/hippware/wocky/tree/2017.10.24+ra8aefef) (2017-10-24)

[Full Changelog](https://github.com/hippware/wocky/compare/2017.10.17+r4890609...2017.10.24+ra8aefef)

**Closed issues:**

- Increase authentication expiry to 60 days [\#1047](https://github.com/hippware/wocky/issues/1047)
- \[Wocky/load\] ErlangError: erlang error: {:init, {:error, :timeout}} [\#1046](https://github.com/hippware/wocky/issues/1046)
- Review HS re-insertion behaviour [\#1035](https://github.com/hippware/wocky/issues/1035)
- Tickets above this are PRIORITISED [\#1034](https://github.com/hippware/wocky/issues/1034)

**Merged pull requests:**

- Push notification diagnostics [\#1052](https://github.com/hippware/wocky/pull/1052) ([toland](https://github.com/toland))
- Add the owner JID to bot geosearch results [\#1051](https://github.com/hippware/wocky/pull/1051) ([toland](https://github.com/toland))
- Enable bot reports [\#1050](https://github.com/hippware/wocky/pull/1050) ([toland](https://github.com/toland))
- Update to Erlang 20.1 Elixir 1.5 [\#1049](https://github.com/hippware/wocky/pull/1049) ([toland](https://github.com/toland))
- Filter nil-handled users from other-user roster queries [\#1042](https://github.com/hippware/wocky/pull/1042) ([bernardd](https://github.com/bernardd))
- 1028 hide system users [\#1040](https://github.com/hippware/wocky/pull/1040) ([bernardd](https://github.com/bernardd))
- Add migration to fix bot item indices [\#1036](https://github.com/hippware/wocky/pull/1036) ([bernardd](https://github.com/bernardd))

## [2017.10.17+r4890609](https://github.com/hippware/wocky/tree/2017.10.17+r4890609) (2017-10-17)

[Full Changelog](https://github.com/hippware/wocky/compare/2017.9.22+r3e3ec07...2017.10.17+r4890609)

**Fixed bugs:**

- Double deleting a bot leaves the bot in the HS and breaks HS \(Staging\) [\#983](https://github.com/hippware/wocky/issues/983)

**Closed issues:**

- \[Wocky/load\] MatchError: no match of right hand side value: {:error, :closed} [\#1032](https://github.com/hippware/wocky/issues/1032)
- \[Wocky/load\] FunctionClauseError: no function clause matches [\#1031](https://github.com/hippware/wocky/issues/1031)
- \[Wocky/load\] ErlangError: erlang error: :tcp\_close [\#1030](https://github.com/hippware/wocky/issues/1030)
- \[Wocky/staging\] RuntimeError: Exceeded maximum register retries [\#1018](https://github.com/hippware/wocky/issues/1018)
- \[Wocky/staging\] ArgumentError: argument error: \["AM5PThCuwnzrC2cVBcFrP5ha5HcdPkrr9GGSH6JMXLWMzDoBEosUWY85Wy5QTInbeUdTobq95WFqeri7Netk2Xv3ipyybyHgvIRxsm9C7Rjg-hJdJpDyO4\_0HkKsrFn-tjmel9ZXYRUILwK1pZZ8u4MYA6laX3RFkQ"\] [\#1012](https://github.com/hippware/wocky/issues/1012)
- Suspicious duplicated data in Staging DB devices table [\#1010](https://github.com/hippware/wocky/issues/1010)
- Stray data in Production DB devices table [\#1009](https://github.com/hippware/wocky/issues/1009)
- Assign the role 'verified' to beckytravels \(Prod\) [\#1008](https://github.com/hippware/wocky/issues/1008)
- \[Wocky/us1\] ErlangError: erlang error: :killed [\#1007](https://github.com/hippware/wocky/issues/1007)
- Things that assist staff to manage multiple accounts or test onboarding [\#1005](https://github.com/hippware/wocky/issues/1005)
- \[Wocky/load\] ErlangError: erlang error: :killed [\#1004](https://github.com/hippware/wocky/issues/1004)
- \[Wocky/staging\] Bamboo.MandrillAdapter.ApiError: There was a problem sending the email through the Mandrill API.

Here is the response:

"{\"status\":\"error\",\"code\":-1,\"name\":\"Invalid\_Key\",\"message\":\"Invalid API key\"}"

Here are the params we sent:

%{"key" =\> "\[FILTERED\]", "message" =\> %{"from\_email" =\> "support@tinyrobot.com", "from\_name" =\> "tinyrobot support", "global\_merge\_vars" =\> \[%{"content" =\> "bays", "name" =\> "user\_handle"}\], "headers" =\> %{}, "html" =\> nil, "subject" =\> "Welcome t... [\#1001](https://github.com/hippware/wocky/issues/1001)
- \[Wocky/testing\] ErlangError: erlang error: {:init, {:error, :nxdomain}} [\#996](https://github.com/hippware/wocky/issues/996)
- \[Wocky/staging\] ErlangError: erlang error: {:init, {:error, :nxdomain}} [\#995](https://github.com/hippware/wocky/issues/995)
- Crash from home stream query with no version [\#994](https://github.com/hippware/wocky/issues/994)
- HS prepopulation deployment \(to Production\) checklist [\#993](https://github.com/hippware/wocky/issues/993)
- Delete old S3 buckets [\#989](https://github.com/hippware/wocky/issues/989)
- Allow filtering of deleted HS items [\#987](https://github.com/hippware/wocky/issues/987)
- \[Wocky/staging\] ErlangError: erlang error: {:badxml, {:xmlel, "iq", \[{"from", "staging.dev.tinyrobot.com"}, {"to", "a4b48f7e-8f21-11e6-b86d-0e600a8611a9@staging.dev.tinyrobot.com/FF104C7C-A4E7-44C8-ABF4-8C4D15C3ED53"}, {"id", "9cd4f2bc-f387-4b1e-a921-359f2bdd845c:iq"}, {"type", "result"}\], \[{:xmlel, "contacts", \[\], \[{:xmlel, "contact", \[{"jid", "d6976ac8-5a3a-11e6-8008-0e2ac49618c7@staging.dev.tinyrobot.com"}, {"handle", "aksonov"}, {"association", "friend"}\], \[\]}, {:xmlel, "contact", \[{"jid", "81620fb2-... [\#985](https://github.com/hippware/wocky/issues/985)
- Issues with HS Prepopulation [\#984](https://github.com/hippware/wocky/issues/984)
- Unable to update @tinyrobot\(qa\) account on Prod [\#973](https://github.com/hippware/wocky/issues/973)
- \[Wocky/staging\] ArgumentError: argument error [\#967](https://github.com/hippware/wocky/issues/967)
- Delete existing HS items which are content item retractions [\#964](https://github.com/hippware/wocky/issues/964)
- Delete existing HS items which reference non-accessible bots [\#963](https://github.com/hippware/wocky/issues/963)
- Send a welcome email to new users [\#952](https://github.com/hippware/wocky/issues/952)
- Migrate us1 to the new cluster [\#948](https://github.com/hippware/wocky/issues/948)
- Configure auto follow and auto friend accounts [\#944](https://github.com/hippware/wocky/issues/944)
- Blocking: Bot content [\#929](https://github.com/hippware/wocky/issues/929)
- Blocking: Bots [\#928](https://github.com/hippware/wocky/issues/928)
- Blocking: HS [\#927](https://github.com/hippware/wocky/issues/927)
- Blocking: Third party follower/followee lists [\#926](https://github.com/hippware/wocky/issues/926)
- Blocking: User Profile [\#925](https://github.com/hippware/wocky/issues/925)
- Blocking: Roster and presence [\#924](https://github.com/hippware/wocky/issues/924)
- Retraction of bot content item should not generate a HS item.  [\#923](https://github.com/hippware/wocky/issues/923)
- When bots are deleted or made private, referencing HS items should be deleted [\#919](https://github.com/hippware/wocky/issues/919)
- New bot field 'address\_data' to store location/address metadata as json [\#915](https://github.com/hippware/wocky/issues/915)
- Make all existing accounts bi-directional friends with @tinyrobot [\#881](https://github.com/hippware/wocky/issues/881)
- Prepopulate new user HS's with historical items [\#873](https://github.com/hippware/wocky/issues/873)
- Rename Staging xmpp domainpart from staging.dev to staging.prod [\#836](https://github.com/hippware/wocky/issues/836)
- Export and decommission cassandra [\#795](https://github.com/hippware/wocky/issues/795)

**Merged pull requests:**

- Changes to support AMOC [\#1029](https://github.com/hippware/wocky/pull/1029) ([bernardd](https://github.com/bernardd))
- Change how the deploy notification code is called [\#1024](https://github.com/hippware/wocky/pull/1024) ([toland](https://github.com/toland))
- Slack deployment notifications [\#1021](https://github.com/hippware/wocky/pull/1021) ([toland](https://github.com/toland))
- DB maintenance tasks [\#1020](https://github.com/hippware/wocky/pull/1020) ([toland](https://github.com/toland))
- Run bot report [\#1016](https://github.com/hippware/wocky/pull/1016) ([toland](https://github.com/toland))
- Add K8s templates for a load test environment [\#1015](https://github.com/hippware/wocky/pull/1015) ([toland](https://github.com/toland))
- Update the Mandril API key in wocky-secrets [\#1014](https://github.com/hippware/wocky/pull/1014) ([toland](https://github.com/toland))

## [2017.9.22+r3e3ec07](https://github.com/hippware/wocky/tree/2017.9.22+r3e3ec07) (2017-09-22)

[Full Changelog](https://github.com/hippware/wocky/compare/2017.9.20+r535d2cb...2017.9.22+r3e3ec07)

**Fixed bugs:**

- Bug: After unblocking and following one another, users are unable to find each other in friends [\#986](https://github.com/hippware/wocky/issues/986)

**Closed issues:**

- Socket communication issues on Staging [\#974](https://github.com/hippware/wocky/issues/974)
- Cleanup old infrastructure [\#949](https://github.com/hippware/wocky/issues/949)
- Add new push certs to Wocky [\#945](https://github.com/hippware/wocky/issues/945)
- Containerization \(placeholder\) [\#943](https://github.com/hippware/wocky/issues/943)
- More firebase integration [\#921](https://github.com/hippware/wocky/issues/921)
- Implementation of Blocking \(server side\) [\#916](https://github.com/hippware/wocky/issues/916)

**Merged pull requests:**

- Fix handling of nil user handle in user contacts [\#991](https://github.com/hippware/wocky/pull/991) ([bernardd](https://github.com/bernardd))
- Two small changes [\#990](https://github.com/hippware/wocky/pull/990) ([toland](https://github.com/toland))
- Allow filtering of deleted HS items [\#988](https://github.com/hippware/wocky/pull/988) ([bernardd](https://github.com/bernardd))
- 952 welcome email [\#982](https://github.com/hippware/wocky/pull/982) ([bernardd](https://github.com/bernardd))
- Cluster logging and lb changes [\#980](https://github.com/hippware/wocky/pull/980) ([toland](https://github.com/toland))

## [2017.9.20+r535d2cb](https://github.com/hippware/wocky/tree/2017.9.20+r535d2cb) (2017-09-20)

[Full Changelog](https://github.com/hippware/wocky/compare/2017.9.18+rabf481e...2017.9.20+r535d2cb)

**Closed issues:**

- \[Wocky/us1\] FunctionClauseError: no function clause matches [\#979](https://github.com/hippware/wocky/issues/979)
- \[Wocky/staging\] ErlangError: erlang error: "IQ handler crash: hippware.com/hxep/bot" [\#975](https://github.com/hippware/wocky/issues/975)
- \[Wocky/staging\] FunctionClauseError: no function clause matches [\#969](https://github.com/hippware/wocky/issues/969)
- \[Wocky/testing\] Ecto.ConstraintError: constraint error when attempting to insert struct:

    \* foreign\_key: tokens\_user\_id\_fkey

If you would like to convert this constraint into an error, please
call foreign\_key\_constraint/3 in your changeset and define the proper
constraint name. The changeset defined the following constraints:

    \* unique: PRIMARY [\#955](https://github.com/hippware/wocky/issues/955)

**Merged pull requests:**

- 873 prepopulate home stream [\#978](https://github.com/hippware/wocky/pull/978) ([bernardd](https://github.com/bernardd))
- Add 'cp' make target [\#977](https://github.com/hippware/wocky/pull/977) ([bernardd](https://github.com/bernardd))

## [2017.9.18+rabf481e](https://github.com/hippware/wocky/tree/2017.9.18+rabf481e) (2017-09-18)

[Full Changelog](https://github.com/hippware/wocky/compare/2017.9.15+r8f753bb...2017.9.18+rabf481e)

**Merged pull requests:**

- Add tcpdump to the release image [\#976](https://github.com/hippware/wocky/pull/976) ([toland](https://github.com/toland))
- Re-enable roster read access for blocked users and include \_\_blocked\_â€¦ [\#972](https://github.com/hippware/wocky/pull/972) ([bernardd](https://github.com/bernardd))
- Blocking fixes [\#971](https://github.com/hippware/wocky/pull/971) ([bernardd](https://github.com/bernardd))

## [2017.9.15+r8f753bb](https://github.com/hippware/wocky/tree/2017.9.15+r8f753bb) (2017-09-15)

[Full Changelog](https://github.com/hippware/wocky/compare/2017.9.15+r4c68618f...2017.9.15+r8f753bb)

**Closed issues:**

- \[Wocky/staging\] Postgrex.Error: ERROR 42703 \(undefined\_column\): column b0.address\_data does not exist [\#960](https://github.com/hippware/wocky/issues/960)
- \[Wocky/staging\] ErlangError: erlang error: "IQ handler crash: hippware.com/hxep/publishing" [\#959](https://github.com/hippware/wocky/issues/959)
- \[Wocky/staging\] ErlangError: erlang error: {{:function\_clause, \[{:ssl, :send, \[nil, \[\<\<2, 0, 0, 0, 124, 1, 0, 32, 56, 97, 138, 30, 57, 86, 219, 194, 73, 239, 226, 33, 224, 149, 232, 63, 70, 45, 24, 157, 189, 161, 115, 37, 187, 69, 140, 18, 40, 67, 123, 10, 2, 0, 68, ...\>\>\]\], \[file: 'ssl.erl', line: 259\]}, {APNS.Sender, :send\_package, 2, \[file: 'lib/apns/sender.ex', line: 3\]}, {APNS.MessageWorker, :push, 4, \[file: 'lib/apns/message\_worker.ex', line: 124\]}, {APNS.MessageWorker, :handle\_call, 5, \[file: 'lib... [\#958](https://github.com/hippware/wocky/issues/958)
- \[Wocky/staging\] FunctionClauseError: no function clause matches [\#957](https://github.com/hippware/wocky/issues/957)
- Migrate staging to the new cluster [\#947](https://github.com/hippware/wocky/issues/947)

**Merged pull requests:**

- Fix a crash on Firebase auth failure [\#968](https://github.com/hippware/wocky/pull/968) ([toland](https://github.com/toland))
- Do not publish item revocation events [\#966](https://github.com/hippware/wocky/pull/966) ([bernardd](https://github.com/bernardd))
- 919 home stream cleanup [\#965](https://github.com/hippware/wocky/pull/965) ([bernardd](https://github.com/bernardd))
- Fix the migration job template [\#961](https://github.com/hippware/wocky/pull/961) ([toland](https://github.com/toland))

## [2017.9.15+r4c68618f](https://github.com/hippware/wocky/tree/2017.9.15+r4c68618f) (2017-09-14)

[Full Changelog](https://github.com/hippware/wocky/compare/1.0.2630-r012b3c0...2017.9.15+r4c68618f)

**Closed issues:**

- \[Wocky/us1\] ErlangError: erlang error: {:init, {:error, :nxdomain}} [\#951](https://github.com/hippware/wocky/issues/951)
- \[Wocky/staging\] ErlangError: erlang error: :killed [\#940](https://github.com/hippware/wocky/issues/940)
- \[Wocky/testing\] ErlangError: erlang error: :killed [\#939](https://github.com/hippware/wocky/issues/939)
- \[Wocky/testing\] ErlangError: erlang error: "IQ handler crash: hippware.com/hxep/bot" [\#938](https://github.com/hippware/wocky/issues/938)
- \[Wocky/testing\] ErlangError: erlang error: "IQ handler crash: hippware.com/hxep/http-file" [\#937](https://github.com/hippware/wocky/issues/937)
- \[Wocky/staging\] FunctionClauseError: no function clause matches [\#936](https://github.com/hippware/wocky/issues/936)
- \[Wocky/testing\] FunctionClauseError: no function clause matches [\#935](https://github.com/hippware/wocky/issues/935)
- \[Wocky/kube\_testing\] ErlangError: erlang error: {:init, {:error, :econnrefused}} [\#934](https://github.com/hippware/wocky/issues/934)
- \[Wocky/kube\_testing\] FunctionClauseError: no function clause matches [\#933](https://github.com/hippware/wocky/issues/933)
- \[Wocky/kube\_testing\] MatchError: no match of right hand side value: {:error, :closed} [\#932](https://github.com/hippware/wocky/issues/932)
- \[Wocky/kube\_testing\] ErlangError: erlang error: :tcp\_close [\#931](https://github.com/hippware/wocky/issues/931)
- \[Wocky/testing.prod\] ErlangError: erlang error: "IQ handler crash: jabber:iq:roster" [\#917](https://github.com/hippware/wocky/issues/917)
- Fix crash on invalid TROS URL [\#900](https://github.com/hippware/wocky/issues/900)
- Add more author fields to bot item [\#898](https://github.com/hippware/wocky/issues/898)
- Bot content items should include author data [\#892](https://github.com/hippware/wocky/issues/892)
- Blocking functionality \(discussion\) [\#888](https://github.com/hippware/wocky/issues/888)
- Multi-user permissions for bot publishing  [\#887](https://github.com/hippware/wocky/issues/887)
- Initialise new accounts with a set of followers [\#880](https://github.com/hippware/wocky/issues/880)
- Location indexing in algolia broken after location changes [\#878](https://github.com/hippware/wocky/issues/878)
- Server-side Firebase research and/or integration [\#877](https://github.com/hippware/wocky/issues/877)
- Roster entry sometimes missing some fields [\#876](https://github.com/hippware/wocky/issues/876)
- New bot field: Number of content items [\#867](https://github.com/hippware/wocky/issues/867)
- Don't generate a HS item if bot description becomes empty [\#863](https://github.com/hippware/wocky/issues/863)
- \[Wocky/staging.prod\] ErlangError: erlang error: "IQ handler crash: hippware.com/hxep/bot" [\#859](https://github.com/hippware/wocky/issues/859)
- \[Wocky/staging.prod\] ErlangError: erlang error: "IQ handler crash: jabber:iq:roster" [\#856](https://github.com/hippware/wocky/issues/856)
- \[Wocky/testing.prod\] ErlangError: erlang error: "IQ handler crash: hippware.com/hxep/notifications" [\#851](https://github.com/hippware/wocky/issues/851)
- Close xmpp port 5222 after client switches to port 5223 [\#838](https://github.com/hippware/wocky/issues/838)
- Bot lists to be sortable by distance [\#763](https://github.com/hippware/wocky/issues/763)
- Automate bootstrapping/managing a cluster [\#170](https://github.com/hippware/wocky/issues/170)
- Automate node startup [\#169](https://github.com/hippware/wocky/issues/169)

**Merged pull requests:**

- Blocking rework [\#956](https://github.com/hippware/wocky/pull/956) ([bernardd](https://github.com/bernardd))
- Bot address data [\#954](https://github.com/hippware/wocky/pull/954) ([toland](https://github.com/toland))
- K8s staging and us1 S3 fix [\#953](https://github.com/hippware/wocky/pull/953) ([toland](https://github.com/toland))
- Add updated APNS push certificates [\#946](https://github.com/hippware/wocky/pull/946) ([toland](https://github.com/toland))
- Fix UUID validation [\#942](https://github.com/hippware/wocky/pull/942) ([toland](https://github.com/toland))
- K8s configs for staging and us1 environments [\#941](https://github.com/hippware/wocky/pull/941) ([toland](https://github.com/toland))
- Kubernetes deployment [\#908](https://github.com/hippware/wocky/pull/908) ([toland](https://github.com/toland))

## [1.0.2630-r012b3c0](https://github.com/hippware/wocky/tree/1.0.2630-r012b3c0) (2017-09-06)

[Full Changelog](https://github.com/hippware/wocky/compare/1.0.2627-r611e801...1.0.2630-r012b3c0)

**Merged pull requests:**

- Update firebase ID [\#922](https://github.com/hippware/wocky/pull/922) ([bernardd](https://github.com/bernardd))

## [1.0.2627-r611e801](https://github.com/hippware/wocky/tree/1.0.2627-r611e801) (2017-09-05)

[Full Changelog](https://github.com/hippware/wocky/compare/1.0.2624-r8477c5f...1.0.2627-r611e801)

**Closed issues:**

- Quick Fix: Change @explore\_la's phone number to an arbitrary one [\#918](https://github.com/hippware/wocky/issues/918)
- \[Wocky/kube\_testing\] Postgrex.Error: ERROR 42P01 \(undefined\_table\): relation "initial\_contacts" does not exist [\#913](https://github.com/hippware/wocky/issues/913)
- Create docker-based build process [\#516](https://github.com/hippware/wocky/issues/516)

**Merged pull requests:**

- Fix the Lager config [\#920](https://github.com/hippware/wocky/pull/920) ([toland](https://github.com/toland))

## [1.0.2624-r8477c5f](https://github.com/hippware/wocky/tree/1.0.2624-r8477c5f) (2017-09-01)

[Full Changelog](https://github.com/hippware/wocky/compare/1.0.2582-62e3cb6...1.0.2624-r8477c5f)

**Closed issues:**

- Assign the role 'verified' to some accounts [\#912](https://github.com/hippware/wocky/issues/912)
- \[Wocky/kube\_testing\] ErlangError: erlang error: "IQ handler crash: hippware.com/hxep/http-file" [\#910](https://github.com/hippware/wocky/issues/910)
- \[Wocky/kube\_testing\] ErlangError: erlang error: {:bad\_return, {{:wocky\_xmpp\_app, :start, \[:normal, \[\]\]}, {:EXIT, {{:badmatch, {:alread\_joined, \[84, 104, 101, 32, 110, 111, 100, 101, 32, 'wocky@10.2.2.74', 32, 104, 97, 115, 32, 97, 108, 114, 101, 97, 100, 121, 32, 106, 111, 105, 110, 101, 100, 32, 116, 104, 101, 32, 99, 108, 117, 115, 116, 101, 114, '\n'\]}}, \[{:wocky\_xmpp\_app, :maybe\_join\_cluster, 0, \[file: 'src/wocky\_xmpp\_app.erl', line: 125\]}, {:wocky\_xmpp\_app, :start, 2, \[file: 'src/wocky\_xmpp\_app.erl'... [\#905](https://github.com/hippware/wocky/issues/905)

**Merged pull requests:**

- Update deps and fix a few small issues [\#914](https://github.com/hippware/wocky/pull/914) ([toland](https://github.com/toland))
- Add configurable S3 region [\#911](https://github.com/hippware/wocky/pull/911) ([bernardd](https://github.com/bernardd))
- 880 expand initial contacts [\#909](https://github.com/hippware/wocky/pull/909) ([bernardd](https://github.com/bernardd))
- Fix dialyzer error in roster [\#907](https://github.com/hippware/wocky/pull/907) ([bernardd](https://github.com/bernardd))
- Fix a flaky unit test [\#906](https://github.com/hippware/wocky/pull/906) ([toland](https://github.com/toland))
- Fix missing fields in roster updates and add tests [\#904](https://github.com/hippware/wocky/pull/904) ([bernardd](https://github.com/bernardd))
- Fix crash on certain invalid TROS IDs [\#901](https://github.com/hippware/wocky/pull/901) ([bernardd](https://github.com/bernardd))
- Firebase auth [\#889](https://github.com/hippware/wocky/pull/889) ([bernardd](https://github.com/bernardd))

## [1.0.2582-62e3cb6](https://github.com/hippware/wocky/tree/1.0.2582-62e3cb6) (2017-08-28)

[Full Changelog](https://github.com/hippware/wocky/compare/1.0.2566-287968...1.0.2582-62e3cb6)

**Closed issues:**

- Share checklist missing [\#893](https://github.com/hippware/wocky/issues/893)

**Merged pull requests:**

- Add extra author fields to bot items [\#899](https://github.com/hippware/wocky/pull/899) ([bernardd](https://github.com/bernardd))
- Allow all bot viewers to publish items [\#897](https://github.com/hippware/wocky/pull/897) ([bernardd](https://github.com/bernardd))
- 892 add bot author [\#894](https://github.com/hippware/wocky/pull/894) ([bernardd](https://github.com/bernardd))
- Add total\_items field to bots [\#891](https://github.com/hippware/wocky/pull/891) ([bernardd](https://github.com/bernardd))
- Remove custom exvcr [\#890](https://github.com/hippware/wocky/pull/890) ([bernardd](https://github.com/bernardd))

## [1.0.2566-287968](https://github.com/hippware/wocky/tree/1.0.2566-287968) (2017-08-21)

[Full Changelog](https://github.com/hippware/wocky/compare/1.0.2557-10851ce...1.0.2566-287968)

**Closed issues:**

- \[Wocky/staging.prod\] DBConnection.ConnectionError: tcp send: closed [\#882](https://github.com/hippware/wocky/issues/882)

**Merged pull requests:**

- Include location in bot index [\#886](https://github.com/hippware/wocky/pull/886) ([bernardd](https://github.com/bernardd))
- Whoops [\#885](https://github.com/hippware/wocky/pull/885) ([bernardd](https://github.com/bernardd))
- Don't index pending bots [\#884](https://github.com/hippware/wocky/pull/884) ([bernardd](https://github.com/bernardd))
- Fix reindexing operation [\#883](https://github.com/hippware/wocky/pull/883) ([bernardd](https://github.com/bernardd))

## [1.0.2557-10851ce](https://github.com/hippware/wocky/tree/1.0.2557-10851ce) (2017-08-21)

[Full Changelog](https://github.com/hippware/wocky/compare/2017.7.13+2471.782e996...1.0.2557-10851ce)

**Fixed bugs:**

- Investigate SSL handshake failure [\#853](https://github.com/hippware/wocky/issues/853)

**Closed issues:**

- \[Wocky/staging.prod\] ErlangError: erlang error: "IQ handler crash: hippware.com/hxep/bot" [\#872](https://github.com/hippware/wocky/issues/872)
- Split pending bots to a separate table [\#860](https://github.com/hippware/wocky/issues/860)
- Registration, authentication, and why sms? \(Discussion\) [\#855](https://github.com/hippware/wocky/issues/855)
- Align bot list retrieval protocol with documentation [\#847](https://github.com/hippware/wocky/issues/847)
- Makes user roles field public [\#843](https://github.com/hippware/wocky/issues/843)
- Can't get user: No access to field [\#842](https://github.com/hippware/wocky/issues/842)
- Initialise new accounts with a set of followees [\#841](https://github.com/hippware/wocky/issues/841)
- Assign the role 'staff' to some accounts [\#840](https://github.com/hippware/wocky/issues/840)
- Move DNS registration to Amazon [\#839](https://github.com/hippware/wocky/issues/839)
- \[Wocky/us1.prod\] Postgrex.Error: ERROR 22001 \(string\_data\_right\_truncation\): value too long for type character varying\(255\) [\#833](https://github.com/hippware/wocky/issues/833)
- Add an operation to retrieve any user's followers and followees.  [\#829](https://github.com/hippware/wocky/issues/829)
- \[Wocky/us1.prod\] ErlangError: erlang error: {:normal, {:gen\_server, :call, \[\#PID\<0.9271.0\>, :reset\_stream\]}} [\#813](https://github.com/hippware/wocky/issues/813)
- Reduce database round-trips for geosearch result filtering [\#807](https://github.com/hippware/wocky/issues/807)
- Transfer account Discover\_UrCity to another phone number [\#801](https://github.com/hippware/wocky/issues/801)
- Firebase vs DIY for sms login \(discussion\) [\#800](https://github.com/hippware/wocky/issues/800)
- Bot lists to be sortable by simple criteria [\#757](https://github.com/hippware/wocky/issues/757)
- Provide staff access to server databases [\#721](https://github.com/hippware/wocky/issues/721)
- Write integration tests for SNS, S3 and Algolia [\#207](https://github.com/hippware/wocky/issues/207)

**Merged pull requests:**

- Fix location indexing [\#879](https://github.com/hippware/wocky/pull/879) ([bernardd](https://github.com/bernardd))
- Fix release image steps on master [\#875](https://github.com/hippware/wocky/pull/875) ([toland](https://github.com/toland))
- Use Codeship for continuous integration [\#874](https://github.com/hippware/wocky/pull/874) ([toland](https://github.com/toland))
- Fixes for migration scripts [\#871](https://github.com/hippware/wocky/pull/871) ([bernardd](https://github.com/bernardd))
- Fix timestamp sorting tests [\#870](https://github.com/hippware/wocky/pull/870) ([bernardd](https://github.com/bernardd))
- Increase timeout for tests [\#869](https://github.com/hippware/wocky/pull/869) ([bernardd](https://github.com/bernardd))
- 763 subscribed by distance [\#868](https://github.com/hippware/wocky/pull/868) ([bernardd](https://github.com/bernardd))
- Only delete user db entry after all other delete operations are done [\#866](https://github.com/hippware/wocky/pull/866) ([bernardd](https://github.com/bernardd))
- Don't notify for a newly blank description [\#865](https://github.com/hippware/wocky/pull/865) ([bernardd](https://github.com/bernardd))
- 763 xmpp interface [\#864](https://github.com/hippware/wocky/pull/864) ([bernardd](https://github.com/bernardd))
- 859 bot get crash [\#861](https://github.com/hippware/wocky/pull/861) ([bernardd](https://github.com/bernardd))
- Fix crash on insertion of invalid roster item [\#858](https://github.com/hippware/wocky/pull/858) ([bernardd](https://github.com/bernardd))
- 763 bot location search [\#857](https://github.com/hippware/wocky/pull/857) ([bernardd](https://github.com/bernardd))
- Fix contact match to ignore ordering [\#850](https://github.com/hippware/wocky/pull/850) ([bernardd](https://github.com/bernardd))
- Increase test timeouts to avoid occasional failures [\#849](https://github.com/hippware/wocky/pull/849) ([bernardd](https://github.com/bernardd))
- Fix default user retrieval, make roles public. [\#845](https://github.com/hippware/wocky/pull/845) ([bernardd](https://github.com/bernardd))
- Add initial followees for new new users [\#844](https://github.com/hippware/wocky/pull/844) ([bernardd](https://github.com/bernardd))

## [2017.7.13+2471.782e996](https://github.com/hippware/wocky/tree/2017.7.13+2471.782e996) (2017-07-13)

[Full Changelog](https://github.com/hippware/wocky/compare/2017.6.30+2439.e6f5eda...2017.7.13+2471.782e996)

**Fixed bugs:**

- Location API crash in staging [\#826](https://github.com/hippware/wocky/issues/826)
- Bot create operation does not check ownership of preallocated IDs [\#805](https://github.com/hippware/wocky/issues/805)
- \[Wocky/testing.prod\] Ecto.InvalidChangesetError: could not perform insert because changeset is invalid.

Applied changes

    %{external\_id: "00000021", id: "82ef19d6-5659-11e7-9ad0-0eedd159a4c5",
      phone\_number: "+155500000021", roles: \[\], server: "testing.dev.tinyrobot.com",
      username: "82ef19d6-5659-11e7-9ad0-0eedd159a4c5"}

Params

    %{"external\_id" =\> "00000021", "phone\_number" =\> "+155500000021",
      "server" =\> "testing.dev.tinyrobot.com",
      "username" =\> "82ef19d6-5659-11e7-9ad0-... [\#796](https://github.com/hippware/wocky/issues/796)
- \[Wocky/staging.prod\] FunctionClauseError: no function clause matches [\#791](https://github.com/hippware/wocky/issues/791)
- \[Wocky/testing.prod\] ErlangError: erlang error: "IQ handler crash: hippware.com/hxep/bot" [\#764](https://github.com/hippware/wocky/issues/764)

**Closed issues:**

- Users with empty handle on Staging [\#830](https://github.com/hippware/wocky/issues/830)
- \[Wocky/staging.prod\] ErlangError: erlang error: {:normal, {:gen\_server, :call, \[\#PID\<0.32654.1\>, :reset\_stream\]}} [\#823](https://github.com/hippware/wocky/issues/823)
- Retrieving bots by user id always returns subscribed bots [\#822](https://github.com/hippware/wocky/issues/822)
- SSL certificate hostname mismatch on Staging [\#820](https://github.com/hippware/wocky/issues/820)
- Re-enable location upload API, revisited [\#814](https://github.com/hippware/wocky/issues/814)
- Review bot retrieval protocols [\#812](https://github.com/hippware/wocky/issues/812)
- \[Wocky/us1.prod\] ErlangError: erlang error: {{:function\_clause, \[{:ssl, :send, \[nil, \[\<\<2, 0, 0, 0, 131, 1, 0, 32, 160, 109, 224, 20, 57, 113, 156, 26, 220, 195, 19, 166, 169, 222, 2, 59, 52, 146, 120, 172, 105, 103, 65, 35, 203, 73, 170, 199, 146, 71, 180, 58, 2, 0, 75, ...\>\>\]\], \[file: 'ssl.erl', line: 259\]}, {APNS.Sender, :send\_package, 2, \[file: 'lib/apns/sender.ex', line: 3\]}, {APNS.MessageWorker, :push, 4, \[file: 'lib/apns/message\_worker.ex', line: 124\]}, {APNS.MessageWorker, :handle\_call, 5, \[file:... [\#809](https://github.com/hippware/wocky/issues/809)
- XMPP TLS encryption discussion [\#804](https://github.com/hippware/wocky/issues/804)
- Handles to be case insensitive w.r.t. uniqueness [\#794](https://github.com/hippware/wocky/issues/794)
- Create a database log of push notifications [\#793](https://github.com/hippware/wocky/issues/793)
- Filter pending bots from report [\#786](https://github.com/hippware/wocky/issues/786)
- Make bot list query use RSMHelper [\#785](https://github.com/hippware/wocky/issues/785)
- Use OS environment variables to configure 3rd party libraries [\#780](https://github.com/hippware/wocky/issues/780)
- Do not cancel temporary subscriptions on TCP stream closure. [\#776](https://github.com/hippware/wocky/issues/776)
- Replace SNS with direct calls to APNS [\#767](https://github.com/hippware/wocky/issues/767)
- Re-enable location upload API [\#766](https://github.com/hippware/wocky/issues/766)
- \[Wocky/staging.prod\] ErlangError: erlang error: "IQ handler crash: hippware.com/hxep/bot" [\#758](https://github.com/hippware/wocky/issues/758)
- Optimise roster item queries using PG array features [\#751](https://github.com/hippware/wocky/issues/751)
- Fields to distinguish privileged accounts [\#748](https://github.com/hippware/wocky/issues/748)
- Bot owners should receive bot creation notification within hs [\#744](https://github.com/hippware/wocky/issues/744)
- Push notifications for image-only messages [\#743](https://github.com/hippware/wocky/issues/743)
- \[Wocky/us1.prod\] ErlangError: erlang error: {:process\_limit, {:max\_queue, 1546}} [\#638](https://github.com/hippware/wocky/issues/638)
- Expire followers from being new [\#606](https://github.com/hippware/wocky/issues/606)
- Discuss: Algolia search for unit tests [\#574](https://github.com/hippware/wocky/issues/574)
- Hash authentication tokens [\#483](https://github.com/hippware/wocky/issues/483)
- Consider a common DB-level implementation for RSM [\#429](https://github.com/hippware/wocky/issues/429)

**Merged pull requests:**

- Add sorting critera to bot searches [\#837](https://github.com/hippware/wocky/pull/837) ([bernardd](https://github.com/bernardd))
- Apply MIM patch [\#835](https://github.com/hippware/wocky/pull/835) ([bernardd](https://github.com/bernardd))
- Remove limit on message size for notification log [\#834](https://github.com/hippware/wocky/pull/834) ([bernardd](https://github.com/bernardd))
- 829 other roster retrieval [\#832](https://github.com/hippware/wocky/pull/832) ([bernardd](https://github.com/bernardd))
- 793 notification db log [\#831](https://github.com/hippware/wocky/pull/831) ([bernardd](https://github.com/bernardd))
- Add unit tests and specs for HTTP interactions [\#828](https://github.com/hippware/wocky/pull/828) ([bernardd](https://github.com/bernardd))
- Fix the primary key on the user\_locations table [\#827](https://github.com/hippware/wocky/pull/827) ([toland](https://github.com/toland))

## [2017.6.30+2439.e6f5eda](https://github.com/hippware/wocky/tree/2017.6.30+2439.e6f5eda) (2017-06-30)

[Full Changelog](https://github.com/hippware/wocky/compare/2017.6.29+2434.e9f14f3...2017.6.30+2439.e6f5eda)

**Closed issues:**

- \[Wocky/kube\_testing\] ErlangError: erlang error: :killed [\#824](https://github.com/hippware/wocky/issues/824)
- \[Wocky/.\] ErlangError: erlang error: {:init, {:error, :timeout}} [\#819](https://github.com/hippware/wocky/issues/819)
- \[Wocky/.\] ErlangError: erlang error: :tcp\_close [\#818](https://github.com/hippware/wocky/issues/818)
- \[Wocky/.\] FunctionClauseError: no function clause matches [\#817](https://github.com/hippware/wocky/issues/817)
- Set up XMPP over SSL for Staging [\#816](https://github.com/hippware/wocky/issues/816)

**Merged pull requests:**

- 822 user subscription state [\#825](https://github.com/hippware/wocky/pull/825) ([bernardd](https://github.com/bernardd))

## [2017.6.29+2434.e9f14f3](https://github.com/hippware/wocky/tree/2017.6.29+2434.e9f14f3) (2017-06-29)

[Full Changelog](https://github.com/hippware/wocky/compare/2017.6.20+2404.07f57c0...2017.6.29+2434.e9f14f3)

**Closed issues:**

- \[Wocky/us1.prod\] FunctionClauseError: no function clause matches [\#810](https://github.com/hippware/wocky/issues/810)
- Push notifications \(post-SNS\) not working [\#798](https://github.com/hippware/wocky/issues/798)
- Handle SNS endpoints that get disabled [\#660](https://github.com/hippware/wocky/issues/660)
- Run front-end unit tests upon deploy to Testing [\#451](https://github.com/hippware/wocky/issues/451)

**Merged pull requests:**

- Start the location API [\#815](https://github.com/hippware/wocky/pull/815) ([toland](https://github.com/toland))
- Fix us1 APNS cert name [\#811](https://github.com/hippware/wocky/pull/811) ([bernardd](https://github.com/bernardd))
- Fix compiler warnings [\#808](https://github.com/hippware/wocky/pull/808) ([bernardd](https://github.com/bernardd))
- Add permissions check for creation of bot with preallocated ID [\#806](https://github.com/hippware/wocky/pull/806) ([bernardd](https://github.com/bernardd))
- Move bot query RSM filtering to the DB [\#803](https://github.com/hippware/wocky/pull/803) ([bernardd](https://github.com/bernardd))
- Work around DB race condition in register operation [\#802](https://github.com/hippware/wocky/pull/802) ([bernardd](https://github.com/bernardd))
- Make user handles unique regardless of case [\#799](https://github.com/hippware/wocky/pull/799) ([bernardd](https://github.com/bernardd))
- More push notification logging [\#797](https://github.com/hippware/wocky/pull/797) ([toland](https://github.com/toland))
- Fix a function clause crash in PushEventHandler [\#792](https://github.com/hippware/wocky/pull/792) ([toland](https://github.com/toland))
- 744 own bot create notifications [\#790](https://github.com/hippware/wocky/pull/790) ([bernardd](https://github.com/bernardd))

## [2017.6.20+2404.07f57c0](https://github.com/hippware/wocky/tree/2017.6.20+2404.07f57c0) (2017-06-20)

[Full Changelog](https://github.com/hippware/wocky/compare/2017.6.9+2316.7038371...2017.6.20+2404.07f57c0)

**Fixed bugs:**

- \[Wocky/us1.prod\] ArgumentError: cannot convert the given list to a string.

To be converted to a string, a list must contain only:

  \* strings
  \* integers representing Unicode codepoints
  \* or a list containing one of these three elements

Please check the given list or call inspect/1 to get the list representation, got:

\["1d5766ba-49fb-11e7-820a-0e06eef9e066", "Pipestone National Monument ", "thescenicroute", "2017-06-05T14:27:33.597561+00:00", "2017-06-05T14:37:40.819000+00:00", "36 Reservation Ave... [\#765](https://github.com/hippware/wocky/issues/765)
- SNS registration errors in log files [\#736](https://github.com/hippware/wocky/issues/736)
- ETS errors on shutdown [\#734](https://github.com/hippware/wocky/issues/734)

**Closed issues:**

- Weekly bot report \(title\) should include server or domain [\#783](https://github.com/hippware/wocky/issues/783)
- Do we still need algolia?  [\#772](https://github.com/hippware/wocky/issues/772)
- \[Wocky/testing.prod\] ErlangError: erlang error: "IQ handler crash: hippware.com/hxep/http-file" [\#761](https://github.com/hippware/wocky/issues/761)
- \[Wocky/staging.prod\] ErlangError: erlang error: "IQ handler crash: hippware.com/hxep/user" [\#754](https://github.com/hippware/wocky/issues/754)
- Query for availability of candidate handles [\#747](https://github.com/hippware/wocky/issues/747)
- \[Wocky/staging.prod\] ArgumentError: cannot convert the given list to a string.

To be converted to a string, a list must contain only:

  \* strings
  \* integers representing Unicode codepoints
  \* or a list containing one of these three elements

Please check the given list or call inspect/1 to get the list representation, got:

\["9406d362-47d6-11e7-b3e0-0e600a8611a9", nil, "kirkham", "2017-06-02T21:00:59.014633+00:00", "2017-06-02T21:00:59.014639+00:00", nil, nil, nil, "private", 1, 0, nil\] [\#740](https://github.com/hippware/wocky/issues/740)
- Retrospective review of recent changes [\#692](https://github.com/hippware/wocky/issues/692)
- Add new user field: 'tagline' [\#689](https://github.com/hippware/wocky/issues/689)
- Add user fields for number of bots, followers, and followees [\#686](https://github.com/hippware/wocky/issues/686)
- Don't allow server generated resource binding [\#655](https://github.com/hippware/wocky/issues/655)
- Changes in bot description to be published to Home Stream [\#646](https://github.com/hippware/wocky/issues/646)
- Request to download image file should wait until post-processing is complete [\#643](https://github.com/hippware/wocky/issues/643)
- Geo-search API not returning all expected bots [\#641](https://github.com/hippware/wocky/issues/641)
- Replace "registration" process with Digits authentication mechanism [\#530](https://github.com/hippware/wocky/issues/530)
- Limit Home Stream items [\#458](https://github.com/hippware/wocky/issues/458)
- Unify/Rename followers into subscribers [\#287](https://github.com/hippware/wocky/issues/287)
- User: First name and last name are required [\#247](https://github.com/hippware/wocky/issues/247)

**Merged pull requests:**

- Fix role default [\#789](https://github.com/hippware/wocky/pull/789) ([bernardd](https://github.com/bernardd))
- Filter pending bots from reports [\#787](https://github.com/hippware/wocky/pull/787) ([bernardd](https://github.com/bernardd))
- 429 db rsm [\#784](https://github.com/hippware/wocky/pull/784) ([bernardd](https://github.com/bernardd))
- Add geosearch implementation for testing [\#782](https://github.com/hippware/wocky/pull/782) ([toland](https://github.com/toland))
- Use OS vars to config Honeybadger and CW [\#781](https://github.com/hippware/wocky/pull/781) ([toland](https://github.com/toland))
- Maintain temporary subscriptions across stream resumption [\#779](https://github.com/hippware/wocky/pull/779) ([bernardd](https://github.com/bernardd))
- Send push notifications for image-only messages [\#778](https://github.com/hippware/wocky/pull/778) ([toland](https://github.com/toland))
- Replace SNS with direct calls to APNS [\#775](https://github.com/hippware/wocky/pull/775) ([toland](https://github.com/toland))
- Store tokens only as hashes [\#774](https://github.com/hippware/wocky/pull/774) ([bernardd](https://github.com/bernardd))
- 748 add user roles [\#773](https://github.com/hippware/wocky/pull/773) ([bernardd](https://github.com/bernardd))
- Make all indexer operations synchronous with respect to each other [\#771](https://github.com/hippware/wocky/pull/771) ([bernardd](https://github.com/bernardd))
- Reenable the Location API [\#770](https://github.com/hippware/wocky/pull/770) ([toland](https://github.com/toland))
- Reduce the logging threshold for user IQ errors [\#769](https://github.com/hippware/wocky/pull/769) ([toland](https://github.com/toland))
- Fix a crash on testing when calling geosearch [\#768](https://github.com/hippware/wocky/pull/768) ([toland](https://github.com/toland))
- Fix TROS download error for thumbnails [\#762](https://github.com/hippware/wocky/pull/762) ([bernardd](https://github.com/bernardd))
- Shift roster group filtering over to DB server [\#752](https://github.com/hippware/wocky/pull/752) ([bernardd](https://github.com/bernardd))
- 606 add roster timestamps [\#750](https://github.com/hippware/wocky/pull/750) ([bernardd](https://github.com/bernardd))
- Change remaining time formats to Z-suffix form [\#723](https://github.com/hippware/wocky/pull/723) ([bernardd](https://github.com/bernardd))

## [2017.6.9+2316.7038371](https://github.com/hippware/wocky/tree/2017.6.9+2316.7038371) (2017-06-09)

[Full Changelog](https://github.com/hippware/wocky/compare/2017.6.8+2311.b907e49...2017.6.9+2316.7038371)

**Closed issues:**

- quantum startup failing intermittantly [\#749](https://github.com/hippware/wocky/issues/749)

**Merged pull requests:**

- Re-merge "Add image processing blocking delay for download"" [\#760](https://github.com/hippware/wocky/pull/760) ([bernardd](https://github.com/bernardd))
- Fix a crash in RosterItem.maybe\_sort\_pair [\#759](https://github.com/hippware/wocky/pull/759) ([toland](https://github.com/toland))

## [2017.6.8+2311.b907e49](https://github.com/hippware/wocky/tree/2017.6.8+2311.b907e49) (2017-06-08)

[Full Changelog](https://github.com/hippware/wocky/compare/2017.6.7+2303.8e6072a...2017.6.8+2311.b907e49)

**Merged pull requests:**

- Remove null values before migration [\#756](https://github.com/hippware/wocky/pull/756) ([bernardd](https://github.com/bernardd))
- Revert "Add image processing blocking delay for download" [\#755](https://github.com/hippware/wocky/pull/755) ([bernardd](https://github.com/bernardd))
- Add image processing blocking delay for download [\#738](https://github.com/hippware/wocky/pull/738) ([bernardd](https://github.com/bernardd))

## [2017.6.7+2303.8e6072a](https://github.com/hippware/wocky/tree/2017.6.7+2303.8e6072a) (2017-06-07)

[Full Changelog](https://github.com/hippware/wocky/compare/2017.6.1+2251.80891f8...2017.6.7+2303.8e6072a)

**Fixed bugs:**

- Bot aren't indexed correctly on Algolia [\#729](https://github.com/hippware/wocky/issues/729)
- Lots of ETS errors on staging [\#702](https://github.com/hippware/wocky/issues/702)
- `filter\_local\_packet` hook crashes [\#699](https://github.com/hippware/wocky/issues/699)
- \[Wocky/staging.prod\] ErlangError: erlang error: "IQ handler crash: hippware.com/hxep/user" [\#697](https://github.com/hippware/wocky/issues/697)
- No push notifications for some users on Staging [\#694](https://github.com/hippware/wocky/issues/694)
- Some bots have negative radius [\#380](https://github.com/hippware/wocky/issues/380)

**Closed issues:**

- Clean up and formalise AWS network design [\#728](https://github.com/hippware/wocky/issues/728)
- Conversations being stored with non-bare JID [\#720](https://github.com/hippware/wocky/issues/720)
- Data migration issue: MAM users created with two different servers [\#717](https://github.com/hippware/wocky/issues/717)
- Bot cover photos, possible issues [\#716](https://github.com/hippware/wocky/issues/716)
- Weekly reports not being generated on staging after migration. [\#713](https://github.com/hippware/wocky/issues/713)
- Inconsistent ordering of bots [\#711](https://github.com/hippware/wocky/issues/711)
- Server migration issues [\#709](https://github.com/hippware/wocky/issues/709)
- Fix up digits bypass configuration [\#677](https://github.com/hippware/wocky/issues/677)
- \[Wocky/us1.prod\] ArgumentError: argument error [\#669](https://github.com/hippware/wocky/issues/669)
- Enable special bypass phone number prefix on Staging [\#668](https://github.com/hippware/wocky/issues/668)
- Create a tool to migrate data from Cassandra to PostgreSQL [\#653](https://github.com/hippware/wocky/issues/653)
- Conversations query tweaks [\#650](https://github.com/hippware/wocky/issues/650)
- Migrate to Ecto/PostgreSQL [\#455](https://github.com/hippware/wocky/issues/455)

**Merged pull requests:**

- 689 add user tagline [\#746](https://github.com/hippware/wocky/pull/746) ([bernardd](https://github.com/bernardd))
- 646 bot description change to hs [\#745](https://github.com/hippware/wocky/pull/745) ([bernardd](https://github.com/bernardd))
- Fix ets:delete\_object errors on shutdown [\#742](https://github.com/hippware/wocky/pull/742) ([bernardd](https://github.com/bernardd))
- Fix up string handling in bot report generation and add basic test [\#741](https://github.com/hippware/wocky/pull/741) ([bernardd](https://github.com/bernardd))
- Push notification tweaks [\#739](https://github.com/hippware/wocky/pull/739) ([toland](https://github.com/toland))
- Always index the whole object [\#737](https://github.com/hippware/wocky/pull/737) ([toland](https://github.com/toland))
- Indexing fixes [\#733](https://github.com/hippware/wocky/pull/733) ([toland](https://github.com/toland))
- Test addition and fix [\#727](https://github.com/hippware/wocky/pull/727) ([bernardd](https://github.com/bernardd))
- 686 add user metafields [\#715](https://github.com/hippware/wocky/pull/715) ([bernardd](https://github.com/bernardd))
- Modify bot search filter to match new spec [\#676](https://github.com/hippware/wocky/pull/676) ([bernardd](https://github.com/bernardd))

## [2017.6.1+2251.80891f8](https://github.com/hippware/wocky/tree/2017.6.1+2251.80891f8) (2017-06-01)

[Full Changelog](https://github.com/hippware/wocky/compare/2017.5.31+2242.dd22001...2017.6.1+2251.80891f8)

**Merged pull requests:**

- Reinstate text type for offline table [\#732](https://github.com/hippware/wocky/pull/732) ([bernardd](https://github.com/bernardd))
- Remove migration from bytea to text [\#731](https://github.com/hippware/wocky/pull/731) ([bernardd](https://github.com/bernardd))
- Conversation id fix [\#730](https://github.com/hippware/wocky/pull/730) ([bernardd](https://github.com/bernardd))

## [2017.5.31+2242.dd22001](https://github.com/hippware/wocky/tree/2017.5.31+2242.dd22001) (2017-05-31)

[Full Changelog](https://github.com/hippware/wocky/compare/2017.5.30+2237.d83ae56...2017.5.31+2242.dd22001)

**Closed issues:**

- Conversation timestamps of 1/1/1970 [\#710](https://github.com/hippware/wocky/issues/710)

**Merged pull requests:**

- Fix timestamp-based sorting to be chronological rather than...whatever it was [\#726](https://github.com/hippware/wocky/pull/726) ([bernardd](https://github.com/bernardd))

## [2017.5.30+2237.d83ae56](https://github.com/hippware/wocky/tree/2017.5.30+2237.d83ae56) (2017-05-30)

[Full Changelog](https://github.com/hippware/wocky/compare/2017.5.26+2222.84833a7...2017.5.30+2237.d83ae56)

**Fixed bugs:**

- IQ Handler crash on staging when getting a bot [\#703](https://github.com/hippware/wocky/issues/703)
- Roster items with missing subscription field in staging [\#701](https://github.com/hippware/wocky/issues/701)
- Crash in HomeStream code on staging [\#700](https://github.com/hippware/wocky/issues/700)

**Closed issues:**

- \[Wocky/staging.prod\] FunctionClauseError: no function clause matching in Ecto.Type.cast\_naive\_datetime/1 [\#712](https://github.com/hippware/wocky/issues/712)

**Merged pull requests:**

- Sort subscribed bots by update, not creation time [\#722](https://github.com/hippware/wocky/pull/722) ([bernardd](https://github.com/bernardd))
- Store conversations with bare jid [\#719](https://github.com/hippware/wocky/pull/719) ([bernardd](https://github.com/bernardd))
- Fix swapped flags [\#718](https://github.com/hippware/wocky/pull/718) ([bernardd](https://github.com/bernardd))
- 713 fix weekly reports [\#714](https://github.com/hippware/wocky/pull/714) ([bernardd](https://github.com/bernardd))

## [2017.5.26+2222.84833a7](https://github.com/hippware/wocky/tree/2017.5.26+2222.84833a7) (2017-05-26)

[Full Changelog](https://github.com/hippware/wocky/compare/2017.5.25+2205.c91d799...2017.5.26+2222.84833a7)

**Closed issues:**

- Allow retrieval of public bots owned by another user  [\#706](https://github.com/hippware/wocky/issues/706)
- Unread text messages should not appear in the Home Stream [\#693](https://github.com/hippware/wocky/issues/693)
- \[Wocky/staging.prod\] ErlangError: erlang error: "IQ handler crash: hippware.com/hxep/bot" [\#682](https://github.com/hippware/wocky/issues/682)
- \[Wocky/staging.prod\] ErlangError: erlang error: "IQ handler crash: hippware.com/hxep/bot" [\#678](https://github.com/hippware/wocky/issues/678)

**Merged pull requests:**

- Remove ets:delete calls for tables that are already auto-deleted [\#708](https://github.com/hippware/wocky/pull/708) ([bernardd](https://github.com/bernardd))
- Simplify operation of bumping the version for all instances of a contact [\#707](https://github.com/hippware/wocky/pull/707) ([bernardd](https://github.com/bernardd))
- Add explanatory comment to Bot.public? [\#705](https://github.com/hippware/wocky/pull/705) ([bernardd](https://github.com/bernardd))
- Move multicast hook priority up [\#704](https://github.com/hippware/wocky/pull/704) ([bernardd](https://github.com/bernardd))
- Reenable diagnostic log traces [\#698](https://github.com/hippware/wocky/pull/698) ([toland](https://github.com/toland))
- Add a config setting to control the Digits bypass [\#696](https://github.com/hippware/wocky/pull/696) ([toland](https://github.com/toland))
- Add validation to prevent a negative bot radius [\#695](https://github.com/hippware/wocky/pull/695) ([toland](https://github.com/toland))
- Fix compiler warning [\#688](https://github.com/hippware/wocky/pull/688) ([bernardd](https://github.com/bernardd))

## [2017.5.25+2205.c91d799](https://github.com/hippware/wocky/tree/2017.5.25+2205.c91d799) (2017-05-25)

[Full Changelog](https://github.com/hippware/wocky/compare/2017.5.24+2186.ae67e94...2017.5.25+2205.c91d799)

**Merged pull requests:**

- Really fix hash case [\#691](https://github.com/hippware/wocky/pull/691) ([bernardd](https://github.com/bernardd))
- Use lower-case hashes [\#690](https://github.com/hippware/wocky/pull/690) ([bernardd](https://github.com/bernardd))
- Fix thumbnail permissions [\#687](https://github.com/hippware/wocky/pull/687) ([bernardd](https://github.com/bernardd))
- Allow public? to take bare maps [\#685](https://github.com/hippware/wocky/pull/685) ([bernardd](https://github.com/bernardd))
- Add bot's public field to algolia [\#684](https://github.com/hippware/wocky/pull/684) ([bernardd](https://github.com/bernardd))
- Add bot's public field to algolia [\#683](https://github.com/hippware/wocky/pull/683) ([bernardd](https://github.com/bernardd))
- Fix other user\_id field [\#681](https://github.com/hippware/wocky/pull/681) ([bernardd](https://github.com/bernardd))
- Rename bot owner field to user\_id in algolia [\#680](https://github.com/hippware/wocky/pull/680) ([bernardd](https://github.com/bernardd))
- Fix home stream RSM IDs [\#679](https://github.com/hippware/wocky/pull/679) ([bernardd](https://github.com/bernardd))

## [2017.5.24+2186.ae67e94](https://github.com/hippware/wocky/tree/2017.5.24+2186.ae67e94) (2017-05-24)

[Full Changelog](https://github.com/hippware/wocky/compare/2017.5.23+2177.2daf71f...2017.5.24+2186.ae67e94)

**Fixed bugs:**

- \[Wocky/staging.prod\] ArgumentError: argument error [\#635](https://github.com/hippware/wocky/issues/635)

**Closed issues:**

- Hash user tokens in DB [\#656](https://github.com/hippware/wocky/issues/656)
- Server returns 500 error on empty bug shortname [\#629](https://github.com/hippware/wocky/issues/629)
- Generalise push notification generation [\#592](https://github.com/hippware/wocky/issues/592)
- Improve S3 interaction testing [\#541](https://github.com/hippware/wocky/issues/541)
- Server to deny access to clients with empty resource [\#537](https://github.com/hippware/wocky/issues/537)
- Use ExVCR to test 3rd party HTTP APIs [\#430](https://github.com/hippware/wocky/issues/430)
- Home Stream functionality may need scaling [\#300](https://github.com/hippware/wocky/issues/300)
- Optimise mod\_wocky\_mam and message\_archive table [\#173](https://github.com/hippware/wocky/issues/173)
- Update token implementation to more closely follow draft XEP [\#171](https://github.com/hippware/wocky/issues/171)
- Create behavior for indexing backend [\#165](https://github.com/hippware/wocky/issues/165)
- Enhanced cover tool [\#164](https://github.com/hippware/wocky/issues/164)
- Create an edoc mix task [\#162](https://github.com/hippware/wocky/issues/162)

**Merged pull requests:**

- Enable bypass prefixes on staging server [\#675](https://github.com/hippware/wocky/pull/675) ([bernardd](https://github.com/bernardd))
- Fix up conversations interface \(maintaining backwards compatibility\) [\#674](https://github.com/hippware/wocky/pull/674) ([bernardd](https://github.com/bernardd))

## [2017.5.23+2177.2daf71f](https://github.com/hippware/wocky/tree/2017.5.23+2177.2daf71f) (2017-05-23)

[Full Changelog](https://github.com/hippware/wocky/compare/17.5.23+2177.2daf71f...2017.5.23+2177.2daf71f)

## [17.5.23+2177.2daf71f](https://github.com/hippware/wocky/tree/17.5.23+2177.2daf71f) (2017-05-23)

[Full Changelog](https://github.com/hippware/wocky/compare/17.04.26+1768.151aff7...17.5.23+2177.2daf71f)

**Closed issues:**

- \[Wocky/dev\] ErlangError: erlang error: "IQ handler crash: jabber:iq:roster" [\#667](https://github.com/hippware/wocky/issues/667)
- \[Wocky/dev\] ErlangError: erlang error: "IQ handler crash: jabber:iq:roster" [\#666](https://github.com/hippware/wocky/issues/666)
- \[Wocky/dev\] ErlangError: erlang error: "IQ handler crash: jabber:iq:roster" [\#665](https://github.com/hippware/wocky/issues/665)
- \[Wocky/prod\] ErlangError: erlang error: "IQ handler crash: jabber:iq:roster" [\#664](https://github.com/hippware/wocky/issues/664)
- Ensure at least 80% test coverage in all parts of the application [\#652](https://github.com/hippware/wocky/issues/652)
- Remove all Cassandra and Riak related code and configuration from Wocky [\#505](https://github.com/hippware/wocky/issues/505)
- Migrate database seeding to Ecto [\#501](https://github.com/hippware/wocky/issues/501)
- Migrate home stream functionality to Ecto [\#500](https://github.com/hippware/wocky/issues/500)
- Migrate bot functionality to Ecto [\#499](https://github.com/hippware/wocky/issues/499)
- Migrate admin utilities to Ecto [\#493](https://github.com/hippware/wocky/issues/493)
- Discussion: Wrap cookie-based access control around S3 files [\#419](https://github.com/hippware/wocky/issues/419)

**Merged pull requests:**

- Fix client test errors [\#673](https://github.com/hippware/wocky/pull/673) ([toland](https://github.com/toland))
- Change large text fields from BINARY to TEXT type [\#672](https://github.com/hippware/wocky/pull/672) ([bernardd](https://github.com/bernardd))
- Ecto deployment fixes [\#671](https://github.com/hippware/wocky/pull/671) ([toland](https://github.com/toland))
- Change bot description type to allow larger descriptions [\#670](https://github.com/hippware/wocky/pull/670) ([bernardd](https://github.com/bernardd))
- Ecto - fix release build on Jenkins [\#663](https://github.com/hippware/wocky/pull/663) ([toland](https://github.com/toland))
- Dont fail on TODO [\#662](https://github.com/hippware/wocky/pull/662) ([toland](https://github.com/toland))
- Home stream CT test fix [\#661](https://github.com/hippware/wocky/pull/661) ([toland](https://github.com/toland))
- Ecto test enhancements [\#659](https://github.com/hippware/wocky/pull/659) ([toland](https://github.com/toland))
- Fix eunit and ct running from top level app [\#658](https://github.com/hippware/wocky/pull/658) ([bernardd](https://github.com/bernardd))
- Remove Cassandra related code from Wocky [\#651](https://github.com/hippware/wocky/pull/651) ([toland](https://github.com/toland))
- Migrate bots to Ecto [\#649](https://github.com/hippware/wocky/pull/649) ([toland](https://github.com/toland))
- Postgresify the ecto work [\#647](https://github.com/hippware/wocky/pull/647) ([bernardd](https://github.com/bernardd))
- Ecto build fixes [\#645](https://github.com/hippware/wocky/pull/645) ([bernardd](https://github.com/bernardd))
- Ecto home stream [\#642](https://github.com/hippware/wocky/pull/642) ([bernardd](https://github.com/bernardd))
- Better validations and test fixes [\#640](https://github.com/hippware/wocky/pull/640) ([toland](https://github.com/toland))
- Ecto traffic log [\#637](https://github.com/hippware/wocky/pull/637) ([bernardd](https://github.com/bernardd))
- Ecto roster [\#634](https://github.com/hippware/wocky/pull/634) ([bernardd](https://github.com/bernardd))
- Ecto notifications [\#632](https://github.com/hippware/wocky/pull/632) ([toland](https://github.com/toland))
- Ecto search index migration [\#626](https://github.com/hippware/wocky/pull/626) ([toland](https://github.com/toland))
- Ecto ct fixes [\#625](https://github.com/hippware/wocky/pull/625) ([bernardd](https://github.com/bernardd))
- Ecto geoloc [\#624](https://github.com/hippware/wocky/pull/624) ([toland](https://github.com/toland))
- Move TROS to the wocky application [\#621](https://github.com/hippware/wocky/pull/621) ([toland](https://github.com/toland))

## [17.04.26+1768.151aff7](https://github.com/hippware/wocky/tree/17.04.26+1768.151aff7) (2017-04-26)

[Full Changelog](https://github.com/hippware/wocky/compare/17.04.12+1736.ec69c83...17.04.26+1768.151aff7)

**Closed issues:**

- Discuss: Synchronous image processing [\#636](https://github.com/hippware/wocky/issues/636)
- \[Wocky/staging.prod\] ErlangError: erlang error: "IQ handler crash" [\#628](https://github.com/hippware/wocky/issues/628)
- Migrate search index to Ecto [\#627](https://github.com/hippware/wocky/issues/627)
- Add a subscribed derived field to bots. [\#620](https://github.com/hippware/wocky/issues/620)
- User Bulk Query [\#614](https://github.com/hippware/wocky/issues/614)
- Bot share notifications to generate push notifications [\#590](https://github.com/hippware/wocky/issues/590)
- Server to handle longitude values in range \[0,360\] [\#589](https://github.com/hippware/wocky/issues/589)
- Migrate traffic logger to Ecto [\#579](https://github.com/hippware/wocky/issues/579)
- mod\_wocky\_cron startup error prevents ejabberd from starting [\#555](https://github.com/hippware/wocky/issues/555)
- Migrate geoloc functionality to Ecto [\#504](https://github.com/hippware/wocky/issues/504)
- Migrate push notification functionality to Ecto [\#502](https://github.com/hippware/wocky/issues/502)
- Migrate roster functionality to RDS/Ecto [\#466](https://github.com/hippware/wocky/issues/466)
- Consolidate bot visibility and sharing [\#442](https://github.com/hippware/wocky/issues/442)

**Merged pull requests:**

- Bug fixes [\#639](https://github.com/hippware/wocky/pull/639) ([toland](https://github.com/toland))
- Fix handling of empty shortname field [\#633](https://github.com/hippware/wocky/pull/633) ([bernardd](https://github.com/bernardd))
- Event notifications [\#630](https://github.com/hippware/wocky/pull/630) ([toland](https://github.com/toland))

## [17.04.12+1736.ec69c83](https://github.com/hippware/wocky/tree/17.04.12+1736.ec69c83) (2017-04-12)

[Full Changelog](https://github.com/hippware/wocky/compare/17.04.05+1724.8a6709a...17.04.12+1736.ec69c83)

**Fixed bugs:**

- \[Wocky/us1.prod\] ErlangError: erlang error: "IQ handler crash" [\#598](https://github.com/hippware/wocky/issues/598)
- \[Wocky/us1.prod\] ErlangError: erlang error: "IQ handler crash" [\#593](https://github.com/hippware/wocky/issues/593)

**Closed issues:**

- \[Wocky/us1.prod\] ErlangError: erlang error: "IQ handler crash" [\#618](https://github.com/hippware/wocky/issues/618)
- Migrate TROS to Ecto [\#613](https://github.com/hippware/wocky/issues/613)
- Shared 'private' bot is not appeared on HS [\#612](https://github.com/hippware/wocky/issues/612)

**Merged pull requests:**

- Add subscribed field to bot [\#623](https://github.com/hippware/wocky/pull/623) ([bernardd](https://github.com/bernardd))
- 614 bulk user query [\#616](https://github.com/hippware/wocky/pull/616) ([bernardd](https://github.com/bernardd))
- Add extra test for bot sharing [\#615](https://github.com/hippware/wocky/pull/615) ([bernardd](https://github.com/bernardd))

## [17.04.05+1724.8a6709a](https://github.com/hippware/wocky/tree/17.04.05+1724.8a6709a) (2017-04-05)

[Full Changelog](https://github.com/hippware/wocky/compare/17.03.31+1707.7751e35...17.04.05+1724.8a6709a)

**Closed issues:**

- \[Wocky/staging.prod\] ErlangError: erlang error: :killed [\#600](https://github.com/hippware/wocky/issues/600)
- \[Wocky/staging.prod\] ArithmeticError: bad argument in arithmetic expression [\#599](https://github.com/hippware/wocky/issues/599)
- Add owner field to 'geosearch for bots' API [\#573](https://github.com/hippware/wocky/issues/573)
- \[Wocky/testing.prod\] Protocol.UndefinedError: protocol Enumerable not implemented for nil [\#570](https://github.com/hippware/wocky/issues/570)
- Staging: Bot disappears after kill/reload [\#567](https://github.com/hippware/wocky/issues/567)
- Allow publishing to preallocated bot IDs [\#564](https://github.com/hippware/wocky/issues/564)
- \[Wocky/us1.prod\] MatchError: no match of right hand side value: {:error, {8704, "Key may not be empty", :undefined}} [\#563](https://github.com/hippware/wocky/issues/563)
- \[Wocky/staging.prod\] ErlangError: erlang error: "IQ handler crash" [\#561](https://github.com/hippware/wocky/issues/561)
- \[Wocky/staging.prod\] FunctionClauseError: no function clause matches [\#559](https://github.com/hippware/wocky/issues/559)
- \[Wocky/staging.prod\] ErlangError: erlang error: "IQ handler crash" [\#557](https://github.com/hippware/wocky/issues/557)
- \[Wocky/testing.prod\] FunctionClauseError: no function clause matches [\#553](https://github.com/hippware/wocky/issues/553)
- \[Wocky/us1.prod\] ArgumentError: argument error [\#547](https://github.com/hippware/wocky/issues/547)
- Investigate including content-length in signed S3 headers [\#528](https://github.com/hippware/wocky/issues/528)
- Server side thumbnails [\#517](https://github.com/hippware/wocky/issues/517)
- Optimise image download permission lookup [\#495](https://github.com/hippware/wocky/issues/495)
- Migrate messaging functionality to Riak [\#467](https://github.com/hippware/wocky/issues/467)
- Sanitise user-supplied images [\#452](https://github.com/hippware/wocky/issues/452)
- Server-side encryption support [\#431](https://github.com/hippware/wocky/issues/431)

**Merged pull requests:**

- Tiny fix for cron config [\#610](https://github.com/hippware/wocky/pull/610) ([bernardd](https://github.com/bernardd))
- Re add vis changes [\#608](https://github.com/hippware/wocky/pull/608) ([bernardd](https://github.com/bernardd))
- More cron fixes [\#607](https://github.com/hippware/wocky/pull/607) ([bernardd](https://github.com/bernardd))

## [17.03.31+1707.7751e35](https://github.com/hippware/wocky/tree/17.03.31+1707.7751e35) (2017-03-31)

[Full Changelog](https://github.com/hippware/wocky/compare/17.03.31+1704.491f1d9...17.03.31+1707.7751e35)

**Merged pull requests:**

- Fix a badarith error during bot search [\#601](https://github.com/hippware/wocky/pull/601) ([toland](https://github.com/toland))

## [17.03.31+1704.491f1d9](https://github.com/hippware/wocky/tree/17.03.31+1704.491f1d9) (2017-03-31)

[Full Changelog](https://github.com/hippware/wocky/compare/17.03.21+1676.6dfc479...17.03.31+1704.491f1d9)

**Closed issues:**

- \[Wocky/staging.prod\] MatchError: no match of right hand side value: {:error, 400, "{\"message\":\"Invalid value for \\\"aroundLatLng\\\" parameter, expected float for the longitude in the range \[-180, 180\]\",\"status\":400}\n\n"} [\#588](https://github.com/hippware/wocky/issues/588)
- \[Wocky/us1.prod\] MatchError: no match of right hand side value: {:error, 400, "{\"message\":\"Invalid value for \\\"aroundLatLng\\\" parameter, expected float for the longitude in the range \[-180, 180\]\",\"status\":400}\n\n"} [\#587](https://github.com/hippware/wocky/issues/587)
- \[Wocky/us1.prod\] ErlangError: erlang error: "IQ handler crash" [\#586](https://github.com/hippware/wocky/issues/586)
- \[Wocky/testing.prod\] MatchError: no match of right hand side value: {:error, 400, "{\"message\":\"indexName is not valid\",\"status\":400}"} [\#582](https://github.com/hippware/wocky/issues/582)
- \[Wocky/staging.prod\] ErlangError: erlang error: "IQ handler crash" [\#578](https://github.com/hippware/wocky/issues/578)
- \[Wocky/staging.prod\] MatchError: no match of right hand side value: {:error, 400, "{\"message\":\"Invalid value for \\\"aroundLatLng\\\" parameter, expected float for the longitude in the range \[-180, 180\]\",\"status\":400}\n\n"} [\#577](https://github.com/hippware/wocky/issues/577)
- \[Wocky/staging.prod\] ErlangError: erlang error: "IQ handler crash" [\#575](https://github.com/hippware/wocky/issues/575)
- Server initiation of Push Notifications [\#325](https://github.com/hippware/wocky/issues/325)

**Merged pull requests:**

- Fix xref error [\#597](https://github.com/hippware/wocky/pull/597) ([bernardd](https://github.com/bernardd))
- Lint fixes [\#596](https://github.com/hippware/wocky/pull/596) ([bernardd](https://github.com/bernardd))
- 590 bot share notifications [\#595](https://github.com/hippware/wocky/pull/595) ([bernardd](https://github.com/bernardd))
- Fix slack upload and crone task [\#594](https://github.com/hippware/wocky/pull/594) ([bernardd](https://github.com/bernardd))
- Normalise lat/lon before passing to Algolia [\#591](https://github.com/hippware/wocky/pull/591) ([bernardd](https://github.com/bernardd))
- Add reindex CLI command [\#583](https://github.com/hippware/wocky/pull/583) ([bernardd](https://github.com/bernardd))

## [17.03.21+1676.6dfc479](https://github.com/hippware/wocky/tree/17.03.21+1676.6dfc479) (2017-03-21)

[Full Changelog](https://github.com/hippware/wocky/compare/17.03.08+1639.1ad8af1...17.03.21+1676.6dfc479)

**Closed issues:**

- \[Wocky/testing.prod\] ErlangError: erlang error: "IQ handler crash" [\#571](https://github.com/hippware/wocky/issues/571)
- \[Wocky/testing.prod\] FunctionClauseError: no function clause matches [\#558](https://github.com/hippware/wocky/issues/558)
- Migrate user functionality to Riak [\#494](https://github.com/hippware/wocky/issues/494)
- Examine XMPP protocol for irregularities [\#424](https://github.com/hippware/wocky/issues/424)

**Merged pull requests:**

- Backout sharing changes [\#581](https://github.com/hippware/wocky/pull/581) ([bernardd](https://github.com/bernardd))
- Add owner field to bot index [\#580](https://github.com/hippware/wocky/pull/580) ([bernardd](https://github.com/bernardd))
- Add error handling for unconfigured indices [\#572](https://github.com/hippware/wocky/pull/572) ([bernardd](https://github.com/bernardd))
- Remove 100 row limit on standard selects [\#568](https://github.com/hippware/wocky/pull/568) ([bernardd](https://github.com/bernardd))
- Fix crash when digits gives us an empty number [\#566](https://github.com/hippware/wocky/pull/566) ([bernardd](https://github.com/bernardd))
- Allow publishing to preallocated bot ID [\#565](https://github.com/hippware/wocky/pull/565) ([bernardd](https://github.com/bernardd))
- 442 consolidate vis share [\#552](https://github.com/hippware/wocky/pull/552) ([bernardd](https://github.com/bernardd))

## [17.03.08+1639.1ad8af1](https://github.com/hippware/wocky/tree/17.03.08+1639.1ad8af1) (2017-03-08)

[Full Changelog](https://github.com/hippware/wocky/compare/17.03.08+1630.d3c1e18...17.03.08+1639.1ad8af1)

**Merged pull requests:**

- Fix a typo in the SNS result handler [\#562](https://github.com/hippware/wocky/pull/562) ([toland](https://github.com/toland))
- Two more production bugfixes [\#560](https://github.com/hippware/wocky/pull/560) ([toland](https://github.com/toland))
- Disable mod\_wocky\_cron until the bugs can be fixed [\#556](https://github.com/hippware/wocky/pull/556) ([toland](https://github.com/toland))
- Update exometer\_cloudwatch to get a crucial bugfix [\#554](https://github.com/hippware/wocky/pull/554) ([toland](https://github.com/toland))

## [17.03.08+1630.d3c1e18](https://github.com/hippware/wocky/tree/17.03.08+1630.d3c1e18) (2017-03-08)

[Full Changelog](https://github.com/hippware/wocky/compare/17.02.28+1578.5066239...17.03.08+1630.d3c1e18)

**Closed issues:**

- \[Wocky/staging.prod\] ArgumentError: argument error [\#546](https://github.com/hippware/wocky/issues/546)
- \[Wocky/testing.prod\] ArgumentError: argument error [\#545](https://github.com/hippware/wocky/issues/545)
- List of bot images to be sorted by timestamp, then post id [\#531](https://github.com/hippware/wocky/issues/531)
- Don't include owner in subscriber count [\#524](https://github.com/hippware/wocky/issues/524)
- Migrate privacy functionality to Riak [\#513](https://github.com/hippware/wocky/issues/513)
- Weekly database report [\#490](https://github.com/hippware/wocky/issues/490)
- Startup can fail due to mnesia transform error [\#488](https://github.com/hippware/wocky/issues/488)
- Fix permissions for some images on the server [\#416](https://github.com/hippware/wocky/issues/416)

**Merged pull requests:**

- Update to latest tzdata [\#550](https://github.com/hippware/wocky/pull/550) ([bernardd](https://github.com/bernardd))
- Fix spelling [\#544](https://github.com/hippware/wocky/pull/544) ([bernardd](https://github.com/bernardd))
- Add missing cron module [\#543](https://github.com/hippware/wocky/pull/543) ([bernardd](https://github.com/bernardd))
- Fix return matching on auth:headers [\#542](https://github.com/hippware/wocky/pull/542) ([bernardd](https://github.com/bernardd))
- Use a fork of Slackex that fixes warnings [\#538](https://github.com/hippware/wocky/pull/538) ([toland](https://github.com/toland))
- 528 s3 content length [\#536](https://github.com/hippware/wocky/pull/536) ([bernardd](https://github.com/bernardd))
- Fix tros delete [\#534](https://github.com/hippware/wocky/pull/534) ([bernardd](https://github.com/bernardd))
- Image reprocess cli [\#533](https://github.com/hippware/wocky/pull/533) ([bernardd](https://github.com/bernardd))
- Lambda image thumbnails [\#526](https://github.com/hippware/wocky/pull/526) ([bernardd](https://github.com/bernardd))

## [17.02.28+1578.5066239](https://github.com/hippware/wocky/tree/17.02.28+1578.5066239) (2017-02-28)

[Full Changelog](https://github.com/hippware/wocky/compare/17.02.14+1549.1b6c728...17.02.28+1578.5066239)

**Fixed bugs:**

- \[Wocky/staging.prod\] MatchError: no match of right hand side value: {:error, 400, "{\"message\":\"indexName is not valid\",\"status\":400}"} [\#510](https://github.com/hippware/wocky/issues/510)
- \[Wocky/staging.prod\] ErlangError: erlang error: "IQ handler crash" [\#461](https://github.com/hippware/wocky/issues/461)
- Fix push notifications for Production [\#457](https://github.com/hippware/wocky/issues/457)
- Authorization failure on staging [\#453](https://github.com/hippware/wocky/issues/453)
- mnesia schema upgrades not occuring for `ram` tables [\#450](https://github.com/hippware/wocky/issues/450)
- Undo short-term push notification work-around [\#382](https://github.com/hippware/wocky/issues/382)

**Closed issues:**

- Make it harder to choose the wrong build to deploy [\#525](https://github.com/hippware/wocky/issues/525)
- Add CW alarm for non-running node [\#523](https://github.com/hippware/wocky/issues/523)
- Send deployment notifications to \#dev-deployments [\#520](https://github.com/hippware/wocky/issues/520)
- \[Wocky/us1.prod\] ErlangError: erlang error: "IQ handler crash" [\#519](https://github.com/hippware/wocky/issues/519)
- Review 'server down' incident [\#484](https://github.com/hippware/wocky/issues/484)
- Add a changelog [\#482](https://github.com/hippware/wocky/issues/482)
- Add CLI to generate a new authentication token for a user [\#478](https://github.com/hippware/wocky/issues/478)
- Update standard modules with Cassandra backends and no custom behavior [\#465](https://github.com/hippware/wocky/issues/465)
- Add git tag for each deployed release [\#463](https://github.com/hippware/wocky/issues/463)
- Disable geo-fence alerts [\#441](https://github.com/hippware/wocky/issues/441)
- Add tags to bots [\#440](https://github.com/hippware/wocky/issues/440)
- Stop forking unread messages to the Home Stream [\#434](https://github.com/hippware/wocky/issues/434)
- Verify consistent device ID for resource binding and push notifications [\#426](https://github.com/hippware/wocky/issues/426)
- Allow null title \(and other required data\) for bots [\#414](https://github.com/hippware/wocky/issues/414)

**Merged pull requests:**

- 490 weekly report fixes [\#535](https://github.com/hippware/wocky/pull/535) ([bernardd](https://github.com/bernardd))
- Add lexicographic ordering on id as tie-breaker for bot item ordering [\#532](https://github.com/hippware/wocky/pull/532) ([bernardd](https://github.com/bernardd))
- Remove owner from subscribers list [\#529](https://github.com/hippware/wocky/pull/529) ([bernardd](https://github.com/bernardd))
- Re-enable mnesia transform with better error handling [\#527](https://github.com/hippware/wocky/pull/527) ([bernardd](https://github.com/bernardd))
- Disable mnesia migration for now [\#522](https://github.com/hippware/wocky/pull/522) ([bernardd](https://github.com/bernardd))
- Fix config typo [\#521](https://github.com/hippware/wocky/pull/521) ([bernardd](https://github.com/bernardd))
- 482 add changelog [\#518](https://github.com/hippware/wocky/pull/518) ([bengtan](https://github.com/bengtan))
- 490 report gen [\#515](https://github.com/hippware/wocky/pull/515) ([bernardd](https://github.com/bernardd))

## [17.02.14+1549.1b6c728](https://github.com/hippware/wocky/tree/17.02.14+1549.1b6c728) (2017-02-14)

[Full Changelog](https://github.com/hippware/wocky/compare/17.02.14+1545.001dfdc...17.02.14+1549.1b6c728)

**Closed issues:**

- Rebuild search indexes \(x2\) [\#508](https://github.com/hippware/wocky/issues/508)
- Remove group chat [\#492](https://github.com/hippware/wocky/issues/492)
- Remove francus [\#491](https://github.com/hippware/wocky/issues/491)
- Prepare the Wocky repository for Riak [\#464](https://github.com/hippware/wocky/issues/464)

**Merged pull requests:**

- Re-enable dialyzer on Jenkins build [\#511](https://github.com/hippware/wocky/pull/511) ([bernardd](https://github.com/bernardd))

## [17.02.14+1545.001dfdc](https://github.com/hippware/wocky/tree/17.02.14+1545.001dfdc) (2017-02-13)

[Full Changelog](https://github.com/hippware/wocky/compare/17.02.08+1539.943a153...17.02.14+1545.001dfdc)

**Closed issues:**

- Migrate file attachment functionality to Riak [\#503](https://github.com/hippware/wocky/issues/503)
- Discussion: Database viewer [\#485](https://github.com/hippware/wocky/issues/485)
- Discuss: Migrate to XEP-0363 HTTP file upload [\#479](https://github.com/hippware/wocky/issues/479)
- Add Riak to the AWS infrastructure [\#470](https://github.com/hippware/wocky/issues/470)
- Audit the code for calls that rely on Cassandra [\#468](https://github.com/hippware/wocky/issues/468)

**Merged pull requests:**

- Fix a typo when getting the current index name [\#512](https://github.com/hippware/wocky/pull/512) ([toland](https://github.com/toland))
- Add day and week durations; add milisecond resolution [\#498](https://github.com/hippware/wocky/pull/498) ([bernardd](https://github.com/bernardd))
- Add wait\_for\_tables call [\#489](https://github.com/hippware/wocky/pull/489) ([bernardd](https://github.com/bernardd))

## [17.02.08+1539.943a153](https://github.com/hippware/wocky/tree/17.02.08+1539.943a153) (2017-02-08)

[Full Changelog](https://github.com/hippware/wocky/compare/17.02.02+1521...17.02.08+1539.943a153)

**Closed issues:**

- Add bot cover photo [\#475](https://github.com/hippware/wocky/issues/475)
- Paging for bot images [\#474](https://github.com/hippware/wocky/issues/474)
- Verify stream resumption is working [\#473](https://github.com/hippware/wocky/issues/473)
- Clean up Staging DB [\#448](https://github.com/hippware/wocky/issues/448)
- Verify that Stream Resumption works [\#432](https://github.com/hippware/wocky/issues/432)

**Merged pull requests:**

- Add the Git SHA of HEAD to the version number [\#481](https://github.com/hippware/wocky/pull/481) ([toland](https://github.com/toland))
- 478 cli token gen [\#480](https://github.com/hippware/wocky/pull/480) ([bernardd](https://github.com/bernardd))
- 440 add bot tags [\#476](https://github.com/hippware/wocky/pull/476) ([bernardd](https://github.com/bernardd))
- 414 add new-id function to bots [\#472](https://github.com/hippware/wocky/pull/472) ([bernardd](https://github.com/bernardd))
- Remove chat messages from home stream [\#471](https://github.com/hippware/wocky/pull/471) ([bernardd](https://github.com/bernardd))

## [17.02.02+1521](https://github.com/hippware/wocky/tree/17.02.02+1521) (2017-02-02)

[Full Changelog](https://github.com/hippware/wocky/compare/13cf55cfddf09e208bdd20a62fd74cd9e5ee14a2...17.02.02+1521)

**Fixed bugs:**

- HS items retrieved in wrong order [\#421](https://github.com/hippware/wocky/issues/421)
- PEP updates should not be routed to the Home Stream [\#418](https://github.com/hippware/wocky/issues/418)
- Too many unnecessary location updates sent to client [\#417](https://github.com/hippware/wocky/issues/417)
- \[Wocky/us1\] ErlangError: erlang error: {:timeout, {:gen\_server, :call, \[\#PID\<0.2154.0\>, {:send\_query, \#Reference\<0.0.30146561.43259\>, {:cql\_query, "SELECT bot, server FROM subscribed\_bot WHERE user = ?", :wocky\_prod\_shared, %{user: "7548d9aa-c489-11e6-aa49-0ef077a86a92@us1.prod.tinyrobot.com"}, true, false, 100, :undefined, :quorum, :undefined, :undefined, false}}, 30000\]}} [\#415](https://github.com/hippware/wocky/issues/415)
- Many duplicate push notifications [\#400](https://github.com/hippware/wocky/issues/400)
- \[Wocky/us1\] ErlangError: erlang error: {:process\_limit, {:max\_queue, 1003}} [\#393](https://github.com/hippware/wocky/issues/393)
- User and bot indexing in prod still using staging indexes [\#391](https://github.com/hippware/wocky/issues/391)
- Users receiving multiple push notifications for messages [\#390](https://github.com/hippware/wocky/issues/390)
- Cassandra not accepting writes \(Production\) [\#388](https://github.com/hippware/wocky/issues/388)
- Stanzas are being dropped when app goes offline [\#384](https://github.com/hippware/wocky/issues/384)
- Error in home stream notification generation [\#381](https://github.com/hippware/wocky/issues/381)
- Geofence Notification Bugs [\#379](https://github.com/hippware/wocky/issues/379)
- Phantom users "NewHandle" and "null" [\#372](https://github.com/hippware/wocky/issues/372)
- Sharing an already-shared bot doesn't generate HS notification [\#367](https://github.com/hippware/wocky/issues/367)
- Assist "HS shows bot entered" \(rnchat 265\) [\#366](https://github.com/hippware/wocky/issues/366)
- Geo-fence alerts should only notify bot owners, not subscribers [\#365](https://github.com/hippware/wocky/issues/365)
- Not all text messages received [\#357](https://github.com/hippware/wocky/issues/357)
- Sporadic push notifications [\#356](https://github.com/hippware/wocky/issues/356)
- Geo-fence alerts not working [\#346](https://github.com/hippware/wocky/issues/346)
- Bot Owners should not receive notifications for their own actions [\#332](https://github.com/hippware/wocky/issues/332)
- Bot Followers list off by one?  [\#326](https://github.com/hippware/wocky/issues/326)
- Use mnesia for session management [\#306](https://github.com/hippware/wocky/issues/306)
- Fix multi-node Home Stream functionality [\#305](https://github.com/hippware/wocky/issues/305)
- Send notification to followers who can see a public bot [\#301](https://github.com/hippware/wocky/issues/301)
- Algolia is exposing email field \(and maybe others\) [\#271](https://github.com/hippware/wocky/issues/271)
- Server: Email field is exposed [\#270](https://github.com/hippware/wocky/issues/270)
- Owner cannot unfollow an owned bot [\#269](https://github.com/hippware/wocky/issues/269)
- Catch crashes/errors in IQ handlers [\#245](https://github.com/hippware/wocky/issues/245)
- Validate/test migrations [\#243](https://github.com/hippware/wocky/issues/243)
- Function clause error in wocky\_db\_roster:has\_contact/2 [\#225](https://github.com/hippware/wocky/issues/225)
- Cannot get last page of bot listing with empty 'before'  [\#221](https://github.com/hippware/wocky/issues/221)
- Bot with undefined shortname cannot be removed and retrieved [\#220](https://github.com/hippware/wocky/issues/220)
- Change default order of item retrieval to be ascending datetime [\#218](https://github.com/hippware/wocky/issues/218)
- Bot radius field to be in millimetres [\#217](https://github.com/hippware/wocky/issues/217)
- Do database schema creation once when running eunit or CT tests [\#209](https://github.com/hippware/wocky/issues/209)
- Define the TEST macro when running in the "test" Mix environment [\#208](https://github.com/hippware/wocky/issues/208)
- tros\_francus\_http crash in staging [\#151](https://github.com/hippware/wocky/issues/151)

**Closed issues:**

- Split app servers over availability zones [\#459](https://github.com/hippware/wocky/issues/459)
- Home stream subscriptions not cleaned up [\#436](https://github.com/hippware/wocky/issues/436)
- Paging API for own bots doesn't work [\#435](https://github.com/hippware/wocky/issues/435)
- Send notifications to devops staff if server needs attention [\#433](https://github.com/hippware/wocky/issues/433)
- HS notifications not to be stored offline [\#427](https://github.com/hippware/wocky/issues/427)
- Review: Offline messages facility [\#423](https://github.com/hippware/wocky/issues/423)
- Deploy MIM 2.0/Erlang 19.2/Elixir 1.4 [\#413](https://github.com/hippware/wocky/issues/413)
- Change testing cluster to use S3 [\#412](https://github.com/hippware/wocky/issues/412)
- Evaluate Riak as a possible replacement for Cassandra [\#411](https://github.com/hippware/wocky/issues/411)
- Support IPv6 on the server side [\#406](https://github.com/hippware/wocky/issues/406)
- Reload Staging algolia search index\(es\) with Staging data [\#402](https://github.com/hippware/wocky/issues/402)
- Ensure server is adding \_\_new\_\_ to new contacts [\#399](https://github.com/hippware/wocky/issues/399)
- Add feature flag for location updates on bots with follow me [\#389](https://github.com/hippware/wocky/issues/389)
- Push notifications should use '1' as the badge number [\#387](https://github.com/hippware/wocky/issues/387)
- \[Wocky/staging\] ErlangError: erlang error: {:process\_limit, {:max\_queue, 1004}} [\#386](https://github.com/hippware/wocky/issues/386)
- \[Wocky/us1\] MatchError: no match of right hand side value: {:error, {5376, "Operation failed - received 0 responses and 1 failures", {4, 0, 2, 1, "BATCH"}}} [\#385](https://github.com/hippware/wocky/issues/385)
- Migrate development environments to S3 [\#374](https://github.com/hippware/wocky/issues/374)
- Geo-fence push notifications [\#373](https://github.com/hippware/wocky/issues/373)
- Reserved user handles [\#368](https://github.com/hippware/wocky/issues/368)
- \[Wocky/Production\] UndefinedFunctionError: undefined function [\#362](https://github.com/hippware/wocky/issues/362)
- \[Wocky/Production\] ErlangError: erlang error: "IQ handler crash" [\#361](https://github.com/hippware/wocky/issues/361)
- Include subscriber count in bot subscribe/unsubscribe response [\#358](https://github.com/hippware/wocky/issues/358)
- Don't include bot share messages into list of conversations [\#355](https://github.com/hippware/wocky/issues/355)
- Discuss: Backup regime [\#354](https://github.com/hippware/wocky/issues/354)
- Bots should not allow multiple subscriptions of the same user [\#353](https://github.com/hippware/wocky/issues/353)
- \[Wocky/Production\] File.Error: could not read file "this\_file\_really\_should\_exist\_dang\_it.txt": no such file or directory [\#351](https://github.com/hippware/wocky/issues/351)
- Create new Production environment [\#347](https://github.com/hippware/wocky/issues/347)
- Error reporting service integration [\#343](https://github.com/hippware/wocky/issues/343)
- \[Wocky/Testing\] ErlangError: erlang error: "IQ handler crash" [\#342](https://github.com/hippware/wocky/issues/342)
- Programmatic force friend ability [\#341](https://github.com/hippware/wocky/issues/341)
- Look for phantom "blank" users in the DB [\#331](https://github.com/hippware/wocky/issues/331)
- Pre-seeding of bots [\#323](https://github.com/hippware/wocky/issues/323)
- Preparation for Production [\#322](https://github.com/hippware/wocky/issues/322)
- "Follow me" Home Stream notifications [\#321](https://github.com/hippware/wocky/issues/321)
- Bot item\_images request should be available to anyone with bot access [\#318](https://github.com/hippware/wocky/issues/318)
- Update the wiki for bot visibility: Everyone  [\#313](https://github.com/hippware/wocky/issues/313)
- Implement bot visibility: Everyone  [\#312](https://github.com/hippware/wocky/issues/312)
- Track client-originated bot shares on the server side [\#311](https://github.com/hippware/wocky/issues/311)
- Change Public visibility to Everyone visibility [\#310](https://github.com/hippware/wocky/issues/310)
- Geo-search for bots [\#307](https://github.com/hippware/wocky/issues/307)
- Server-side validation of client-originated bot messages [\#299](https://github.com/hippware/wocky/issues/299)
- Discuss about front-end sign in issues [\#297](https://github.com/hippware/wocky/issues/297)
- Add messages to Location API error responses. [\#296](https://github.com/hippware/wocky/issues/296)
- Route geo-fence alert messages to the Home Stream [\#291](https://github.com/hippware/wocky/issues/291)
- Bot geo-fence alerts [\#290](https://github.com/hippware/wocky/issues/290)
- Add temporary bot subscriptions via directed presence [\#289](https://github.com/hippware/wocky/issues/289)
- Rename followers to subscribers [\#288](https://github.com/hippware/wocky/issues/288)
- Handle bot publishing messages in Home Stream [\#285](https://github.com/hippware/wocky/issues/285)
- Route some bot messages to the Home Stream [\#283](https://github.com/hippware/wocky/issues/283)
- Send notification to users who can see a non-public bot [\#282](https://github.com/hippware/wocky/issues/282)
- Home Stream: Insert 'Share bot' messages as non-overwritable [\#278](https://github.com/hippware/wocky/issues/278)
- Add new bot visibility: All followers [\#277](https://github.com/hippware/wocky/issues/277)
- Discussion: Home Stream and push notifications [\#274](https://github.com/hippware/wocky/issues/274)
- Retrieve bot image additional info  [\#266](https://github.com/hippware/wocky/issues/266)
- Server side image processing [\#264](https://github.com/hippware/wocky/issues/264)
- Server-side "Follow me" bot functionality [\#256](https://github.com/hippware/wocky/issues/256)
- HTTP server for location upload [\#255](https://github.com/hippware/wocky/issues/255)
- Non-friend restrictions  [\#250](https://github.com/hippware/wocky/issues/250)
- Websockets for staging [\#249](https://github.com/hippware/wocky/issues/249)
- Assist with investigating "offline" issues [\#248](https://github.com/hippware/wocky/issues/248)
- Multicast; Send to friends/followers [\#242](https://github.com/hippware/wocky/issues/242)
- Retrieve list of images from bot [\#235](https://github.com/hippware/wocky/issues/235)
- Owned bot is followed bot [\#232](https://github.com/hippware/wocky/issues/232)
- Bot fields: Number of followers, number of images [\#229](https://github.com/hippware/wocky/issues/229)
- Update app badge count when sending notifications [\#226](https://github.com/hippware/wocky/issues/226)
- New bot field geoinfo [\#224](https://github.com/hippware/wocky/issues/224)
- Retrieve list of "followed" bots. Bot ordering x2.  [\#223](https://github.com/hippware/wocky/issues/223)
- Home Stream baseline functionality [\#219](https://github.com/hippware/wocky/issues/219)
- Remove purpose field from tros files [\#205](https://github.com/hippware/wocky/issues/205)
- New bot field: image [\#202](https://github.com/hippware/wocky/issues/202)
- New bot field: type [\#201](https://github.com/hippware/wocky/issues/201)
- Move bot table to shared keyspace [\#199](https://github.com/hippware/wocky/issues/199)
- Handle bot owner deletion [\#198](https://github.com/hippware/wocky/issues/198)
- Discussion: Single shared Cassandra keyspace [\#197](https://github.com/hippware/wocky/issues/197)
- Per user bot retrieval - cross server [\#196](https://github.com/hippware/wocky/issues/196)
- Discussion: XMPP Data Consistency Issues [\#194](https://github.com/hippware/wocky/issues/194)
- Discussion: Follower updates [\#189](https://github.com/hippware/wocky/issues/189)
- Spatial search algorithm [\#188](https://github.com/hippware/wocky/issues/188)
- Discussion: Client resource names and binding [\#187](https://github.com/hippware/wocky/issues/187)
- Permissions for image notes [\#182](https://github.com/hippware/wocky/issues/182)
- Access control query \(entity-to-entity\) [\#181](https://github.com/hippware/wocky/issues/181)
- User module: Notifying interested entities [\#180](https://github.com/hippware/wocky/issues/180)
- Bots: Publishing [\#177](https://github.com/hippware/wocky/issues/177)
- Make XMPP mobile network friendly [\#176](https://github.com/hippware/wocky/issues/176)
- Reduce "chattiness" of XMPP packets to the mobile device.  [\#175](https://github.com/hippware/wocky/issues/175)
- Require XMPP acknowledgements \(XEP 0198 Stream management\) [\#174](https://github.com/hippware/wocky/issues/174)
- Push notification service/support [\#168](https://github.com/hippware/wocky/issues/168)
- mix xref doesn't work [\#163](https://github.com/hippware/wocky/issues/163)
- tros\_francus\_http makes several round trips for the same data [\#160](https://github.com/hippware/wocky/issues/160)
- Remove assumptions of Francus in Wocky code [\#159](https://github.com/hippware/wocky/issues/159)
- Manage non-server AWS resources with Ansible [\#158](https://github.com/hippware/wocky/issues/158)

**Merged pull requests:**

- Fix an error when registering for notifications [\#462](https://github.com/hippware/wocky/pull/462) ([toland](https://github.com/toland))
- Fix response code for auth failure [\#460](https://github.com/hippware/wocky/pull/460) ([bernardd](https://github.com/bernardd))
- 416 add CLI to fix broken bot image permissions [\#456](https://github.com/hippware/wocky/pull/456) ([bernardd](https://github.com/bernardd))
- Handle change to HS mnesia ram table schema [\#454](https://github.com/hippware/wocky/pull/454) ([bernardd](https://github.com/bernardd))
- Fix notifications in production [\#447](https://github.com/hippware/wocky/pull/447) ([toland](https://github.com/toland))
- Disable geofence notifications [\#446](https://github.com/hippware/wocky/pull/446) ([toland](https://github.com/toland))
- Revert workarounds for multiple resource ID issue [\#445](https://github.com/hippware/wocky/pull/445) ([toland](https://github.com/toland))
- Update Credo [\#444](https://github.com/hippware/wocky/pull/444) ([toland](https://github.com/toland))
- Make publishing notify messages 'headline' type [\#439](https://github.com/hippware/wocky/pull/439) ([bernardd](https://github.com/bernardd))
- Limit HS subscriptions to one per resource [\#438](https://github.com/hippware/wocky/pull/438) ([bernardd](https://github.com/bernardd))
- Simplify config for SNS and Algolia [\#437](https://github.com/hippware/wocky/pull/437) ([toland](https://github.com/toland))
- Support instance names [\#428](https://github.com/hippware/wocky/pull/428) ([toland](https://github.com/toland))
- Filter PEP events from home stream [\#425](https://github.com/hippware/wocky/pull/425) ([bernardd](https://github.com/bernardd))
- Fix 100 result limit on home stream loading [\#422](https://github.com/hippware/wocky/pull/422) ([bernardd](https://github.com/bernardd))
- Update to Elixir 1.4 [\#410](https://github.com/hippware/wocky/pull/410) ([toland](https://github.com/toland))
- Experimentally raise the max\_fsm\_queue limit [\#409](https://github.com/hippware/wocky/pull/409) ([toland](https://github.com/toland))
- Update to the released version of MongooseIM 2.0 [\#408](https://github.com/hippware/wocky/pull/408) ([toland](https://github.com/toland))
- Don't index fields that are null [\#407](https://github.com/hippware/wocky/pull/407) ([toland](https://github.com/toland))
- Add reserved handle support [\#405](https://github.com/hippware/wocky/pull/405) ([bernardd](https://github.com/bernardd))
- S3 production user key [\#404](https://github.com/hippware/wocky/pull/404) ([bernardd](https://github.com/bernardd))
- Replaces Graphite exometer backend with CloudWatch [\#403](https://github.com/hippware/wocky/pull/403) ([bernardd](https://github.com/bernardd))
- Use the user\_send\_packet hook for push notifications [\#401](https://github.com/hippware/wocky/pull/401) ([toland](https://github.com/toland))
- Add resource filtering to traffic dumping [\#397](https://github.com/hippware/wocky/pull/397) ([bernardd](https://github.com/bernardd))
- Fix production to use correct algolia indices [\#396](https://github.com/hippware/wocky/pull/396) ([bernardd](https://github.com/bernardd))
- Set badge to 1 on push notifications [\#395](https://github.com/hippware/wocky/pull/395) ([toland](https://github.com/toland))
- Query result limit fixes [\#394](https://github.com/hippware/wocky/pull/394) ([bernardd](https://github.com/bernardd))
- Several MVP fixes [\#392](https://github.com/hippware/wocky/pull/392) ([toland](https://github.com/toland))
- 381 home stream notification error [\#383](https://github.com/hippware/wocky/pull/383) ([bernardd](https://github.com/bernardd))
- Traffic log [\#378](https://github.com/hippware/wocky/pull/378) ([bernardd](https://github.com/bernardd))
- Add reference\_url to S3 upload response [\#377](https://github.com/hippware/wocky/pull/377) ([bernardd](https://github.com/bernardd))
- Re-add push notifications for bot entry/exit events [\#376](https://github.com/hippware/wocky/pull/376) ([bernardd](https://github.com/bernardd))
- Turn on S3 for testing and staging [\#375](https://github.com/hippware/wocky/pull/375) ([bernardd](https://github.com/bernardd))
- Create new 'us1' prod environment [\#371](https://github.com/hippware/wocky/pull/371) ([toland](https://github.com/toland))
- Fix expires\_at field calculation in auth\_token table [\#370](https://github.com/hippware/wocky/pull/370) ([bernardd](https://github.com/bernardd))
- Make bot entry/exit notifications only go to owner's HS [\#369](https://github.com/hippware/wocky/pull/369) ([bernardd](https://github.com/bernardd))
- Set Honeybadger environment to appropriate deployment [\#364](https://github.com/hippware/wocky/pull/364) ([bernardd](https://github.com/bernardd))
- Fix undefined function error in staging [\#363](https://github.com/hippware/wocky/pull/363) ([toland](https://github.com/toland))
- Even more location fixes [\#360](https://github.com/hippware/wocky/pull/360) ([toland](https://github.com/toland))
- Add subscriber count to result of subscribe/unsubscribe [\#359](https://github.com/hippware/wocky/pull/359) ([bernardd](https://github.com/bernardd))
- Encrypt Algolia and Graphite keys [\#350](https://github.com/hippware/wocky/pull/350) ([bernardd](https://github.com/bernardd))
- Push notification fixes [\#349](https://github.com/hippware/wocky/pull/349) ([toland](https://github.com/toland))
- 159 s3 migration script + switchover [\#348](https://github.com/hippware/wocky/pull/348) ([bernardd](https://github.com/bernardd))
- 341 force friend [\#345](https://github.com/hippware/wocky/pull/345) ([bernardd](https://github.com/bernardd))
- Add honeybadger integration [\#344](https://github.com/hippware/wocky/pull/344) ([bernardd](https://github.com/bernardd))
- Handle a timeout when getting request body [\#340](https://github.com/hippware/wocky/pull/340) ([toland](https://github.com/toland))
- Fix a crash when building an error message [\#339](https://github.com/hippware/wocky/pull/339) ([toland](https://github.com/toland))
- More location fixes [\#338](https://github.com/hippware/wocky/pull/338) ([toland](https://github.com/toland))
- 307 Geosearch for bots \(explore nearby\) [\#337](https://github.com/hippware/wocky/pull/337) ([toland](https://github.com/toland))
- Exclude bot owner from publish notifications [\#335](https://github.com/hippware/wocky/pull/335) ([bernardd](https://github.com/bernardd))
- 321 follow me hs notify [\#334](https://github.com/hippware/wocky/pull/334) ([bernardd](https://github.com/bernardd))
- Bot collision logging [\#333](https://github.com/hippware/wocky/pull/333) ([toland](https://github.com/toland))
- 312 everyone bot visibility [\#328](https://github.com/hippware/wocky/pull/328) ([bernardd](https://github.com/bernardd))
- 311 track bot shares [\#327](https://github.com/hippware/wocky/pull/327) ([bernardd](https://github.com/bernardd))
- 289 temp bot subscriptions [\#324](https://github.com/hippware/wocky/pull/324) ([bernardd](https://github.com/bernardd))
- Change item\_images request to be allowed to followers [\#319](https://github.com/hippware/wocky/pull/319) ([bernardd](https://github.com/bernardd))
- Fix xref [\#317](https://github.com/hippware/wocky/pull/317) ([bernardd](https://github.com/bernardd))
- Change default privacy list to block some messages [\#316](https://github.com/hippware/wocky/pull/316) ([bernardd](https://github.com/bernardd))
- Fix sort ordering of created bots [\#315](https://github.com/hippware/wocky/pull/315) ([bernardd](https://github.com/bernardd))
- Change unowned bot error to FORBIDDEN [\#314](https://github.com/hippware/wocky/pull/314) ([bernardd](https://github.com/bernardd))
- Fix release [\#309](https://github.com/hippware/wocky/pull/309) ([toland](https://github.com/toland))
- Bot subscriber to shared [\#308](https://github.com/hippware/wocky/pull/308) ([bernardd](https://github.com/bernardd))
- Remove wocky session manager [\#304](https://github.com/hippware/wocky/pull/304) ([bernardd](https://github.com/bernardd))
- Fix multi-node HS subscription [\#303](https://github.com/hippware/wocky/pull/303) ([bernardd](https://github.com/bernardd))
- 290 bot geofence alerts [\#302](https://github.com/hippware/wocky/pull/302) ([toland](https://github.com/toland))
- Server side "follow me" for bots [\#294](https://github.com/hippware/wocky/pull/294) ([toland](https://github.com/toland))
- 159 tros s3 config [\#284](https://github.com/hippware/wocky/pull/284) ([bernardd](https://github.com/bernardd))



\* *This Changelog was automatically generated by [github_changelog_generator](https://github.com/github-changelog-generator/github-changelog-generator)*
